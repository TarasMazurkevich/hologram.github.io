"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:void 0,function(h,e){var f=[],c=f.slice,m=f.concat,s=f.push,i=f.indexOf,n={},t=n.toString,g=n.hasOwnProperty,y={},r="1.11.2",C=function e(t,n){return new e.fn.init(t,n)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,a=/^-ms-/,l=/-([\da-z])/gi,u=function(e,t){return t.toUpperCase()};function d(e){var t=e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}C.fn=C.prototype={jquery:r,constructor:C,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:f.sort,splice:f.splice},C.extend=C.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"===_typeof(a)||C.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(u&&n&&(C.isPlainObject(n)||(t=C.isArray(n)))?(o=t?(t=!1,e&&C.isArray(e)?e:[]):e&&C.isPlainObject(e)?e:{},a[r]=C.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},C.extend({expando:"jQuery"+(r+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!C.isArray(e)&&0<=e-parseFloat(e)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(y.ownLast)for(t in e)return g.call(e,t);for(t in e);return void 0===t||g.call(e,t)},type:function(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?n[t.call(e)]||"object":_typeof(e)},globalEval:function(e){e&&C.trim(e)&&(h.execScript||function(e){h.eval.call(h,e)})(e)},camelCase:function(e){return e.replace(a,"ms-").replace(l,u)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=d(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?C.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(i)return i.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(d(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return m.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),C.isFunction(e))return n=c.call(arguments,2),r=function(){return e.apply(t||this,n.concat(c.call(arguments)))},r.guid=e.guid=e.guid||C.guid++,r},now:function(){return+new Date},support:y}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){var e,h,x,o,r,m,f,g,w,u,c,y,T,i,v,b,a,s,C,N="sizzle"+1*new Date,E=n.document,k=0,d=0,l=oe(),p=oe(),S=oe(),A=function(e,t){return e===t&&(c=!0),0},D={}.hasOwnProperty,t=[],j=t.pop,L=t.push,_=t.push,H=t.slice,q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B=O.replace("w","w#"),P="\\["+F+"*("+O+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+F+"*\\]",R=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",W=new RegExp(F+"+","g"),$=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),z=new RegExp("^"+F+"*,"+F+"*"),I=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),X=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),U=new RegExp(R),V=new RegExp("^"+B+"$"),J={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){y()};try{_.apply(t=H.call(E.childNodes),E.childNodes),t[E.childNodes.length].nodeType}catch(e){_={apply:t.length?function(e,t){L.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,n,r){var i,o,a,s,l,u,c,f,d,p;if((t?t.ownerDocument||t:E)!==T&&y(t),n=n||[],s=(t=t||T).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&v){if(11!==s&&(i=K.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&C(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return _.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&h.getElementsByClassName)return _.apply(n,t.getElementsByClassName(a)),n}if(h.qsa&&(!b||!b.test(e))){if(f=c=N,d=t,p=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=m(e),(c=t.getAttribute("id"))?f=c.replace(ee,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+me(u[l]);d=Z.test(e)&&pe(t.parentNode)||t,p=u.join(",")}if(p)try{return _.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return g(e.replace($,"$1"),t,n,r)}function oe(){var r=[];return function e(t,n){return r.push(t+" ")>x.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ae(e){return e[N]=!0,e}function se(e){var t=T.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(a){return ae(function(o){return o=+o,ae(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=ie.support={},r=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},y=ie.setDocument=function(e){var t,n,l=e?e.ownerDocument||e:E;return l!==T&&9===l.nodeType&&l.documentElement?(i=(T=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),v=!r(l),h.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=se(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Q.test(l.getElementsByClassName),h.getById=se(function(e){return i.appendChild(e).id=N,!l.getElementsByName||!l.getElementsByName(N).length}),h.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),x.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},x.find.CLASS=h.getElementsByClassName&&function(e,t){if(v)return t.getElementsByClassName(e)},a=[],b=[],(h.qsa=Q.test(l.querySelectorAll))&&(se(function(e){i.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+F+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+N+"-]").length||b.push("~="),e.querySelectorAll(":checked").length||b.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||b.push(".#.+[+~]")}),se(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(h.matchesSelector=Q.test(s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&se(function(e){h.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",R)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=Q.test(i.compareDocumentPosition),C=t||Q.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===E&&C(E,e)?-1:t===l||t.ownerDocument===E&&C(E,t)?1:u?q(u,e)-q(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===l?-1:t===l?1:i?-1:o?1:u?q(u,e)-q(u,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===E?-1:s[r]===E?1:0},l):T},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==T&&y(e),t=t.replace(X,"='$1']"),h.matchesSelector&&v&&(!a||!a.test(t))&&(!b||!b.test(t)))try{var n=s.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,T,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==T&&y(e),C(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==T&&y(e);var n=x.attrHandle[t.toLowerCase()],r=n&&D.call(x.attrHandle,t.toLowerCase())?n(e,t,!v):void 0;return void 0!==r?r:h.attributes||!v?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(A),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(x=ie.selectors={cacheLength:50,createPseudo:ae,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ie.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(W," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,h,m){var g="nth"!==p.slice(0,3),y="last"!==p.slice(-4),v="of-type"===e;return 1===h&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,l,u=g!==y?"nextSibling":"previousSibling",c=e.parentNode,f=v&&e.nodeName.toLowerCase(),d=!n&&!v;if(c){if(g){for(;u;){for(o=e;o=o[u];)if(v?o.nodeName.toLowerCase()===f:1===o.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&d){for(s=(r=(i=c[N]||(c[N]={}))[p]||[])[0]===k&&r[1],a=r[0]===k&&r[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){i[p]=[k,s,a];break}}else if(d&&(r=(e[N]||(e[N]={}))[p])&&r[0]===k)a=r[1];else for(;(o=++s&&o&&o[u]||(a=s=0)||l.pop())&&((v?o.nodeName.toLowerCase()!==f:1!==o.nodeType)||!++a||(d&&((o[N]||(o[N]={}))[p]=[k,a]),o!==e)););return(a-=m)===h||a%h==0&&0<=a/h}}},PSEUDO:function(e,o){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[N]?a(o):1<a.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=q(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ae(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[N]?ae(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ae(function(t){return function(e){return 0<ie(t,e).length}}),contains:ae(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:ae(function(n){return V.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=fe(e);function he(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(a,e,t){var s=e.dir,l=t&&"parentNode"===s,u=d++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var r,i,o=[k,u];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((r=(i=e[N]||(e[N]={}))[s])&&r[0]===k&&r[1]===u)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}}}function ye(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function ve(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function be(p,h,m,g,y,e){return g&&!g[N]&&(g=be(g)),y&&!y[N]&&(y=be(y,e)),ae(function(e,t,n,r){var i,o,a,s=[],l=[],u=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!p||!e&&h?c:ve(c,s,p,n,r),d=m?y||(e?p:u||g)?[]:t:f;if(m&&m(f,d,n,r),g)for(i=ve(d,l),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(d[l[o]]=!(f[l[o]]=a));if(e){if(y||p){if(y){for(i=[],o=d.length;o--;)(a=d[o])&&i.push(f[o]=a);y(null,d=[],i,r)}for(o=d.length;o--;)(a=d[o])&&-1<(i=y?q(e,a):s[o])&&(e[i]=!(t[i]=a))}}else d=ve(d===t?d.splice(u,d.length):d),y?y(null,t,d,r):_.apply(t,d)})}function xe(e){for(var i,t,n,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=ge(function(e){return e===i},a,!0),u=ge(function(e){return-1<q(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?l(e,t,n):u(e,t,n));return i=null,r}];s<r;s++)if(t=x.relative[e[s].type])c=[ge(ye(c),t)];else{if((t=x.filter[e[s].type].apply(null,e[s].matches))[N]){for(n=++s;n<r&&!x.relative[e[n].type];n++);return be(1<s&&ye(c),1<s&&me(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&xe(e.slice(s,n)),n<r&&xe(e=e.slice(n)),n<r&&me(e))}c.push(t)}return ye(c)}return he.prototype=x.filters=x.pseudos,x.setFilters=new he,m=ie.tokenize=function(e,t){var n,r,i,o,a,s,l,u=p[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=x.preFilter;a;){for(o in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=I.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),x.filter)!(r=J[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):p(e,s).slice(0)},f=ie.compile=function(e,t){var n,g,y,v,b,r,i=[],o=[],a=S[e+" "];if(!a){for(t||(t=m(e)),n=t.length;n--;)(a=xe(t[n]))[N]?i.push(a):o.push(a);(a=S(e,(g=o,v=0<(y=i).length,b=0<g.length,r=function(e,t,n,r,i){var o,a,s,l=0,u="0",c=e&&[],f=[],d=w,p=e||b&&x.find.TAG("*",i),h=k+=null==d?1:Math.random()||.1,m=p.length;for(i&&(w=t!==T&&t);u!==m&&null!=(o=p[u]);u++){if(b&&o){for(a=0;s=g[a++];)if(s(o,t,n)){r.push(o);break}i&&(k=h)}v&&((o=!s&&o)&&l--,e&&c.push(o))}if(l+=u,v&&u!==l){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<l)for(;u--;)c[u]||f[u]||(f[u]=j.call(r));f=ve(f)}_.apply(r,f),i&&!e&&0<f.length&&1<l+y.length&&ie.uniqueSort(r)}return i&&(k=h,w=d),c},v?ae(r):r))).selector=e}return a},g=ie.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,c=!r&&m(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&h.getById&&9===t.nodeType&&v&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=J.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(te,ne),Z.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&me(o)))return _.apply(n,r),n;break}}return(u||f(e,c))(r,t,!v,n,Z.test(e)&&pe(t.parentNode)||t),n},h.sortStable=N.split("").sort(A).join("")===N,h.detectDuplicates=!!c,y(),h.sortDetached=se(function(e){return 1&e.compareDocumentPosition(T.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(M,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(h);C.find=p,C.expr=p.selectors,C.expr[":"]=C.expr.pseudos,C.unique=p.uniqueSort,C.text=p.getText,C.isXMLDoc=p.isXML,C.contains=p.contains;var v=C.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function w(e,n,r){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return C.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(x.test(n))return C.filter(n,e,r);n=C.filter(n,e)}return C.grep(e,function(e){return 0<=C.inArray(e,n)!==r})}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(r[t],this))return!0}));for(t=0;t<i;t++)C.find(e,r[t],n);return(n=this.pushStack(1<i?C.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&v.test(e)?C(e):e||[],!1).length}});var T,N=h.document,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(e,t){var n,r;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==T.ready?T.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:E.exec(e))||!n[1]&&t)return!t||t.jquery?(t||T).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:N,!0)),b.test(n[1])&&C.isPlainObject(t))for(n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=N.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return T.find(e);this.length=1,this[0]=r}return this.context=N,this.selector=e,this}).prototype=C.fn,T=C(N);var k=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!C(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),C.fn.extend({has:function(e){var t,n=C(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(C.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=v.test(e)||"string"!=typeof e?C(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.unique(o):o)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},function(r,i){C.fn[r]=function(e,t){var n=C.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(S[r]||(n=C.unique(n)),k.test(r)&&(n=n.reverse())),this.pushStack(n)}});var D,j=/\S+/g,L={};function _(){N.addEventListener?(N.removeEventListener("DOMContentLoaded",H,!1),h.removeEventListener("load",H,!1)):(N.detachEvent("onreadystatechange",H),h.detachEvent("onload",H))}function H(){(N.addEventListener||"load"===event.type||"complete"===N.readyState)&&(_(),C.ready())}C.Callbacks=function(i){var e,n;i="string"==typeof i?L[i]||(n=L[e=i]={},C.each(e.match(j)||[],function(e,t){n[t]=!0}),n):C.extend({},i);var r,o,a,s,l,u,c=[],f=!i.once&&[],d=function e(t){for(o=i.memory&&t,a=!0,l=u||0,u=0,s=c.length,r=!0;c&&l<s;l++)if(!1===c[l].apply(t[0],t[1])&&i.stopOnFalse){o=!1;break}r=!1,c&&(f?f.length&&e(f.shift()):o?c=[]:p.disable())},p={add:function(){if(c){var e=c.length;!function r(e){C.each(e,function(e,t){var n=C.type(t);"function"===n?i.unique&&p.has(t)||c.push(t):t&&t.length&&"string"!==n&&r(t)})}(arguments),r?s=c.length:o&&(u=e,d(o))}return this},remove:function(){return c&&C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,c,n));)c.splice(n,1),r&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?-1<C.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=f=o=void 0,this},disabled:function(){return!c},lock:function(){return f=void 0,o||p.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!c||a&&!f||(t=[e,(t=t||[]).slice?t.slice():t],r?f.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},C.extend({Deferred:function(e){var o=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return C.Deferred(function(r){C.each(o,function(e,t){var n=C.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return a.pipe=a.then,C.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=c.call(arguments),a=o.length,s=1!==a||e&&C.isFunction(e.promise)?a:0,l=1===s?e:C.Deferred(),u=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?c.call(arguments):e,r===i?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&C.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,t,i)):--s;return s||l.resolveWith(n,o),l.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){if(!0===e?!--C.readyWait:!C.isReady){if(!N.body)return setTimeout(C.ready);(C.isReady=!0)!==e&&0<--C.readyWait||(D.resolveWith(N,[C]),C.fn.triggerHandler&&(C(N).triggerHandler("ready"),C(N).off("ready")))}}}),C.ready.promise=function(e){if(!D)if(D=C.Deferred(),"complete"===N.readyState)setTimeout(C.ready);else if(N.addEventListener)N.addEventListener("DOMContentLoaded",H,!1),h.addEventListener("load",H,!1);else{N.attachEvent("onreadystatechange",H),h.attachEvent("onload",H);var n=!1;try{n=null==h.frameElement&&N.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!C.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}_(),C.ready()}}()}return D.promise(e)};var q,M="undefined";for(q in C(y))break;y.ownLast="0"!==q,y.inlineBlockNeedsLayout=!1,C(function(){var e,t,n,r;(n=N.getElementsByTagName("body")[0])&&n.style&&(t=N.createElement("div"),(r=N.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),_typeof(t.style.zoom)!==M&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",y.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=N.createElement("div");if(null==y.deleteExpando){y.deleteExpando=!0;try{delete e.test}catch(e){y.deleteExpando=!1}}e=null}(),C.acceptData=function(e){var t=C.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function B(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(O,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?C.parseJSON(n):n)}catch(e){}C.data(e,t,n)}else n=void 0}return n}function P(e){var t;for(t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function R(e,t,n,r){if(C.acceptData(e)){var i,o,a=C.expando,s=e.nodeType,l=s?C.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=f.pop()||C.guid++:a),l[u]||(l[u]=s?{}:{toJSON:C.noop}),"object"!==_typeof(t)&&"function"!=typeof t||(r?l[u]=C.extend(l[u],t):l[u].data=C.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[C.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[C.camelCase(t)]):i=o,i}}function W(e,t,n){if(C.acceptData(e)){var r,i,o=e.nodeType,a=o?C.cache:e,s=o?e[C.expando]:C.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in r?[t]:(t=C.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!P(r):!C.isEmptyObject(r))return}(n||(delete a[s].data,P(a[s])))&&(o?C.cleanData([e],!0):y.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}C.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!P(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)}}),C.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0!==e)return"object"===_typeof(e)?this.each(function(){C.data(this,e)}):1<arguments.length?this.each(function(){C.data(this,e,t)}):o?B(o,e,C.data(o,e)):void 0;if(this.length&&(i=C.data(o),1===o.nodeType&&!C._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&B(o,r=C.camelCase(r.slice(5)),i[r]);C._data(o,"parsedAttrs",!0)}return i},removeData:function(e){return this.each(function(){C.removeData(this,e)})}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=C._data(e,t),n&&(!r||C.isArray(n)?r=C._data(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,i=n.shift(),o=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){C.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return C._data(e,n)||C._data(e,n,{empty:C.Callbacks("once memory").add(function(){C._removeData(e,t+"queue"),C._removeData(e,n)})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=C.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=C._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],I=function(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)},X=C.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===C.type(n))for(s in i=!0,n)C.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,C.isFunction(r)||(a=!0),u&&(t=a?(t.call(e,r),null):(u=t,function(e,t,n){return u.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},U=/^(?:checkbox|radio)$/i;!function(){var e=N.createElement("input"),t=N.createElement("div"),n=N.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",y.leadingWhitespace=3===t.firstChild.nodeType,y.tbody=!t.getElementsByTagName("tbody").length,y.htmlSerialize=!!t.getElementsByTagName("link").length,y.html5Clone="<:nav></:nav>"!==N.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),y.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,y.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){y.noCloneEvent=!1}),t.cloneNode(!0).click()),null==y.deleteExpando){y.deleteExpando=!0;try{delete t.test}catch(e){y.deleteExpando=!1}}}(),function(){var e,t,n=N.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(y[e+"Bubbles"]=t in h)||(n.setAttribute(t,"t"),y[e+"Bubbles"]=!1===n.attributes[t].expando);n=null}();var V=/^(?:input|select|textarea)$/i,J=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,G=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function ee(){try{return N.activeElement}catch(e){}}function te(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}C.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=C._data(e);if(g){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=C.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||((c=g.handle=function(e){return _typeof(C)===M||e&&C.event.triggered===e.type?void 0:C.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(j)||[""]).length;s--;)p=m=(o=Q.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(u=C.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=C.event.special[p]||{},f=C.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:h.join(".")},l),(d=a[p])||((d=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),C.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=C.hasData(e)&&C._data(e);if(g&&(c=g.events)){for(u=(t=(t||"").match(j)||[""]).length;u--;)if(p=m=(s=Q.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=C.event.special[p]||{},d=c[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));l&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||C.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)C.event.remove(e,p+t[u],n,r,!0);C.isEmptyObject(c)&&(delete g.handle,C._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,l,u,c,f=[n||N],d=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[];if(a=u=n=n||N,3!==n.nodeType&&8!==n.nodeType&&!G.test(d+C.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"===_typeof(e)&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),l=C.event.special[d]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!C.isWindow(n)){for(s=l.delegateType||d,G.test(s+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),u=a;u===(n.ownerDocument||N)&&f.push(u.defaultView||u.parentWindow||h)}for(c=0;(a=f[c++])&&!e.isPropagationStopped();)e.type=1<c?s:l.bindType||d,(i=(C._data(a,"events")||{})[e.type]&&C._data(a,"handle"))&&i.apply(a,t),(i=o&&a[o])&&i.apply&&C.acceptData(a)&&(e.result=i.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(f.pop(),t))&&C.acceptData(n)&&o&&n[d]&&!C.isWindow(n)){(u=n[o])&&(n[o]=null),C.event.triggered=d;try{n[d]()}catch(e){}C.event.triggered=void 0,u&&(n[o]=u)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,r,i,o,a,s=c.call(arguments),l=(C._data(this,"events")||{})[e.type]||[],u=C.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=C.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((C.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)void 0===i[n=(r=t[o]).selector+" "]&&(i[n]=r.needsContext?0<=C(n,this).index(l):C.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[C.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Y.test(i)?this.mouseHooks:J.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new C.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||N),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||N).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?C.event.trigger(i,null,t):C.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=N.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(_typeof(e[r])===M&&(e[r]=null),e.detachEvent(r,n))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){C.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),y.submitBubbles||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=C.nodeName(t,"input")||C.nodeName(t,"button")?t.form:void 0;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),C._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),y.changeBubbles||(C.event.special.change={setup:function(){if(V.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),C.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,e,!0)})),!1;C.event.add(this,"beforeactivate._change",function(e){var t=e.target;V.test(t.nodeName)&&!C._data(t,"changeBubbles")&&(C.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e,!0)}),C._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!V.test(this.nodeName)}}),y.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){C.event.simulate(r,e.target,C.event.fix(e),!0)};C.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=C._data(e,r);t||e.addEventListener(n,i,!0),C._data(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=C._data(e,r)-1;t?C._data(e,r,t):(e.removeEventListener(n,i,!0),C._removeData(e,r))}}}),C.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"===_typeof(e)){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Z;else if(!r)return this;return 1===i&&(a=r,(r=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),this.each(function(){C.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!==_typeof(e))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){C.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",re=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+ne+")[\\s/>]","i"),oe=/^\s+/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,se=/<([\w:]+)/,le=/<tbody/i,ue=/<|&#?\w+;/,ce=/<(?:script|style|link)/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^$|\/(?:java|ecma)script/i,pe=/^true\/(.*)/,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,me={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ge=te(N).appendChild(N.createElement("div"));function ye(e,t){var n,r,i=0,o=_typeof(e.getElementsByTagName)!==M?e.getElementsByTagName(t||"*"):_typeof(e.querySelectorAll)!==M?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||C.nodeName(r,t)?o.push(r):C.merge(o,ye(r,t));return void 0===t||t&&C.nodeName(e,t)?C.merge([e],o):o}function ve(e){U.test(e.type)&&(e.defaultChecked=e.checked)}function be(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xe(e){return e.type=(null!==C.find.attr(e,"type"))+"/"+e.type,e}function we(e){var t=pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Te(e,t){for(var n,r=0;null!=(n=e[r]);r++)C._data(n,"globalEval",!t||C._data(t[r],"globalEval"))}function Ce(e,t){if(1===t.nodeType&&C.hasData(e)){var n,r,i,o=C._data(e),a=C._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)C.event.add(t,n,s[n][r]);a.data&&(a.data=C.extend({},a.data))}}function Ne(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!y.noCloneEvent&&t[C.expando]){for(r in(i=C._data(t)).events)C.removeEvent(t,r,i.handle);t.removeAttribute(C.expando)}"script"===n&&t.text!==e.text?(xe(t).text=e.text,we(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),y.html5Clone&&e.innerHTML&&!C.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&U.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,C.extend({clone:function(e,t,n){var r,i,o,a,s,l=C.contains(e.ownerDocument,e);if(y.html5Clone||C.isXMLDoc(e)||!ie.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ge.innerHTML=e.outerHTML,ge.removeChild(o=ge.firstChild)),!(y.noCloneEvent&&y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(r=ye(o),s=ye(e),a=0;null!=(i=s[a]);++a)r[a]&&Ne(i,r[a]);if(t)if(n)for(s=s||ye(e),r=r||ye(o),a=0;null!=(i=s[a]);a++)Ce(i,r[a]);else Ce(e,o);return 0<(r=ye(o,"script")).length&&Te(r,!l&&ye(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,f=e.length,d=te(t),p=[],h=0;h<f;h++)if((o=e[h])||0===o)if("object"===C.type(o))C.merge(p,o.nodeType?[o]:o);else if(ue.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(se.exec(o)||["",""])[1].toLowerCase(),c=me[l]||me._default,s.innerHTML=c[1]+o.replace(ae,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!y.leadingWhitespace&&oe.test(o)&&p.push(t.createTextNode(oe.exec(o)[0])),!y.tbody)for(i=(o="table"!==l||le.test(o)?"<table>"!==c[1]||le.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)C.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(C.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(o));for(s&&d.removeChild(s),y.appendChecked||C.grep(ye(p,"input"),ve),h=0;o=p[h++];)if((!r||-1===C.inArray(o,r))&&(a=C.contains(o.ownerDocument,o),s=ye(d.appendChild(o),"script"),a&&Te(s),n))for(i=0;o=s[i++];)de.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(e,t){for(var n,r,i,o,a=0,s=C.expando,l=C.cache,u=y.deleteExpando,c=C.event.special;null!=(n=e[a]);a++)if((t||C.acceptData(n))&&(o=(i=n[s])&&l[i])){if(o.events)for(r in o.events)c[r]?C.event.remove(n,r):C.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:_typeof(n.removeAttribute)!==M?n.removeAttribute(s):n[s]=null,f.push(i))}}}),C.fn.extend({text:function(e){return X(this,function(e){return void 0===e?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?C.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||C.cleanData(ye(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&Te(ye(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(ye(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return X(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(re,""):void 0;if("string"==typeof e&&!ce.test(e)&&(y.htmlSerialize||!ie.test(e))&&(y.leadingWhitespace||!oe.test(e))&&!me[(se.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ae,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(ye(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=m.apply([],n);var e,t,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=n[0],p=C.isFunction(d);if(p||1<u&&"string"==typeof d&&!y.checkClone&&fe.test(d))return this.each(function(e){var t=c.eq(e);p&&(n[0]=d.call(this,e,t.html())),t.domManip(n,r)});if(u&&(e=(s=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=e),e)){for(i=(o=C.map(ye(s,"script"),xe)).length;l<u;l++)t=s,l!==f&&(t=C.clone(t,!0,!0),i&&C.merge(o,ye(t,"script"))),r.call(this[l],t,l);if(i)for(a=o[o.length-1].ownerDocument,C.map(o,we),l=0;l<i;l++)t=o[l],de.test(t.type||"")&&!C._data(t,"globalEval")&&C.contains(a,t)&&(t.src?C._evalUrl&&C._evalUrl(t.src):C.globalEval((t.text||t.textContent||t.innerHTML||"").replace(he,"")));s=e=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=0,r=[],i=C(e),o=i.length-1;n<=o;n++)t=n===o?this:this.clone(!0),C(i[n])[a](t),s.apply(r,t.get());return this.pushStack(r)}});var Ee,ke,Se={};function Ae(e,t){var n,r=C(t.createElement(e)).appendTo(t.body),i=h.getDefaultComputedStyle&&(n=h.getDefaultComputedStyle(r[0]))?n.display:C.css(r[0],"display");return r.detach(),i}function De(e){var t=N,n=Se[e];return n||("none"!==(n=Ae(e,t))&&n||((t=((Ee=(Ee||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ee[0].contentDocument).document).write(),t.close(),n=Ae(e,t),Ee.detach()),Se[e]=n),n}y.shrinkWrapBlocks=function(){return null!=ke?ke:(ke=!1,(t=N.getElementsByTagName("body")[0])&&t.style?(e=N.createElement("div"),(n=N.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),_typeof(e.style.zoom)!==M&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(N.createElement("div")).style.width="5px",ke=3!==e.offsetWidth),t.removeChild(n),ke):void 0);var e,t,n};var je,Le,_e=/^margin/,He=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),qe=/^(top|right|bottom|left)$/;function Me(t,n){return{get:function(){var e=t();if(null!=e){if(!e)return(this.get=n).apply(this,arguments);delete this.get}}}}h.getComputedStyle?(je=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):h.getComputedStyle(e,null)},Le=function(e,t,n){var r,i,o,a,s=e.style;return a=(n=n||je(e))?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||C.contains(e.ownerDocument,e)||(a=C.style(e,t)),He.test(a)&&_e.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):N.documentElement.currentStyle&&(je=function(e){return e.currentStyle},Le=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||je(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),He.test(a)&&!qe.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){var e,t,n,i,o,a,s;function r(){var e,t,n,r;(t=N.getElementsByTagName("body")[0])&&t.style&&(e=N.createElement("div"),(n=N.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=o=!1,s=!0,h.getComputedStyle&&(i="1%"!==(h.getComputedStyle(e,null)||{}).top,o="4px"===(h.getComputedStyle(e,null)||{width:"4px"}).width,(r=e.appendChild(N.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",s=!parseFloat((h.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===r[0].offsetHeight)&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),t.removeChild(n))}(e=N.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(t=(n=e.getElementsByTagName("a")[0])&&n.style)&&(t.cssText="float:left;opacity:.5",y.opacity="0.5"===t.opacity,y.cssFloat=!!t.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===e.style.backgroundClip,y.boxSizing=""===t.boxSizing||""===t.MozBoxSizing||""===t.WebkitBoxSizing,C.extend(y,{reliableHiddenOffsets:function(){return null==a&&r(),a},boxSizingReliable:function(){return null==o&&r(),o},pixelPosition:function(){return null==i&&r(),i},reliableMarginRight:function(){return null==s&&r(),s}}))}(),C.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var Fe=/alpha\([^)]*\)/i,Oe=/opacity\s*=\s*([^)]*)/,Be=/^(none|table(?!-c[ea]).+)/,Pe=new RegExp("^("+$+")(.*)$","i"),Re=new RegExp("^([+-])=("+$+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},ze=["Webkit","O","Moz","ms"];function Ie(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ze.length;i--;)if((t=ze[i]+n)in e)return t;return r}function Xe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=C._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&I(r)&&(o[a]=C._data(r,"olddisplay",De(r.nodeName)))):(i=I(r),(n&&"none"!==n||!i)&&C._data(r,"olddisplay",i?n:C.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Ue(e,t,n){var r=Pe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ve(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=C.css(e,n+z[o],!0,i)),r?("content"===n&&(a-=C.css(e,"padding"+z[o],!0,i)),"margin"!==n&&(a-=C.css(e,"border"+z[o]+"Width",!0,i))):(a+=C.css(e,"padding"+z[o],!0,i),"padding"!==n&&(a+=C.css(e,"border"+z[o]+"Width",!0,i)));return a}function Je(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=je(e),a=y.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Le(e,t,o))<0||null==i)&&(i=e.style[t]),He.test(i))return i;r=a&&(y.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ve(e,t,n||(a?"border":"content"),r,o)+"px"}function Ye(e,t,n,r,i){return new Ye.prototype.init(e,t,n,r,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Le(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:y.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=Ie(l,s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if("string"===(o=_typeof(n))&&(i=Re.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(C.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||C.cssNumber[s]||(n+="px"),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=C.camelCase(t);return t=C.cssProps[s]||(C.cssProps[s]=Ie(e.style,s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Le(e,t,r)),"normal"===o&&t in $e&&(o=$e[t]),""===n||n?(i=parseFloat(o),!0===n||C.isNumeric(i)?i||0:o):o}}),C.each(["height","width"],function(e,i){C.cssHooks[i]={get:function(e,t,n){if(t)return Be.test(C.css(e,"display"))&&0===e.offsetWidth?C.swap(e,We,function(){return Je(e,i,n)}):Je(e,i,n)},set:function(e,t,n){var r=n&&je(e);return Ue(0,t,n?Ve(e,i,n,y.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,r),r):0)}}}),y.opacity||(C.cssHooks.opacity={get:function(e,t){return Oe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===C.trim(o.replace(Fe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Fe.test(o)?o.replace(Fe,i):o+" "+i)}}),C.cssHooks.marginRight=Me(y.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},Le,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(i,o){C.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+z[t]+o]=r[t]||r[t-2]||r[0];return n}},_e.test(i)||(C.cssHooks[i+o].set=Ue)}),C.fn.extend({css:function(e,t){return X(this,function(e,t,n){var r,i,o={},a=0;if(C.isArray(t)){for(r=je(e),i=t.length;a<i;a++)o[t[a]]=C.css(e,t[a],!1,r);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)},show:function(){return Xe(this,!0)},hide:function(){return Xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){I(this)?C(this).show():C(this).hide()})}}),((C.Tween=Ye).prototype={constructor:Ye,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=Ye.propHooks[this.prop];return e&&e.get?e.get(this):Ye.propHooks._default.get(this)},run:function(e){var t,n=Ye.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ye.propHooks._default.set(this),this}}).init.prototype=Ye.prototype,(Ye.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Ye.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=Ye.prototype.init,C.fx.step={};var Ge,Qe,Ke,Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),ot=/queueHooks$/,at=[function(t,e,n){var r,i,o,a,s,l,u,c=this,f={},d=t.style,p=t.nodeType&&I(t),h=C._data(t,"fxshow");n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=C.css(t,"display"),"inline"===("none"===u?C._data(t,"olddisplay")||De(t.nodeName):u)&&"none"===C.css(t,"float")&&(y.inlineBlockNeedsLayout&&"inline"!==De(t.nodeName)?d.zoom=1:d.display="inline-block"));n.overflow&&(d.overflow="hidden",y.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],rt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||C.style(t,r)}else u=void 0;if(C.isEmptyObject(f))"inline"===("none"===u?De(t.nodeName):u)&&(d.display=u);else for(r in h?"hidden"in h&&(p=h.hidden):h=C._data(t,"fxshow",{}),o&&(h.hidden=!p),p?C(t).show():c.done(function(){C(t).hide()}),c.done(function(){var e;for(e in C._removeData(t,"fxshow"),f)C.style(t,e,f[e])}),f)a=ct(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],st={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=it.exec(t),o=i&&i[3]||(C.cssNumber[e]?"":"px"),a=(C.cssNumber[e]||"px"!==o&&+r)&&it.exec(C.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],i=i||[],a=+r||1;a/=s=s||".5",C.style(n.elem,e,a+o),s!==(s=n.cur()/r)&&1!==s&&--l;);return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function lt(){return setTimeout(function(){Ge=void 0}),Ge=C.now()}function ut(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=z[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var r,i=(st[t]||[]).concat(st["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=at.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Ge||lt(),t=Math.max(0,u.startTime+u.duration-e),n=1-(t/u.duration||0),r=0,i=u.tweens.length;r<i;r++)u.tweens[r].run(n);return s.notifyWith(o,[u,n,t]),n<1&&i?t:(s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Ge||lt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=C.Tween(o,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var t=0,n=e?u.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)u.tweens[t].run(1);return e?s.resolveWith(o,[u,e]):s.rejectWith(o,[u,e]),this}}),c=u.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=C.camelCase(n)],o=e[n],C.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=C.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);r<i;r++)if(n=at[r].call(u,o,c,u.opts))return n;return C.map(c,ct,u),C.isFunction(u.opts.start)&&u.opts.start.call(o,u),C.fx.timer(C.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}C.Animation=C.extend(ft,{tweener:function(e,t){for(var n,r=0,i=(e=C.isFunction(e)?(t=e,["*"]):e.split(" ")).length;r<i;r++)n=e[r],st[n]=st[n]||[],st[n].unshift(t)},prefilter:function(e,t){t?at.unshift(e):at.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"===_typeof(e)?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return r.duration=C.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in C.fx.speeds?C.fx.speeds[r.duration]:C.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){C.isFunction(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(I).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=C.isEmptyObject(t),o=C.speed(e,n,r),a=function(){var e=ft(this,C.extend({},t),o);(i||C._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=C.timers,r=C._data(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ot.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=C._data(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,r){var i=C.fn[r];C.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ut(r,!0),e,t,n)}}),C.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){C.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=C.timers,n=0;for(Ge=C.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||C.fx.stop(),Ge=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Qe||(Qe=setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){clearInterval(Qe),Qe=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(r,e){return r=C.fx&&C.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,r);t.stop=function(){clearTimeout(n)}})},(Ze=N.createElement("div")).setAttribute("className","t"),Ze.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",tt=Ze.getElementsByTagName("a")[0],nt=(et=N.createElement("select")).appendChild(N.createElement("option")),Ke=Ze.getElementsByTagName("input")[0],tt.style.cssText="top:1px",y.getSetAttribute="t"!==Ze.className,y.style=/top/.test(tt.getAttribute("style")),y.hrefNormalized="/a"===tt.getAttribute("href"),y.checkOn=!!Ke.value,y.optSelected=nt.selected,y.enctype=!!N.createElement("form").enctype,et.disabled=!0,y.optDisabled=!nt.disabled,(Ke=N.createElement("input")).setAttribute("value",""),y.input=""===Ke.getAttribute("value"),Ke.value="t",Ke.setAttribute("type","radio"),y.radioValue="t"===Ke.value;var dt=/\r/g;C.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=C.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,C(this).val()):n)?t="":"number"==typeof t?t+="":C.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(r=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(dt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&(y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=C.makeArray(t),a=i.length;a--;)if(r=i[a],0<=C.inArray(C.valHooks.option.get(r),o))try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},y.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt,ht,mt=C.expr.attrHandle,gt=/^(?:checked|selected)$/i,yt=y.getSetAttribute,vt=y.input;C.fn.extend({attr:function(e,t){return X(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return _typeof(e.getAttribute)===M?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(t=t.toLowerCase(),r=C.attrHooks[t]||(C.expr.match.bool.test(t)?ht:pt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=C.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[i++];)r=C.propFix[n]||n,C.expr.match.bool.test(n)?vt&&yt||!gt.test(n)?e[r]=!1:e[C.camelCase("default-"+n)]=e[r]=!1:C.attr(e,n,""),e.removeAttribute(yt?n:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ht={set:function(e,t,n){return!1===t?C.removeAttr(e,n):vt&&yt||!gt.test(n)?e.setAttribute(!yt&&C.propFix[n]||n,n):e[C.camelCase("default-"+n)]=e[n]=!0,n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=mt[t]||C.find.attr;mt[t]=vt&&yt||!gt.test(t)?function(e,t,n){var r,i;return n||(i=mt[t],mt[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,mt[t]=i),r}:function(e,t,n){if(!n)return e[C.camelCase("default-"+t)]?t.toLowerCase():null}}),vt&&yt||(C.attrHooks.value={set:function(e,t,n){if(!C.nodeName(e,"input"))return pt&&pt.set(e,t,n);e.defaultValue=t}}),yt||(pt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},mt.id=mt.name=mt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},C.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:pt.set},C.attrHooks.contenteditable={set:function(e,t,n){pt.set(e,""!==t&&t,n)}},C.each(["width","height"],function(e,n){C.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),y.style||(C.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bt=/^(?:input|select|textarea|button|object)$/i,xt=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return X(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return e=C.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,i=C.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}}}),y.hrefNormalized||C.each(["href","src"],function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),y.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),y.enctype||(C.propFix.enctype="encoding");var wt=/[\t\r\n\f]/g;C.fn.extend({addClass:function(t){var e,n,r,i,o,a,s=0,l=this.length,u="string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(j)||[];s<l;s++)if(r=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=C.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(j)||[];s<l;s++)if(r=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):"")){for(o=0;i=e[o++];)for(;0<=r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a=t?C.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(i,t){var o=_typeof(i);return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):C.isFunction(i)?this.each(function(e){C(this).toggleClass(i.call(this,e,this.className,t),t)}):this.each(function(){if("string"===o)for(var e,t=0,n=C(this),r=i.match(j)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!==M&&"boolean"!==o||(this.className&&C._data(this,"__className__",this.className),this.className=this.className||!1===i?"":C._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(wt," ").indexOf(t))return!0;return!1}}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Tt=C.now(),Ct=/\?/,Nt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;C.parseJSON=function(e){if(h.JSON&&h.JSON.parse)return h.JSON.parse(e+"");var i,o=null,t=C.trim(e+"");return t&&!C.trim(t.replace(Nt,function(e,t,n,r){return i&&t&&(o=0),0===o?e:(i=n||t,o+=!r-!n,"")}))?Function("return "+t)():C.error("Invalid JSON: "+e)},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{h.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Et,kt,St=/#.*$/,At=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jt=/^(?:GET|HEAD)$/,Lt=/^\/\//,_t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ht={},qt={},Mt="*/".concat("*");try{kt=location.href}catch(e){(kt=N.createElement("a")).href="",kt=kt.href}function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(j)||[];if(C.isFunction(t))for(;n=i[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Ot(t,i,o,a){var s={},l=t===qt;function u(e){var r;return s[e]=!0,C.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||l||s[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),u(n),!1)}),r}return u(i.dataTypes[0])||!s["*"]&&u("*")}function Bt(e,t){var n,r,i=C.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&C.extend(!0,e,n),e}Et=_t.exec(kt.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,C.ajaxSettings),t):Bt(C.ajaxSettings,e)},ajaxPrefilter:Ft(Ht),ajaxTransport:Ft(qt),ajax:function(e,t){"object"===_typeof(e)&&(t=e,e=void 0),t=t||{};var n,r,c,f,d,p,h,i,m=C.ajaxSetup({},t),g=m.context||m,y=m.context&&(g.nodeType||g.jquery)?C(g):C.event,v=C.Deferred(),b=C.Callbacks("once memory"),x=m.statusCode||{},o={},a={},w=0,s="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!i)for(i={};t=Dt.exec(f);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?f:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return w||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)x[t]=[x[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||s;return h&&h.abort(t),l(0,t),this}};if(v.promise(T).complete=b.add,T.success=T.done,T.error=T.fail,m.url=((e||m.url||kt)+"").replace(St,"").replace(Lt,Et[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(j)||[""],null==m.crossDomain&&(n=_t.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Et[1]&&n[2]===Et[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Et[3]||("http:"===Et[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Ot(Ht,m,t,T),2===w)return T;for(r in(p=C.event&&m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!jt.test(m.type),c=m.url,m.hasContent||(m.data&&(c=m.url+=(Ct.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=At.test(c)?c.replace(At,"$1_="+Tt++):c+(Ct.test(c)?"&":"?")+"_="+Tt++)),m.ifModified&&(C.lastModified[c]&&T.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&T.setRequestHeader("If-None-Match",C.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&T.setRequestHeader("Content-Type",m.contentType),T.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mt+"; q=0.01":""):m.accepts["*"]),m.headers)T.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,T,m)||2===w))return T.abort();for(r in s="abort",{success:1,error:1,complete:1})T[r](m[r]);if(h=Ot(qt,m,t,T)){T.readyState=1,p&&y.trigger("ajaxSend",[T,m]),m.async&&0<m.timeout&&(d=setTimeout(function(){T.abort("timeout")},m.timeout));try{w=1,h.send(o,l)}catch(e){if(!(w<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,l,u=t;2!==w&&(w=2,d&&clearTimeout(d),h=void 0,f=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}(m,T,n)),s=function(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(m,s,T,i),i?(m.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=l),(l=T.getResponseHeader("etag"))&&(C.etag[c]=l)),204===e||"HEAD"===m.type?u="nocontent":304===e?u="notmodified":(u=s.state,o=s.data,i=!(a=s.error))):(a=u,!e&&u||(u="error",e<0&&(e=0))),T.status=e,T.statusText=(t||u)+"",i?v.resolveWith(g,[o,u,T]):v.rejectWith(g,[T,u,a]),T.statusCode(x),x=void 0,p&&y.trigger(i?"ajaxSuccess":"ajaxError",[T,m,i?o:a]),b.fireWith(g,[T,u]),p&&(y.trigger("ajaxComplete",[T,m]),--C.active||C.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,i){C[i]=function(e,t,n,r){return C.isFunction(t)&&(r=r||n,n=t,t=void 0),C.ajax({url:e,type:i,dataType:r,data:t,success:n})}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){if(C.isFunction(t))return this.each(function(e){C(this).wrapAll(t.call(this,e))});if(this[0]){var e=C(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!y.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||C.css(e,"display"))},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var Pt=/%20/g,Rt=/\[\]$/,Wt=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function It(n,e,r,i){var t;if(C.isArray(e))C.each(e,function(e,t){r||Rt.test(n)?i(n,t):It(n+"["+("object"===_typeof(t)?e:"")+"]",t,r,i)});else if(r||"object"!==C.type(e))i(n,e);else for(t in e)It(n+"["+t+"]",e[t],r,i)}C.param=function(e,t){var n,r=[],i=function(e,t){t=C.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){i(this.name,this.value)});else for(n in e)It(n,e[n],t,i);return r.join("&").replace(Pt,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&zt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}}),C.ajaxSettings.xhr=void 0!==h.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Jt()||function(){try{return new h.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Jt;var Xt=0,Ut={},Vt=C.ajaxSettings.xhr();function Jt(){try{return new h.XMLHttpRequest}catch(e){}}h.attachEvent&&h.attachEvent("onunload",function(){for(var e in Ut)Ut[e](void 0,!0)}),y.cors=!!Vt&&"withCredentials"in Vt,(Vt=y.ajax=!!Vt)&&C.ajaxTransport(function(l){var u;if(!l.crossDomain||y.cors)return{send:function(e,o){var t,a=l.xhr(),s=++Xt;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),u=function(e,t){var n,r,i;if(u&&(t||4===a.readyState))if(delete Ut[s],u=void 0,a.onreadystatechange=C.noop,t)4!==a.readyState&&a.abort();else{i={},n=a.status,"string"==typeof a.responseText&&(i.text=a.responseText);try{r=a.statusText}catch(e){r=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&o(n,r,i,a.getAllResponseHeaders())},l.async?4===a.readyState?setTimeout(u):a.onreadystatechange=Ut[s]=u:u()},abort:function(){u&&u(void 0,!0)}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),C.ajaxTransport("script",function(t){if(t.crossDomain){var r,i=N.head||C("head")[0]||N.documentElement;return{send:function(e,n){(r=N.createElement("script")).async=!0,t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,t||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(void 0,!0)}}}});var Yt=[],Gt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||C.expando+"_"+Tt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Gt,"$1"+r):!1!==e.jsonp&&(e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||C.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=h[r],h[r]=function(){o=arguments},n.always(function(){h[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),o&&C.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),C.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||N;var r=b.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=C.buildFragment([e],t,i),i&&i.length&&C(i).remove(),C.merge([],r.childNodes))};var Qt=C.fn.load;C.fn.load=function(e,t,n){if("string"!=typeof e&&Qt)return Qt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return 0<=s&&(r=C.trim(e.slice(s,e.length)),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"===_typeof(t)&&(o="POST"),0<a.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};var Kt=h.document.documentElement;function Zt(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u=C.css(e,"position"),c=C(e),f={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=C.css(e,"top"),l=C.css(e,"left"),i=("absolute"===u||"fixed"===u)&&-1<C.inArray("auto",[o,l])?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(l)||0),C.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,C.contains(e,i)?(_typeof(i.getBoundingClientRect)!==M&&(r=i.getBoundingClientRect()),n=Zt(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===C.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(r,"marginTop",!0),left:t.left-n.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Kt;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Kt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=/Y/.test(i);C.fn[t]=function(e){return X(this,function(e,t,n){var r=Zt(e);if(void 0===n)return r?i in r?r[i]:r.document.documentElement[t]:e[t];r?r.scrollTo(o?C(r).scrollLeft():n,o?n:C(r).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Me(y.pixelPosition,function(e,t){if(t)return t=Le(e,n),He.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,a){C.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){C.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return X(this,function(e,t,n){var r;return C.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?C.css(e,t,i):C.style(e,t,n,i)},a,n?e:void 0,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var en=h.jQuery,tn=h.$;return C.noConflict=function(e){return h.$===C&&(h.$=tn),e&&h.jQuery===C&&(h.jQuery=en),C},_typeof(e)===M&&(h.jQuery=h.$=C),C});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwibW9kdWxlIiwiX3R5cGVvZiIsImV4cG9ydHMiLCJkb2N1bWVudCIsInciLCJFcnJvciIsIndpbmRvdyIsImNvbmNhdCIsImRlbGV0ZWRJZHMiLCJpbmRleE9mIiwidG9TdHJpbmciLCJjbGFzczJ0eXBlIiwic3VwcG9ydCIsInB1c2giLCJ2ZXJzaW9uIiwialF1ZXJ5IiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJzZWxlY3RvciIsImNvbnRleHQiLCJmbiIsImluaXQiLCJydHJpbSIsInJtc1ByZWZpeCIsImNhbGwiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsImFsbCIsImxldHRlciIsInRvVXBwZXJDYXNlIiwiaXNBcnJheWxpa2UiLCJsZW5ndGgiLCJvYmoiLCJ0eXBlIiwibGVuIiwiaXNXaW5kb3ciLCJub2RlVHlwZSIsInByb3RvdHlwZSIsImpxdWVyeSIsImNvbnN0cnVjdG9yIiwicmV0IiwicHJldk9iamVjdCIsInRvQXJyYXkiLCJzbGljZSIsInRoaXMiLCJnZXQiLCJjYWxsYmFjayIsInB1c2hTdGFjayIsIm51bSIsImVxIiwiZWxlbXMiLCJtZXJnZSIsImVhY2giLCJhcmdzIiwiZXh0ZW5kIiwiY29weSIsIm1hcCIsImVsZW0iLCJpIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJkZWVwIiwidGFyZ2V0IiwibGFzdCIsImoiLCJlbmQiLCJzb3J0IiwibmFtZSIsIm9wdGlvbnMiLCJzcmMiLCJzcGxpY2UiLCJjb3B5SXNBcnJheSIsImNsb25lIiwiaXNGdW5jdGlvbiIsImlzQXJyYXkiLCJpc1BsYWluT2JqZWN0IiwidW5kZWZpbmVkIiwia2V5IiwiZXhwYW5kbyIsIk1hdGgiLCJyYW5kb20iLCJyZXBsYWNlIiwiaXNSZWFkeSIsImVycm9yIiwibXNnIiwibm9vcCIsIkFycmF5Iiwib3duTGFzdCIsImlzTnVtZXJpYyIsInBhcnNlRmxvYXQiLCJpc0VtcHR5T2JqZWN0IiwiZ2xvYmFsRXZhbCIsIm5vZGVOYW1lIiwidmFsdWUiLCJlIiwiZGF0YSIsInRyaW0iLCJleGVjU2NyaXB0IiwiY2FtZWxDYXNlIiwic3RyaW5nIiwidG9Mb3dlckNhc2UiLCJhcnIiLCJ0ZXh0IiwiY2FsbGJhY2tJbnZlcnNlIiwibWFrZUFycmF5IiwicmVzdWx0cyIsIk9iamVjdCIsImNhbGxiYWNrRXhwZWN0IiwiaW5BcnJheSIsImFyZyIsIm1heCIsImZpcnN0Iiwic2Vjb25kIiwiZ3JlcCIsImludmVydCIsIm1hdGNoZXMiLCJEYXRlIiwiZ2V0VGV4dCIsInNlbGVjdCIsIm91dGVybW9zdENvbnRleHQiLCJ0bXAiLCJkaXJydW5zIiwicHJveHkiLCJjbGFzc0NhY2hlIiwiY3JlYXRlQ2FjaGUiLCJndWlkIiwibm93IiwicG9wIiwic3BsaXQiLCJjaGFyYWN0ZXJFbmNvZGluZyIsIkV4cHIiLCJpc1hNTCIsInJjb21iaW5hdG9ycyIsInJhdHRyaWJ1dGVRdW90ZXMiLCJyaWRlbnRpZmllciIsIm1hdGNoRXhwciIsIlJlZ0V4cCIsInNldERvY3VtZW50IiwiZG9jRWxlbSIsImRvY3VtZW50SXNIVE1MIiwicmJ1Z2d5UVNBIiwicmJ1Z2d5TWF0Y2hlcyIsImNvbnRhaW5zIiwicHJlZmVycmVkRG9jIiwiZG9uZSIsInRva2VuQ2FjaGUiLCJjb21waWxlckNhY2hlIiwiZnVuZXNjYXBlIiwiYSIsImIiLCJlc2NhcGVkIiwiaGFzRHVwbGljYXRlIiwidW5sb2FkSGFuZGxlciIsImxpc3QiLCJjaGlsZE5vZGVzIiwicHVzaF9uYXRpdmUiLCJib29sZWFucyIsImVscyIsIndoaXRlc3BhY2UiLCJpZGVudGlmaWVyIiwib3duZXJEb2N1bWVudCIsInBzZXVkb3MiLCJhdHRyaWJ1dGVzIiwiZ2V0RWxlbWVudEJ5SWQiLCJyY29tbWEiLCJwYXJlbnROb2RlIiwicnBzZXVkbyIsIklEIiwiQ0xBU1MiLCJUQUciLCJDSElMRCIsImJvb2wiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicmlucHV0cyIsInJoZWFkZXIiLCJybmF0aXZlIiwibmV3Q29udGV4dCIsInJzaWJsaW5nIiwicmVzY2FwZSIsImdyb3VwcyIsInRva2VuaXplIiwiXyIsImVzY2FwZWRXaGl0ZXNwYWNlIiwiaGlnaCIsInNldEF0dHJpYnV0ZSIsImZyb21DaGFyQ29kZSIsIlN0cmluZyIsIm5ld1NlbGVjdG9yIiwib2xkIiwicmVtb3ZlQXR0cmlidXRlIiwiU2l6emxlIiwic2VlZCIsIm1hdGNoIiwibSIsIm5pZCIsIm1hcmtGdW5jdGlvbiIsInJxdWlja0V4cHIiLCJleGVjIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJxc2EiLCJ0ZXN0Iiwic2libGluZ0NoZWNrIiwibmV4dFNpYmxpbmciLCJnZXRBdHRyaWJ1dGUiLCJ0b1NlbGVjdG9yIiwidGVzdENvbnRleHQiLCJqb2luIiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJxdWVyeVNlbGVjdG9yQWxsIiwicXNhRXJyb3IiLCJhcmd1bWVudCIsIm1hdGNoSW5kZXhlcyIsImtleXMiLCJjYWNoZUxlbmd0aCIsInNoaWZ0IiwiY2FjaGUiLCJhc3NlcnQiLCJkaXYiLCJkb2N1bWVudEVsZW1lbnQiLCJkb2MiLCJhZGRIYW5kbGUiLCJhdHRycyIsImF0dHJIYW5kbGUiLCJoYW5kbGVyIiwicGFyZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50Iiwic291cmNlSW5kZXgiLCJkaWZmIiwiY3VyIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVDb21tZW50IiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRCeUlkIiwiY3JlYXRlUG9zaXRpb25hbFBzZXVkbyIsInJ1bmVzY2FwZSIsImF0dHJJZCIsImZpbmQiLCJub2RlIiwiaGFzQ29tcGFyZSIsImRlZmF1bHRWaWV3IiwidG9wIiwiY2xhc3NOYW1lIiwiZmlsdGVyIiwiZ2V0QXR0cmlidXRlTm9kZSIsIm1hdGNoZXNTZWxlY3RvciIsInRhZyIsImNvbXBhcmUiLCJpbm5lckhUTUwiLCJzb3J0SW5wdXQiLCJpbnB1dCIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImRpc2Nvbm5lY3RlZE1hdGNoIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJidXAiLCJhZG93biIsImR1cGxpY2F0ZXMiLCJzb3J0RGV0YWNoZWQiLCJ0ZXh0Q29udGVudCIsImZpcnN0Q2hpbGQiLCJub2RlVmFsdWUiLCJhdXAiLCJhcCIsImJwIiwidW5zaGlmdCIsImV4cHIiLCJlbGVtZW50cyIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsInZhbCIsInBhdHRlcm4iLCJzcGVjaWZpZWQiLCJyZXN1bHQiLCJ1bmlxdWVTb3J0Iiwib3BlcmF0b3IiLCJmb3J3YXJkIiwiZGV0ZWN0RHVwbGljYXRlcyIsIm9mVHlwZSIsInNvcnRTdGFibGUiLCJzb3J0T3JkZXIiLCJub2RlSW5kZXgiLCJzaW1wbGUiLCJzdGFydCIsIm91dGVyQ2FjaGUiLCJzZWxlY3RvcnMiLCJjcmVhdGVQc2V1ZG8iLCJ1c2VDYWNoZSIsInJlbGF0aXZlIiwiPiIsImRpciIsIiAiLCIrIiwifiIsInByZUZpbHRlciIsIkFUVFIiLCJwc2V1ZG8iLCJzZXRGaWx0ZXJzIiwibWF0Y2hlZCIsIlBTRVVETyIsInVubWF0Y2hlZCIsIm1hdGNoZXIiLCJpbm5lclRleHQiLCJhdHRyIiwibG9jYXRpb24iLCJjaGVjayIsImFjdGl2ZUVsZW1lbnQiLCJoYXNGb2N1cyIsInJ3aGl0ZXNwYWNlIiwid2hhdCIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RlZCIsInhtbCIsImxhc3RDaGlsZCIsImlkeCIsImNyZWF0ZUJ1dHRvblBzZXVkbyIsImZpbHRlcnMiLCJjb21waWxlIiwic29GYXIiLCJsYW5nIiwiZWxlbUxhbmciLCJ0b2tlbnMiLCJjaGVja05vbkVsZW1lbnRzIiwiYmFzZSIsImhhc2giLCJmb2N1cyIsImhyZWYiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJlbXB0eSIsImVsZW1lbnRNYXRjaGVyIiwibWF0Y2hlcnMiLCJoZWFkZXIiLCJtdWx0aXBsZUNvbnRleHRzIiwiY29udGV4dHMiLCJidXR0b24iLCJtYXBwZWQiLCJldmVuIiwic2V0TWF0Y2hlciIsInBvc3RGaW5kZXIiLCJvZGQiLCJsdCIsImNvbmRlbnNlIiwicHJlZXhpc3RpbmciLCJtYXRjaGVySW4iLCJtYXRjaGVyT3V0IiwicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIiwic3VibWl0IiwicmVzZXQiLCJ0ZW1wIiwiYWRkQ29tYmluYXRvciIsImNvbWJpbmF0b3IiLCJkb25lTmFtZSIsIm1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsInN1cGVyTWF0Y2hlciIsImNvbnRleHRCYWNrdXAiLCJvbGRDYWNoZSIsImJ5RWxlbWVudCIsIm5ld0NhY2hlIiwibWF0Y2hlZENvdW50Iiwic2V0TWF0Y2hlZCIsIm5ld1VubWF0Y2hlZCIsIm91dGVybW9zdCIsInBvc3RGaWx0ZXIiLCJwb3N0U2VsZWN0b3IiLCJwcmVNYXAiLCJwb3N0TWFwIiwiY29tcGlsZWQiLCJpbXBsaWNpdFJlbGF0aXZlIiwibWF0Y2hDb250ZXh0IiwiY2hlY2tDb250ZXh0IiwibWF0Y2hBbnlDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwibWF0Y2hlckZyb21Ub2tlbnMiLCJwYXJzZU9ubHkiLCJjYWNoZWQiLCJwcmVGaWx0ZXJzIiwic2V0TWF0Y2hlcnMiLCJieVNldCIsImRpcnJ1bnNVbmlxdWUiLCJuZWVkc0NvbnRleHQiLCJzZWxmIiwidG9rZW4iLCJwYXJzZUhUTUwiLCJyc2luZ2xlVGFnIiwicm9vdGpRdWVyeSIsInJwYXJlbnRzcHJldiIsImRpdjEiLCJuIiwidGFyZ2V0cyIsImRlZmF1bHRWYWx1ZSIsInJuZWVkc0NvbnRleHQiLCJpbmRleCIsInBvcyIsInVuaXF1ZSIsImlzWE1MRG9jIiwiYWRkQmFjayIsIndpbm5vdyIsInF1YWxpZmllciIsIm5vdCIsInNpYmxpbmciLCJyaXNTaW1wbGUiLCJ1bnRpbCIsInByZXZBbGwiLCJwcmV2VW50aWwiLCJuZXh0VW50aWwiLCJybm90d2hpdGUiLCJvcHRpb25zQ2FjaGUiLCJmbGFnIiwib2JqZWN0IiwiZmlyaW5nIiwiZmlyaW5nTGVuZ3RoIiwibWVtb3J5IiwicmVhZHkiLCJjaGFyQXQiLCJmaXJpbmdJbmRleCIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsImNvbnRlbnRzIiwibmV4dCIsInByZXYiLCJ0dXBsZSIsInN0YXRlU3RyaW5nIiwiaXMiLCJyIiwibG9ja2VkIiwic3RhY2siLCJmaXJlZCIsImNsb3Nlc3QiLCJsIiwiZmlyZVdpdGgiLCJmdW5jIiwic3RhdGUiLCJyZXR1cm5lZCIsIm5ld0RlZmVyIiwiYWRkIiwiZm5zIiwicHJvbWlzZSIsInR1cGxlcyIsImRlZmVycmVkIiwicGFyZW50c1VudGlsIiwic3Vib3JkaW5hdGUiLCJzaWJsaW5ncyIsInJlc29sdmVWYWx1ZXMiLCJyZW1haW5pbmciLCJ1cGRhdGVGdW5jIiwiY29udGVudFdpbmRvdyIsInZhbHVlcyIsIm5vdGlmeVdpdGgiLCJwcm9ncmVzc0NvbnRleHRzIiwicmVzb2x2ZUNvbnRleHRzIiwicmV2ZXJzZSIsInJlYWR5TGlzdCIsImRldGFjaCIsImlzRW1wdHlEYXRhT2JqZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbXBsZXRlZCIsImRldGFjaEV2ZW50IiwiaXNOb2RlIiwiZXZlbnQiLCJyZWFkeVN0YXRlIiwiYm9keSIsImZpcmluZ1N0YXJ0Iiwib25jZSIsInN0b3BPbkZhbHNlIiwiZmlyZSIsImRpc2FibGUiLCJzZXRUaW1lb3V0IiwiaGFzIiwiZnJhbWVFbGVtZW50IiwiZG9TY3JvbGwiLCJkb1Njcm9sbENoZWNrIiwibG9jayIsInN0eWxlIiwiem9vbSIsImNvbnRhaW5lciIsImRlbGV0ZUV4cGFuZG8iLCJEZWZlcnJlZCIsImFjY2VwdERhdGEiLCJDYWxsYmFja3MiLCJmYWlsIiwidGhlbiIsInJicmFjZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9ncmVzcyIsIm5vdGlmeSIsInBpcGUiLCJpbnRlcm5hbEtleSIsIndoZW4iLCJ0aGlzQ2FjaGUiLCJwcm9ncmVzc1ZhbHVlcyIsInJlc29sdmVXaXRoIiwicHZ0IiwiaG9sZFJlYWR5IiwiaG9sZCIsInJlYWR5V2FpdCIsInRyaWdnZXJIYW5kbGVyIiwib2ZmIiwibm9EYXRhIiwiaW50ZXJuYWxSZW1vdmVEYXRhIiwic3RydW5kZWZpbmVkIiwicmVtb3ZlRGF0YSIsInF1ZXVlIiwiY3NzVGV4dCIsImlubGluZUJsb2NrTmVlZHNMYXlvdXQiLCJvZmZzZXRXaWR0aCIsIl9xdWV1ZUhvb2tzIiwicmVtb3ZlQ2hpbGQiLCJzdG9wIiwiX3JlbW92ZURhdGEiLCJzZXR0ZXIiLCJkYXRhQXR0ciIsImRlcXVldWUiLCJwYXJzZUpTT04iLCJkZWZlciIsImNvdW50IiwiY3NzRXhwYW5kIiwiYWNjZXNzIiwiZW1wdHlHZXQiLCJ0b0pTT04iLCJyY2hlY2thYmxlVHlwZSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJmcmFnbWVudCIsImFwcGVuZENoZWNrZWQiLCJub0Nsb25lQ2hlY2tlZCIsInJ0eXBlbmFtZXNwYWNlIiwiaGFuZGxlT2JqSW4iLCJoYW5kbGVycyIsIm5hbWVzcGFjZXMiLCJlbGVtRGF0YSIsImhhc0RhdGEiLCJpbnRlcm5hbERhdGEiLCJfZGF0YSIsImV2ZW50cyIsInR5cGVzIiwiZGVsZWdhdGVDb3VudCIsInNwZWNpYWwiLCJzdGFydExlbmd0aCIsIm9yaWdUeXBlIiwiaG9va3MiLCJoYW5kbGVPYmoiLCJtYXBwZWRUeXBlcyIsInJlbW92ZSIsInJlbW92ZUV2ZW50IiwiYnViYmxlVHlwZSIsImNsZWFyUXVldWUiLCJldmVudFBhdGgiLCJyZm9jdXNNb3JwaCIsIkV2ZW50IiwiaXNUcmlnZ2VyIiwibmFtZXNwYWNlIiwicG51bSIsInNvdXJjZSIsImlzSGlkZGVuIiwiZWwiLCJvbmx5SGFuZGxlcnMiLCJjc3MiLCJjaGFpbmFibGUiLCJyYXciLCJidWxrIiwib250eXBlIiwidHJpZ2dlcmVkIiwidGJvZHkiLCJodG1sU2VyaWFsaXplIiwiaHRtbDVDbG9uZSIsImNsb25lTm9kZSIsIm91dGVySFRNTCIsImhhbmRsZXJRdWV1ZSIsInByZURpc3BhdGNoIiwiY2hlY2tDbG9uZSIsImN1cnJlbnRUYXJnZXQiLCJub0Nsb25lRXZlbnQiLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwicG9zdERpc3BhdGNoIiwiY2hhbmdlIiwiZm9jdXNpbiIsImV2ZW50TmFtZSIsInJmb3JtRWxlbXMiLCJya2V5RXZlbnQiLCJybW91c2VFdmVudCIsInJldHVyblRydWUiLCJzZWwiLCJzYWZlQWN0aXZlRWxlbWVudCIsImNyZWF0ZVNhZmVGcmFnbWVudCIsIm5vZGVOYW1lcyIsInNhZmVGcmFnIiwia2VlcERhdGEiLCJ0IiwiZXZlbnRIYW5kbGUiLCJmaXhIb29rcyIsImZpeEhvb2siLCJoYW5kbGUiLCJvcmlnaW5hbEV2ZW50IiwiZGlzcGF0Y2giLCJtZXRhS2V5IiwiZGVsZWdhdGVUeXBlIiwiYmluZFR5cGUiLCJ3aGljaCIsIm9yaWdpbmFsIiwic2V0dXAiLCJjbGllbnRZIiwib3JpZ0NvdW50IiwiYmVmb3JldW5sb2FkIiwiYnViYmxlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwidGVhcmRvd24iLCJ0cmlnZ2VyIiwicHJvcHMiLCJ0aW1lU3RhbXAiLCJuYW1lc3BhY2VfcmUiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsInN0b3BQcm9wYWdhdGlvbiIsInBhcmVudFdpbmRvdyIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9yaWciLCJmaXgiLCJyZWxhdGVkIiwic3VibWl0QnViYmxlcyIsImZvcm0iLCJfc3VibWl0X2J1YmJsZSIsInNpbXVsYXRlIiwiZGVsZWdhdGVUYXJnZXQiLCJwcm9wZXJ0eU5hbWUiLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIl9qdXN0X2NoYW5nZWQiLCJmb2N1c2luQnViYmxlcyIsImF0dGFjaGVzIiwicHJvcCIsIm9yaWdGbiIsIm1vdXNlSG9va3MiLCJrZXlIb29rcyIsInNyY0VsZW1lbnQiLCJjaGFyQ29kZSIsImtleUNvZGUiLCJldmVudERvYyIsImZyb21FbGVtZW50IiwicGFnZVgiLCJjbGllbnRYIiwic2Nyb2xsTGVmdCIsImNsaWVudExlZnQiLCJwYWdlWSIsInNjcm9sbFRvcCIsImNsaWVudFRvcCIsInJlbGF0ZWRUYXJnZXQiLCJ0b0VsZW1lbnQiLCJsb2FkIiwiYmx1ciIsIl9kZWZhdWx0IiwicnNjcmlwdFR5cGVNYXNrZWQiLCJyY2xlYW5TY3JpcHQiLCJyZXR1cm5WYWx1ZSIsInNhZmVGcmFnbWVudCIsImZyYWdtZW50RGl2Iiwib3B0Z3JvdXAiLCJ3cmFwTWFwIiwiaXNTaW11bGF0ZWQiLCJmaXhEZWZhdWx0Q2hlY2tlZCIsIm1hbmlwdWxhdGlvblRhcmdldCIsInJlc3RvcmVTY3JpcHQiLCJkZWZhdWx0UHJldmVudGVkIiwicmVmRWxlbWVudHMiLCJzZXRHbG9iYWxFdmFsIiwicmV0dXJuRmFsc2UiLCJjdXJEYXRhIiwiZGVzdCIsImZpeENsb25lTm9kZUlzc3VlcyIsImRpc2FibGVTY3JpcHQiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsImRlZmF1bHRDaGVja2VkIiwicG9pbnRlcmxlYXZlIiwiZGF0YUFuZEV2ZW50cyIsImRlZXBEYXRhQW5kRXZlbnRzIiwiZGVzdEVsZW1lbnRzIiwiY2xvbmVDb3B5RXZlbnQiLCJnZXRBbGwiLCJjaGFuZ2VCdWJibGVzIiwid3JhcCIsInNhZmUiLCJub2RlcyIsInNlbGVjdGlvbiIsIm9uIiwib25lIiwic2NyaXB0cyIsImRvbU1hbmlwIiwiaW5zZXJ0QmVmb3JlIiwicm5vc2hpbWNhY2hlIiwicmxlYWRpbmdXaGl0ZXNwYWNlIiwicnhodG1sVGFnIiwicnRhZ05hbWUiLCJydGJvZHkiLCJybm9Jbm5lcmh0bWwiLCJyY2hlY2tlZCIsInJzY3JpcHRUeXBlIiwib3B0aW9uIiwibGVnZW5kIiwicGFyYW0iLCJ0aGVhZCIsInRyIiwiY29sIiwicmlubGluZWpRdWVyeSIsImZvdW5kIiwiY29udGVudCIsInJlcGxhY2VXaXRoIiwicmVwbGFjZUNoaWxkIiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwic2V0Iiwib2xkRGF0YSIsImJ1aWxkRnJhZ21lbnQiLCJkZWZhdWx0U2VsZWN0ZWQiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwiaWZyYW1lIiwiZWxlbWRpc3BsYXkiLCJzcmNFbGVtZW50cyIsImluUGFnZSIsImFjdHVhbERpc3BsYXkiLCJnZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSIsInNocmlua1dyYXBCbG9ja3MiLCJzaHJpbmtXcmFwQmxvY2tzVmFsIiwicmh0bWwiLCJ3aWR0aCIsImxlYWRpbmdXaGl0ZXNwYWNlIiwiY3JlYXRlVGV4dE5vZGUiLCJvcGVuZXIiLCJnZXRDb21wdXRlZFN0eWxlIiwiY29tcHV0ZWQiLCJydW50aW1lU3R5bGUiLCJjbGVhbkRhdGEiLCJsZWZ0IiwicnNMZWZ0IiwiaG9va0ZuIiwiYXBwZW5kIiwiY3NzRmxvYXQiLCJiYWNrZ3JvdW5kQ2xpcCIsInJlbGlhYmxlSGlkZGVuT2Zmc2V0cyIsInJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCIsImNvbXB1dGVTdHlsZVRlc3RzIiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJhZnRlciIsInBpeGVsUG9zaXRpb25WYWwiLCJyZWxpYWJsZU1hcmdpblJpZ2h0VmFsIiwiZGlzcGxheSIsIm9mZnNldEhlaWdodCIsImNzc1Nob3ciLCJjc3NOb3JtYWxUcmFuc2Zvcm0iLCJjYXBOYW1lIiwib3JpZ05hbWUiLCJzaG93SGlkZSIsImh0bWwiLCJoaWRkZW4iLCJzdWJ0cmFjdCIsIl9ldmFsVXJsIiwiaXNCb3JkZXJCb3giLCJhcHBlbmRUbyIsInByZXBlbmRUbyIsImluc2VydEFmdGVyIiwiZXh0cmEiLCJpbnNlcnQiLCJ2YWx1ZUlzQm9yZGVyQm94Iiwicm51bW5vbnB4IiwiZGVmYXVsdERpc3BsYXkiLCJjb250ZW50RG9jdW1lbnQiLCJ3cml0ZSIsImNsb3NlIiwiY3NzSG9va3MiLCJnZXRTdHlsZXMiLCJycG9zaXRpb24iLCJleHBhbmRlZCIsImNvbmRpdGlvbkZuIiwiY29uZGl0aW9uIiwiY3VyQ1NTIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJtYXJnaW4iLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwicmRpc3BsYXlzd2FwIiwiZ2V0V2lkdGhPckhlaWdodCIsInNldFBvc2l0aXZlTnVtYmVyIiwiY3VycmVudFN0eWxlIiwib3BhY2l0eSIsInJvcGFjaXR5IiwicnMiLCJyYWxwaGEiLCJtYXJnaW5SaWdodCIsImFkZEdldEhvb2tJZiIsInBpeGVsTGVmdCIsInN1ZmZpeCIsInByZWZpeCIsInR3ZWVuIiwicHJvcEhvb2tzIiwiVHdlZW4iLCJ0d2VlbmVycyIsImNyZWF0ZVR3ZWVuIiwicGFydHMiLCJjc3NOdW1iZXIiLCJyZnhudW0iLCJ1bml0IiwiaGlkZSIsImNsZWFyQ2xvbmVTdHlsZSIsImJveFNpemluZyIsIk1vekJveFNpemluZyIsIldlYmtpdEJveFNpemluZyIsImVhc2luZyIsInBpeGVsUG9zaXRpb24iLCJkdXJhdGlvbiIsImVhc2VkIiwicmVsaWFibGVNYXJnaW5SaWdodCIsInN0ZXAiLCJzY2FsZSIsImZ4Tm93Iiwicm51bXNwbGl0IiwicnJlbE51bSIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImdlbkZ4IiwiaW5jbHVkZVdpZHRoIiwiY3NzUHJlZml4ZXMiLCJzaG93IiwiZGVmYXVsdFByZWZpbHRlciIsIm9sZGZpcmUiLCJ1bnF1ZXVlZCIsImFuaW0iLCJhbHdheXMiLCJhdWdtZW50V2lkdGhPckhlaWdodCIsInN0eWxlcyIsImNoZWNrRGlzcGxheSIsIm9wdHMiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJvdmVyZmxvdyIsImRhdGFTaG93IiwiYm94U2l6aW5nUmVsaWFibGUiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwicHJvcEZpbHRlciIsImZvbnRXZWlnaHQiLCJvcmRlciIsInNwZWNpYWxFYXNpbmciLCJvcnBoYW5zIiwid2lkb3dzIiwiZmxvYXQiLCJjc3NQcm9wcyIsInZlbmRvclByb3BOYW1lIiwiYW5pbWF0aW9uIiwidHdlZW5zIiwic3RvcHBlZCIsImFuaW1hdGlvblByZWZpbHRlcnMiLCIkMSIsInByZXBlbmQiLCJzcGVlZCIsIm9wdCIsInN3YXAiLCJ0byIsImFuaW1hdGUiLCJwYWRkaW5nIiwiYm9yZGVyIiwiZG9BbmltYXRpb24iLCJBbmltYXRpb24iLCJ0aW1lcnMiLCJzdG9wUXVldWUiLCJ0b2dnbGUiLCJmaW5pc2giLCJydW4iLCJwZXJjZW50IiwiZmFkZU91dCIsImZ4IiwidGltZXIiLCJsaW5lYXIiLCJwIiwiaW50ZXJ2YWwiLCJzd2luZyIsInRpbWVySWQiLCJjb3MiLCJQSSIsImZhc3QiLCJycnVuIiwidmFsSG9va3MiLCJyZnh0eXBlcyIsInNjcm9sbEhlaWdodCIsImdldFNldEF0dHJpYnV0ZSIsImdldFNldElucHV0IiwicmVtb3ZlQXR0ciIsInNwZWVkcyIsIm1heEl0ZXJhdGlvbnMiLCJvcHREaXNhYmxlZCIsInJhZGlvVmFsdWUiLCJoZWlnaHQiLCJjb2xsZWN0aW9uIiwicHJvcGVydGllcyIsInRpY2siLCJjdXJyZW50VGltZSIsImNyZWF0ZUZ4Tm93Iiwic3RhcnRUaW1lIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwiZ290b0VuZCIsInJlamVjdFdpdGgiLCJuVHlwZSIsImV4cGFuZCIsImF0dHJOYW1lcyIsImNvbXBsZXRlIiwidHdlZW5lciIsInByZWZpbHRlciIsIm5vZGVIb29rIiwicmZvY3VzYWJsZSIsImZhZGVUbyIsInByb3BGaXgiLCJvcHRhbGwiLCJ0YWJpbmRleCIsInBhcnNlSW50IiwiY2xhc3NlcyIsImVuY3R5cGUiLCJwcm9jZWVkIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInNsaWRlVG9nZ2xlIiwiZmluYWxWYWx1ZSIsImZhZGVUb2dnbGUiLCJyZW1vdmVDbGFzcyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNsb3ciLCJkZWxheSIsInRpbWUiLCJ0b2dnbGVDbGFzcyIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJoYXNDbGFzcyIsImhyZWZOb3JtYWxpemVkIiwiY2hlY2tPbiIsIm9wdFNlbGVjdGVkIiwicnJldHVybiIsInVuZGVsZWdhdGUiLCJvcGVuIiwiSlNPTiIsIkFjdGl2ZVhPYmplY3QiLCJhc3luYyIsImxvYWRYTUwiLCJhamF4TG9jYXRpb24iLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJvcHRpb25TZXQiLCJkYXRhVHlwZSIsImluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwic3RydWN0dXJlIiwiaW5zcGVjdGVkIiwic2Vla2luZ1RyYW5zcG9ydCIsImRhdGFUeXBlT3JUcmFuc3BvcnQiLCJpbnNwZWN0IiwiYm9vbEhvb2siLCJkYXRhVHlwZXMiLCJydXNlRGVmYXVsdCIsImFqYXhFeHRlbmQiLCJhamF4SGFuZGxlUmVzcG9uc2VzIiwianFYSFIiLCJyZXNwb25zZXMiLCJhdHRySG9va3MiLCJmaW5hbERhdGFUeXBlIiwiZmlyc3REYXRhVHlwZSIsInByb3BOYW1lIiwiY29udmVydGVycyIsInMiLCJyZXNwb25zZSIsImN1cnJlbnQiLCJjb252IiwiZ2V0dGVyIiwiYWN0aXZlIiwic2V0QXR0cmlidXRlTm9kZSIsImNyZWF0ZUF0dHJpYnV0ZSIsImNvb3JkcyIsImNvbnRlbnRlZGl0YWJsZSIsInBhcnNlWE1MIiwiYWpheFNldHVwIiwiYWpheFRyYW5zcG9ydCIsImFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImNhY2hlVVJMIiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwidGltZW91dFRpbWVyIiwidHJhbnNwb3J0IiwiY2FsbGJhY2tDb250ZXh0IiwiZm9yIiwiZ2xvYmFsRXZlbnRDb250ZXh0IiwiY29tcGxldGVEZWZlcnJlZCIsInN0YXR1c0NvZGUiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJyZXNwb25zZUhlYWRlcnMiLCJyY2xpY2thYmxlIiwibWltZVR5cGUiLCJzdGF0dXNUZXh0IiwidXJsIiwicmNsYXNzIiwiYWRkQ2xhc3MiLCJjbGF6eiIsInJub0NvbnRlbnQiLCJsYXN0TW9kaWZpZWQiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiYmVmb3JlU2VuZCIsImhlYWRlcnMiLCJhYm9ydCIsInN0YXRlVmFsIiwiZmlyZUdsb2JhbHMiLCJzZW5kIiwiY2xhc3NOYW1lcyIsIm5hdGl2ZVN0YXR1c1RleHQiLCJpZk1vZGlmaWVkIiwibW9kaWZpZWQiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwiYmluZCIsInN0YXR1cyIsInN1Y2Nlc3MiLCJkZWxlZ2F0ZSIsInJxdWVyeSIsInBhcnNlIiwic3RyIiwicnZhbGlkdG9rZW5zIiwiY29tbWEiLCJyZXF1aXJlTm9uQ29tbWEiLCJkZXB0aCIsIkZ1bmN0aW9uIiwibWV0aG9kIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiYWpheCIsInJoYXNoIiwicnRzIiwicmhlYWRlcnMiLCJydXJsIiwicHJlZmlsdGVycyIsImFsbFR5cGVzIiwidW53cmFwIiwidHJhbnNwb3J0cyIsInRyYWRpdGlvbmFsIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiYnVpbGRQYXJhbXMiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsIndyYXBBbGwiLCJpc0xvY2FsIiwiYWpheExvY1BhcnRzIiwicHJvY2Vzc0RhdGEiLCJ4aHIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCIqIiwianNvbiIsImNyZWF0ZVN0YW5kYXJkWEhSIiwiKiB0ZXh0IiwidGV4dCBodG1sIiwidGV4dCBqc29uIiwidGV4dCB4bWwiLCJhamF4UHJlZmlsdGVyIiwic2V0dGluZ3MiLCJoZWFkIiwic2NyaXB0IiwiY2hhcnNldCIsIm9ubG9hZCIsImpzb25wQ2FsbGJhY2siLCJvdmVyd3JpdHRlbiIsInJlc3BvbnNlQ29udGFpbmVyIiwiY2FsbGJhY2tOYW1lIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwibG5hbWUiLCJyZXF1ZXN0SGVhZGVycyIsIm92ZXJyaWRlTWltZVR5cGUiLCJjb2RlIiwiZmluYWxUZXh0Iiwic3RyQWJvcnQiLCJrZWVwU2NyaXB0cyIsInBhcnNlZCIsInJwcm90b2NvbCIsImNyb3NzRG9tYWluIiwicGFyYW1zIiwiaGFzQ29udGVudCIsIm5vbmNlIiwiZXRhZyIsImNvbnRlbnRUeXBlIiwiY3VyVG9wIiwiY3VyT2Zmc2V0IiwiY3VyQ1NTTGVmdCIsImFjY2VwdHMiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImN1ckNTU1RvcCIsImN1clBvc2l0aW9uIiwib2Zmc2V0Iiwic2V0T2Zmc2V0IiwiaXNTdWNjZXNzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVlPZmZzZXQiLCJvZmZzZXRQYXJlbnQiLCJzZXJpYWxpemUiLCJjdCIsInNlcmlhbGl6ZUFycmF5IiwieGhyU3VwcG9ydGVkIiwieGhyQ2FsbGJhY2tzIiwiY29udjIiLCJyZXNwb25zZUZpZWxkcyIsInhocklkIiwieGhyRmllbGRzIiwiZGF0YUZpbHRlciIsImlzQWJvcnQiLCJyZXNwb25zZVRleHQiLCJhamF4Q29udmVydCIsInBhcmVudE9mZnNldCIsImdldFNjcmlwdCIsImRlZmF1bHRFeHRyYSIsImZ1bmNOYW1lIiwic2l6ZSIsInRocm93cyIsImRlZmluZSIsImFtZCIsIndyYXBJbm5lciIsInZpc2libGUiLCJyMjAiLCJyYnJhY2tldCIsInJDUkxGIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwidiIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyZWF0ZUFjdGl2ZVhIUiIsIlhNTEh0dHBSZXF1ZXN0IiwiY29ycyIsInVzZXJuYW1lIiwidGV4dCBzY3JpcHQiLCJzY3JpcHRDaGFyc2V0Iiwib2xkQ2FsbGJhY2tzIiwicmpzb25wIiwianNvbnAiLCJvcmlnaW5hbFNldHRpbmdzIiwianNvblByb3AiLCJfbG9hZCIsImFuaW1hdGVkIiwiZ2V0V2luZG93IiwiY3VyTGVmdCIsImN1ckVsZW0iLCJ1c2luZyIsIndpbiIsImJveCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsVG8iLCJIZWlnaHQiLCJXaWR0aCIsIiIsIm1hcmdpbiIsImFuZFNlbGYiLCJfalF1ZXJ5IiwiXyQiLCIkIiwibm9Db25mbGljdCIsIm5vR2xvYmFsIl0sIm1hcHBpbmdzIjoiK1BBY0MsU0FBVUEsRUFBUUMsR0FFUSxZQUFsQixvQkFBT0MsT0FBUCxZQUFBQyxRQUFPRCxVQUFpRCxXQUExQkMsUUFBT0QsT0FBT0UsU0FNN0NGLE9BQUFFLFFBQUFKLEVBQUFLLFNBQ0FKLEVBQUFELEdBQUEsR0FDT0ksU0FBVUosR0FHREssSUFBUkMsRUFBbUJELFNBQ0xFLE1BQU8sSUFBQUEsTUFBQSw0Q0FFckIsT0FBT04sRUFBU0ssSUFkNUJMLEVBZ0JPRCxHQWxCVixDQXVCQyxvQkFBQVEsT0FBQUEsWUF2QkQsRUF1QkMsU0FBK0NBLEVBQVVBLEdBWXZELElBQUlDLEVBQVNDLEdBSVRDLEVBQVVELEVBQVdDLE1BSXJCQyxFQUFXQyxFQUFXRCxPQUl0QkUsRUFBT0osRUFBWEssS0FLSUMsRUFBVU4sRUFEZEMsUUFJVUUsRUFBTkksR0FFSUwsRUFBQUMsRUFBQUQsU0FOUk0sRUFBQUwsRUFBQU0sZUFXQUwsRUFBQSxHQU9BRSxFQUFBLFNBbEJBQyxFQUFBLFNBQUFBLEVBQUFHLEVBQUFDLEdBd0JJLE9BQUEsSUFBQUosRUFBQUssR0FBQUMsS0FBQUgsRUFBQUMsSUFRQUcsRUFBQSxxQ0FJSUMsRUFBYUMsUUFiVUMsRUFBQSxlQWtCeEJDLEVBQUUsU0FBZ0JDLEVBQUFDLEdBQ2pCLE9BQVVBLEVBQUhDLGVBNmhCQyxTQUNPQyxFQUFRQyxHQTlFM0IsSUFBSUEsRUFBU0MsRUFBSUQsT0ErRUxFLEVBQVlDLEVBQVpELEtBQXVCRCxHQUVmLE1BQUEsYUFBQUMsSUFBQWxCLEVBQUFvQixTQUFBSCxPQUdSLElBQU9BLEVBQVBJLFdBQUFMLEtBT1IsVUFBQUUsR0FBQSxJQUFBRixHQUNpQixpQkFBQUEsR0FqRWpCLEVBQUFBLEdBQUFBLEVBQUEsS0FBQUMsSUFwZUhqQixFQTFCMEJLLEdBQUFMLEVBQUFzQixVQUFBLENBNkIzQkMs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TSxTQUFXclosR0FBUTBKLEVBQUssU0FBVzFKLEdBQzlDVixFQUFLK1osS0FBTSxTQUFXclosR0FBUTBKLEVBQUssU0FBVzFKLEdBQzlDMEosRUFBSyxTQUFXMUosVUFJUFMsSUFBVmlCLEVBRUg5RSxFQUFPeWlCLElBQUsvZixFQUFNeEIsRUFBTW91QixHQUd4QnR2QixFQUFPcWQsTUFBTzNhLEVBQU14QixFQUFNNEQsRUFBT3dxQixJQUN0Q3B1QixFQUFNd2hCLEVBQVlnbEIsT0FBUzdqQyxFQUFXNmUsRUFBVyxXQU9oRTFpQixFQUFPSyxHQUFHZ2xDLEtBQU8sV0FDYixPQUFPeGpDLEtBQUtiLFFBR2hCaEIsRUFBT0ssR0FBR3NuQyxRQUFVM25DLEVBQU9LLEdBQUdtWSxRQWtCUCxtQkFBWCtzQixRQUF5QkEsT0FBT0MsS0FDeENELE9BQVEsU0FBVSxHQUFJLFdBQ2xCLE9BQU92bEMsSUFPZixJQUVJNG5DLEdBQVVyb0MsRUFBT1MsT0FHakI2bkMsR0FBS3RvQyxFQUFPdW9DLEVBd0JoQixPQXRCQTluQyxFQUFPK25DLFdBQWEsU0FBVWpsQyxHQVMxQixPQVJLdkQsRUFBT3VvQyxJQUFNOW5DLElBQ2RULEVBQU91b0MsRUFBSUQsSUFHVi9rQyxHQUFRdkQsRUFBT1MsU0FBV0EsSUFDM0JULEVBQU9TLE9BQVM0bkMsSUFHYjVuQyxHQU1OZCxRQUFPOG9DLEtBQWEvb0IsSUFDckIxZixFQUFPUyxPQUFTVCxFQUFPdW9DLEVBQUk5bkMsR0FNeEJBIiwiZmlsZSI6ImpxdWVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYxLjExLjJcclxuICogaHR0cDovL2pxdWVyeS5jb20vXHJcbiAqXHJcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xyXG4gKiBodHRwOi8vc2l6emxlanMuY29tL1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXHJcbiAqXHJcbiAqIERhdGU6IDIwMTQtMTItMTdUMTU6MjdaXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XHJcblxyXG4gICAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcclxuICAgICAgICAvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIHdpbmRvdyBpcyBwcmVzZW50LFxyXG4gICAgICAgIC8vIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnlcclxuICAgICAgICAvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGluaGVyZW50bHkgcG9zc2VzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFxyXG4gICAgICAgIC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBqUXVlcnktbWFraW5nIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHNcclxuICAgICAgICAvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIHdpbmRvd1xyXG4gICAgICAgIC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcclxuICAgICAgICAvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xyXG4gICAgICAgICAgICBmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCB3ICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhdy5kb2N1bWVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeSggdyApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmYWN0b3J5KCBnbG9iYWwgKTtcclxuICAgIH1cclxuXHJcbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XHJcbn0odHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xyXG5cclxuLy8gQ2FuJ3QgZG8gdGhpcyBiZWNhdXNlIHNldmVyYWwgYXBwcyBpbmNsdWRpbmcgQVNQLk5FVCB0cmFjZVxyXG4vLyB0aGUgc3RhY2sgdmlhIGFyZ3VtZW50cy5jYWxsZXIuY2FsbGVlIGFuZCBGaXJlZm94IGRpZXMgaWZcclxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxyXG4vLyBTdXBwb3J0OiBGaXJlZm94IDE4K1xyXG4vL1xyXG5cclxuICAgIHZhciBkZWxldGVkSWRzID0gW107XHJcblxyXG4gICAgdmFyIHNsaWNlID0gZGVsZXRlZElkcy5zbGljZTtcclxuXHJcbiAgICB2YXIgY29uY2F0ID0gZGVsZXRlZElkcy5jb25jYXQ7XHJcblxyXG4gICAgdmFyIHB1c2ggPSBkZWxldGVkSWRzLnB1c2g7XHJcblxyXG4gICAgdmFyIGluZGV4T2YgPSBkZWxldGVkSWRzLmluZGV4T2Y7XHJcblxyXG4gICAgdmFyIGNsYXNzMnR5cGUgPSB7fTtcclxuXHJcbiAgICB2YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xyXG5cclxuICAgIHZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xyXG5cclxuICAgIHZhciBzdXBwb3J0ID0ge307XHJcblxyXG5cclxuXHJcbiAgICB2YXJcclxuICAgICAgICB2ZXJzaW9uID0gXCIxLjExLjJcIixcclxuXHJcbiAgICAvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxyXG4gICAgICAgIGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcclxuICAgICAgICAgICAgLy8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXHJcbiAgICAgICAgICAgIC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMSwgSUU8OVxyXG4gICAgLy8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXHJcbiAgICAgICAgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXHJcblxyXG4gICAgLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXHJcbiAgICAgICAgcm1zUHJlZml4ID0gL14tbXMtLyxcclxuICAgICAgICByZGFzaEFscGhhID0gLy0oW1xcZGEtel0pL2dpLFxyXG5cclxuICAgIC8vIFVzZWQgYnkgalF1ZXJ5LmNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcclxuICAgICAgICBmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xyXG4gICAgICAgIC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcclxuICAgICAgICBqcXVlcnk6IHZlcnNpb24sXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yOiBqUXVlcnksXHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggYW4gZW1wdHkgc2VsZWN0b3JcclxuICAgICAgICBzZWxlY3RvcjogXCJcIixcclxuXHJcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXHJcbiAgICAgICAgbGVuZ3RoOiAwLFxyXG5cclxuICAgICAgICB0b0FycmF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXHJcbiAgICAgICAgLy8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW0gIT0gbnVsbCA/XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxyXG4gICAgICAgICAgICAgICAgKCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcclxuICAgICAgICAgICAgICAgIHNsaWNlLmNhbGwoIHRoaXMgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXHJcbiAgICAgICAgLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXHJcbiAgICAgICAgcHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxyXG4gICAgICAgICAgICB2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxyXG4gICAgICAgICAgICByZXQucHJldk9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldC5jb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG5cclxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxyXG4gICAgICAgIC8vIChZb3UgY2FuIHNlZWQgdGhlIGFyZ3VtZW50cyB3aXRoIGFuIGFycmF5IG9mIGFyZ3MsIGJ1dCB0aGlzIGlzXHJcbiAgICAgICAgLy8gb25seSB1c2VkIGludGVybmFsbHkuKVxyXG4gICAgICAgIGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjaywgYXJncyApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjaywgYXJncyApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAodGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2xpY2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXEoIDAgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBsYXN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXEoIC0xICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZXE6IGZ1bmN0aW9uKCBpICkge1xyXG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzW2pdIF0gOiBbXSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcihudWxsKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXHJcbiAgICAgICAgLy8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXHJcbiAgICAgICAgcHVzaDogcHVzaCxcclxuICAgICAgICBzb3J0OiBkZWxldGVkSWRzLnNvcnQsXHJcbiAgICAgICAgc3BsaWNlOiBkZWxldGVkSWRzLnNwbGljZVxyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzcmMsIGNvcHlJc0FycmF5LCBjb3B5LCBuYW1lLCBvcHRpb25zLCBjbG9uZSxcclxuICAgICAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LFxyXG4gICAgICAgICAgICBpID0gMSxcclxuICAgICAgICAgICAgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcclxuICAgICAgICAgICAgZGVlcCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcclxuICAgICAgICAgICAgZGVlcCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcclxuICAgICAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxyXG4gICAgICAgIGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24odGFyZ2V0KSApIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBleHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcclxuICAgICAgICBpZiAoIGkgPT09IGxlbmd0aCApIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcztcclxuICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcclxuICAgICAgICAgICAgaWYgKCAob3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdKSAhPSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgZm9yICggbmFtZSBpbiBvcHRpb25zICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IHRhcmdldFsgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRhcmdldCA9PT0gY29weSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KGNvcHkpKSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNvcHlJc0FycmF5ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gc3JjICYmIGpRdWVyeS5pc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxyXG4gICAgICAgIGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXHJcblxyXG4gICAgICAgIC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXHJcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcclxuXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggbXNnICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbm9vcDogZnVuY3Rpb24oKSB7fSxcclxuXHJcbiAgICAgICAgLy8gU2VlIHRlc3QvdW5pdC9jb3JlLmpzIGZvciBkZXRhaWxzIGNvbmNlcm5pbmcgaXNGdW5jdGlvbi5cclxuICAgICAgICAvLyBTaW5jZSB2ZXJzaW9uIDEuMywgRE9NIG1ldGhvZHMgYW5kIGZ1bmN0aW9ucyBsaWtlIGFsZXJ0XHJcbiAgICAgICAgLy8gYXJlbid0IHN1cHBvcnRlZC4gVGhleSByZXR1cm4gZmFsc2Ugb24gSUUgKCMyOTY4KS5cclxuICAgICAgICBpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LnR5cGUob2JqKSA9PT0gXCJmdW5jdGlvblwiO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oIG9iaiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS50eXBlKG9iaikgPT09IFwiYXJyYXlcIjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcclxuICAgICAgICAgICAgLyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cclxuICAgICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcclxuICAgICAgICAgICAgLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKG51bGx8dHJ1ZXxmYWxzZXxcIlwiKVxyXG4gICAgICAgICAgICAvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXHJcbiAgICAgICAgICAgIC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxyXG4gICAgICAgICAgICAvLyBhZGRpbmcgMSBjb3JyZWN0cyBsb3NzIG9mIHByZWNpc2lvbiBmcm9tIHBhcnNlRmxvYXQgKCMxNTEwMClcclxuICAgICAgICAgICAgcmV0dXJuICFqUXVlcnkuaXNBcnJheSggb2JqICkgJiYgKG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICsgMSkgPj0gMDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZTtcclxuICAgICAgICAgICAgZm9yICggbmFtZSBpbiBvYmogKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcclxuICAgICAgICAgICAgdmFyIGtleTtcclxuXHJcbiAgICAgICAgICAgIC8vIE11c3QgYmUgYW4gT2JqZWN0LlxyXG4gICAgICAgICAgICAvLyBCZWNhdXNlIG9mIElFLCB3ZSBhbHNvIGhhdmUgdG8gY2hlY2sgdGhlIHByZXNlbmNlIG9mIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0eS5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgRE9NIG5vZGVzIGFuZCB3aW5kb3cgb2JqZWN0cyBkb24ndCBwYXNzIHRocm91Z2gsIGFzIHdlbGxcclxuICAgICAgICAgICAgaWYgKCAhb2JqIHx8IGpRdWVyeS50eXBlKG9iaikgIT09IFwib2JqZWN0XCIgfHwgb2JqLm5vZGVUeXBlIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIG9iai5jb25zdHJ1Y3RvciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd24uY2FsbChvYmosIFwiY29uc3RydWN0b3JcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhaGFzT3duLmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJRTgsOSBXaWxsIHRocm93IGV4Y2VwdGlvbnMgb24gY2VydGFpbiBob3N0IG9iamVjdHMgIzk4OTdcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OVxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgaXRlcmF0aW9uIG92ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVmb3JlIG93biBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgICBpZiAoIHN1cHBvcnQub3duTGFzdCApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoIGtleSBpbiBvYmogKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc093bi5jYWxsKCBvYmosIGtleSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcclxuICAgICAgICAgICAgLy8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXHJcbiAgICAgICAgICAgIGZvciAoIGtleSBpbiBvYmogKSB7fVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKCBvYmosIGtleSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XHJcbiAgICAgICAgICAgIGlmICggb2JqID09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICsgXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xyXG4gICAgICAgICAgICBjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKG9iaikgXSB8fCBcIm9iamVjdFwiIDpcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvYmo7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcclxuICAgICAgICAvLyBXb3JrYXJvdW5kcyBiYXNlZCBvbiBmaW5kaW5ncyBieSBKaW0gRHJpc2NvbGxcclxuICAgICAgICAvLyBodHRwOi8vd2VibG9ncy5qYXZhLm5ldC9ibG9nL2RyaXNjb2xsL2FyY2hpdmUvMjAwOS8wOS8wOC9ldmFsLWphdmFzY3JpcHQtZ2xvYmFsLWNvbnRleHRcclxuICAgICAgICBnbG9iYWxFdmFsOiBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgICAgICAgaWYgKCBkYXRhICYmIGpRdWVyeS50cmltKCBkYXRhICkgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSB1c2UgZXhlY1NjcmlwdCBvbiBJbnRlcm5ldCBFeHBsb3JlclxyXG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIGFuIGFub255bW91cyBmdW5jdGlvbiBzbyB0aGF0IGNvbnRleHQgaXMgd2luZG93XHJcbiAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBqUXVlcnkgaW4gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgKCB3aW5kb3cuZXhlY1NjcmlwdCB8fCBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbIFwiZXZhbFwiIF0uY2FsbCggd2luZG93LCBkYXRhICk7XHJcbiAgICAgICAgICAgICAgICB9ICkoIGRhdGEgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcclxuICAgICAgICAvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXHJcbiAgICAgICAgY2FtZWxDYXNlOiBmdW5jdGlvbiggc3RyaW5nICkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIGFyZ3MgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcclxuICAgICAgICBlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjaywgYXJncyApIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBvYmoubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgaXNBcnJheSA9IGlzQXJyYXlsaWtlKCBvYmogKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggYXJncyApIHtcclxuICAgICAgICAgICAgICAgIGlmICggaXNBcnJheSApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjay5hcHBseSggb2JqWyBpIF0sIGFyZ3MgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIGkgaW4gb2JqICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KCBvYmpbIGkgXSwgYXJncyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBIHNwZWNpYWwsIGZhc3QsIGNhc2UgZm9yIHRoZSBtb3N0IGNvbW1vbiB1c2Ugb2YgZWFjaFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBpc0FycmF5ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSBpbiBvYmogKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4xLCBJRTw5XHJcbiAgICAgICAgdHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0ID09IG51bGwgP1xyXG4gICAgICAgICAgICAgICAgXCJcIiA6XHJcbiAgICAgICAgICAgICAgICAoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XHJcbiAgICAgICAgbWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICggYXJyICE9IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGlzQXJyYXlsaWtlKCBPYmplY3QoYXJyKSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZSggcmV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgYXJyIF0gOiBhcnJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoLmNhbGwoIHJldCwgYXJyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcclxuICAgICAgICAgICAgdmFyIGxlbjtcclxuXHJcbiAgICAgICAgICAgIGlmICggYXJyICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBpbmRleE9mICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpID0gaSA/IGkgPCAwID8gTWF0aC5tYXgoIDAsIGxlbiArIGkgKSA6IGkgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgYWNjZXNzaW5nIGluIHNwYXJzZSBhcnJheXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGkgaW4gYXJyICYmIGFyclsgaSBdID09PSBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XHJcbiAgICAgICAgICAgIHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGogPSAwLFxyXG4gICAgICAgICAgICAgICAgaSA9IGZpcnN0Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICggaiA8IGxlbiApIHtcclxuICAgICAgICAgICAgICAgIGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaisrIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBjYXN0aW5nIG9mIC5sZW5ndGggdG8gTmFOIG9uIG90aGVyd2lzZSBhcnJheWxpa2Ugb2JqZWN0cyAoZS5nLiwgTm9kZUxpc3RzKVxyXG4gICAgICAgICAgICBpZiAoIGxlbiAhPT0gbGVuICkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCBzZWNvbmRbal0gIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGorKyBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaXJzdC5sZW5ndGggPSBpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrSW52ZXJzZSxcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xyXG5cclxuICAgICAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xyXG4gICAgICAgICAgICAvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxyXG4gICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcclxuICAgICAgICBtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBlbGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpc0FycmF5ID0gaXNBcnJheWxpa2UoIGVsZW1zICksXHJcbiAgICAgICAgICAgICAgICByZXQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXHJcbiAgICAgICAgICAgIGlmICggaXNBcnJheSApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlICE9IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCB2YWx1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yICggaSBpbiBlbGVtcyApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCggdmFsdWUgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcclxuICAgICAgICAgICAgcmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xyXG4gICAgICAgIGd1aWQ6IDEsXHJcblxyXG4gICAgICAgIC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxyXG4gICAgICAgIC8vIGFyZ3VtZW50cy5cclxuICAgICAgICBwcm94eTogZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICB2YXIgYXJncywgcHJveHksIHRtcDtcclxuXHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgICAgICB0bXAgPSBmblsgY29udGV4dCBdO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGZuO1xyXG4gICAgICAgICAgICAgICAgZm4gPSB0bXA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXHJcbiAgICAgICAgICAgIC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXHJcbiAgICAgICAgICAgIGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2ltdWxhdGVkIGJpbmRcclxuICAgICAgICAgICAgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xyXG4gICAgICAgICAgICBwcm94eSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgcHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbm93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICsoIG5ldyBEYXRlKCkgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxyXG4gICAgICAgIHN1cHBvcnQ6IHN1cHBvcnRcclxuICAgIH0pO1xyXG5cclxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXHJcbiAgICBqUXVlcnkuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICBjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzQXJyYXlsaWtlKCBvYmogKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGgsXHJcbiAgICAgICAgICAgIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XHJcblxyXG4gICAgICAgIGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggb2JqLm5vZGVUeXBlID09PSAxICYmIGxlbmd0aCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxyXG4gICAgICAgICAgICB0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xyXG4gICAgfVxyXG4gICAgdmFyIFNpenpsZSA9XHJcbiAgICAgICAgLyohXHJcbiAgICAgICAgICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMi4wLXByZVxyXG4gICAgICAgICAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBDb3B5cmlnaHQgMjAwOCwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXHJcbiAgICAgICAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAgICAgICAgICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRGF0ZTogMjAxNC0xMi0xNlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIChmdW5jdGlvbiggd2luZG93ICkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0LFxyXG4gICAgICAgICAgICAgICAgRXhwcixcclxuICAgICAgICAgICAgICAgIGdldFRleHQsXHJcbiAgICAgICAgICAgICAgICBpc1hNTCxcclxuICAgICAgICAgICAgICAgIHRva2VuaXplLFxyXG4gICAgICAgICAgICAgICAgY29tcGlsZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdCxcclxuICAgICAgICAgICAgICAgIG91dGVybW9zdENvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBzb3J0SW5wdXQsXHJcbiAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUsXHJcblxyXG4gICAgICAgICAgICAvLyBMb2NhbCBkb2N1bWVudCB2YXJzXHJcbiAgICAgICAgICAgICAgICBzZXREb2N1bWVudCxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LFxyXG4gICAgICAgICAgICAgICAgZG9jRWxlbSxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50SXNIVE1MLFxyXG4gICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLFxyXG4gICAgICAgICAgICAgICAgcmJ1Z2d5TWF0Y2hlcyxcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMsXHJcbiAgICAgICAgICAgICAgICBjb250YWlucyxcclxuXHJcbiAgICAgICAgICAgIC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcclxuICAgICAgICAgICAgICAgIGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXHJcbiAgICAgICAgICAgICAgICBkaXJydW5zID0gMCxcclxuICAgICAgICAgICAgICAgIGRvbmUgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXHJcbiAgICAgICAgICAgICAgICB0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcclxuICAgICAgICAgICAgICAgIGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxyXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBhID09PSBiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBHZW5lcmFsLXB1cnBvc2UgY29uc3RhbnRzXHJcbiAgICAgICAgICAgICAgICBNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxyXG5cclxuICAgICAgICAgICAgLy8gSW5zdGFuY2UgbWV0aG9kc1xyXG4gICAgICAgICAgICAgICAgaGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgIGFyciA9IFtdLFxyXG4gICAgICAgICAgICAgICAgcG9wID0gYXJyLnBvcCxcclxuICAgICAgICAgICAgICAgIHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXHJcbiAgICAgICAgICAgICAgICBwdXNoID0gYXJyLnB1c2gsXHJcbiAgICAgICAgICAgICAgICBzbGljZSA9IGFyci5zbGljZSxcclxuICAgICAgICAgICAgLy8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxyXG4gICAgICAgICAgICAgICAgaW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gbGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgYm9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBSZWd1bGFyIGV4cHJlc3Npb25zXHJcblxyXG4gICAgICAgICAgICAvLyBXaGl0ZXNwYWNlIGNoYXJhY3RlcnMgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2VcclxuICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc3ludGF4LyNjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJFbmNvZGluZyA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBMb29zZWx5IG1vZGVsZWQgb24gQ1NTIGlkZW50aWZpZXIgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICAvLyBBbiB1bnF1b3RlZCB2YWx1ZSBzaG91bGQgYmUgYSBDU1MgaWRlbnRpZmllciBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xyXG4gICAgICAgICAgICAvLyBQcm9wZXIgc3ludGF4OiBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBjaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCBcIndcIiwgXCJ3I1wiICksXHJcblxyXG4gICAgICAgICAgICAvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxyXG4gICAgICAgICAgICAgICAgICAgIFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiKlxcXFxdXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgcHNldWRvcyA9IFwiOihcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpKD86XFxcXCgoXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcclxuICAgICAgICAgICAgICAgICAgICBcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXHJcbiAgICAgICAgICAgICAgICAgICAgXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgXCIuKlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIilcXFxcKXwpXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBMZWFkaW5nIGFuZCBub24tZXNjYXBlZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBjYXB0dXJpbmcgc29tZSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHByZWNlZGluZyB0aGUgbGF0dGVyXHJcbiAgICAgICAgICAgICAgICByd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcclxuICAgICAgICAgICAgICAgIHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcclxuXHJcbiAgICAgICAgICAgICAgICByY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcclxuICAgICAgICAgICAgICAgIHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxyXG5cclxuICAgICAgICAgICAgICAgIHJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCBcIj1cIiArIHdoaXRlc3BhY2UgKyBcIiooW15cXFxcXSdcXFwiXSo/KVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsIFwiZ1wiICksXHJcblxyXG4gICAgICAgICAgICAgICAgcnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSxcclxuICAgICAgICAgICAgICAgIHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcclxuXHJcbiAgICAgICAgICAgICAgICBtYXRjaEV4cHIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIilcIiApLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArIFwiKVwiICksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUQUdcIjogbmV3IFJlZ0V4cCggXCJeKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggXCJ3XCIsIFwidypcIiApICsgXCIpXCIgKSxcclxuICAgICAgICAgICAgICAgICAgICBcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcclxuICAgICAgICAgICAgICAgICAgICBcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiApLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYm9vbFwiOiBuZXcgUmVnRXhwKCBcIl4oPzpcIiArIGJvb2xlYW5zICsgXCIpJFwiLCBcImlcIiApLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcclxuICAgICAgICAgICAgICAgICAgICBcIm5lZWRzQ29udGV4dFwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICByaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcclxuICAgICAgICAgICAgICAgIHJoZWFkZXIgPSAvXmhcXGQkL2ksXHJcblxyXG4gICAgICAgICAgICAgICAgcm5hdGl2ZSA9IC9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXHJcblxyXG4gICAgICAgICAgICAvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcclxuICAgICAgICAgICAgICAgIHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcclxuXHJcbiAgICAgICAgICAgICAgICByc2libGluZyA9IC9bK35dLyxcclxuICAgICAgICAgICAgICAgIHJlc2NhcGUgPSAvJ3xcXFxcL2csXHJcblxyXG4gICAgICAgICAgICAvLyBDU1MgZXNjYXBlcyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICAgICBydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxyXG4gICAgICAgICAgICAgICAgZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94PDI0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaCA8IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQk1QIGNvZGVwb2ludFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwbGVtZW50YWwgUGxhbmUgY29kZXBvaW50IChzdXJyb2dhdGUgcGFpcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIFVzZWQgZm9yIGlmcmFtZXNcclxuICAgICAgICAgICAgLy8gU2VlIHNldERvY3VtZW50KClcclxuICAgICAgICAgICAgLy8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXHJcbiAgICAgICAgICAgIC8vIGVycm9yIGluIElFXHJcbiAgICAgICAgICAgICAgICB1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcHVzaC5hcHBseShcclxuICAgICAgICAgICAgICAgICAgICAoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxyXG4gICAgICAgICAgICAgICAgYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XHJcbiAgICAgICAgICAgICAgICBwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoX25hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKGVscykgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IDpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAodGFyZ2V0W2orK10gPSBlbHNbaSsrXSkgKSB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQubGVuZ3RoID0gaiAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaCwgZWxlbSwgbSwgbm9kZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAvLyBRU0EgdmFyc1xyXG4gICAgICAgICAgICAgICAgICAgIGksIGdyb3Vwcywgb2xkLCBuaWQsIG5ld0NvbnRleHQsIG5ld1NlbGVjdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGUgPSBjb250ZXh0Lm5vZGVUeXBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhc2VlZCAmJiBkb2N1bWVudElzSFRNTCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyB3aGVuIHBvc3NpYmxlIChlLmcuLCBub3QgdW5kZXIgRG9jdW1lbnRGcmFnbWVudClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVlZC11cDogU2l6emxlKFwiI0lEXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5vZGVUeXBlID09PSA5ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdGhlIGRvY3VtZW50IChqUXVlcnkgIzY5NjMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIElFLCBPcGVyYSwgYW5kIFdlYmtpdCByZXR1cm4gaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgbmFtZSBpbnN0ZWFkIG9mIElEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5pZCA9PT0gbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRleHQgaXMgbm90IGEgZG9jdW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNvbnRleHQub3duZXJEb2N1bWVudCAmJiAoZWxlbSA9IGNvbnRleHQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWlucyggY29udGV4dCwgZWxlbSApICYmIGVsZW0uaWQgPT09IG0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BlZWQtdXA6IFNpenpsZShcIlRBR1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWVkLXVwOiBTaXp6bGUoXCIuQ0xBU1NcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBRU0EgcGF0aFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3VwcG9ydC5xc2EgJiYgKCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmlkID0gb2xkID0gZXhwYW5kbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yID0gbm9kZVR5cGUgIT09IDEgJiYgc2VsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBxU0Egd29ya3Mgc3RyYW5nZWx5IG9uIEVsZW1lbnQtcm9vdGVkIHF1ZXJpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHdvcmsgYXJvdW5kIHRoaXMgYnkgc3BlY2lmeWluZyBhbiBleHRyYSBJRCBvbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd29ya2luZyB1cCBmcm9tIHRoZXJlIChUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhlIHRlY2huaXF1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgOCBkb2Vzbid0IHdvcmsgb24gb2JqZWN0IGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbm9kZVR5cGUgPT09IDEgJiYgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAob2xkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlkID0gb2xkLnJlcGxhY2UoIHJlc2NhcGUsIFwiXFxcXCQmXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgbmlkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWQgPSBcIltpZD0nXCIgKyBuaWQgKyBcIiddIFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBncm91cHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzW2ldID0gbmlkICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5ld1NlbGVjdG9yICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KCByZXN1bHRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChxc2FFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFvbGQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFsbCBvdGhlcnNcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbihzdHJpbmcsIE9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcclxuICAgICAgICAgICAgICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXHJcbiAgICAgICAgICAgICAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1NylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XHJcbiAgICAgICAgICAgICAgICBmblsgZXhwYW5kbyBdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBkaXYgYW5kIGV4cGVjdHMgYSBib29sZWFuIHJlc3VsdFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZm4oIGRpdiApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXYucGFyZW50Tm9kZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGRpdiApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxyXG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcclxuICAgICAgICAgICAgICAgICAgICBpID0gYXR0cnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgIEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGFcclxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBiXHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1ciA9IGIgJiYgYSxcclxuICAgICAgICAgICAgICAgICAgICBkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIH5iLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApIC1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKCB+YS5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcclxuICAgICAgICAgICAgICAgIGlmICggZGlmZiApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlmZjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxyXG4gICAgICAgICAgICAgICAgaWYgKCBjdXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXIgPT09IGIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcclxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCA9ICthcmd1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGktLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcclxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcclxuICAgICAgICAgICAgICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXHJcbiAgICAgICAgICAgIHN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERldGVjdHMgWE1MIG5vZGVzXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudEVsZW1lbnQgaXMgdmVyaWZpZWQgZm9yIGNhc2VzIHdoZXJlIGl0IGRvZXNuJ3QgeWV0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICAvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcclxuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJIVE1MXCIgOiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcclxuICAgICAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wYXJlLCBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIG5vIGRvY3VtZW50IGFuZCBkb2N1bWVudEVsZW1lbnQgaXMgYXZhaWxhYmxlLCByZXR1cm5cclxuICAgICAgICAgICAgICAgIGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCBvdXIgZG9jdW1lbnRcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50ID0gZG9jO1xyXG4gICAgICAgICAgICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBkb2MuZGVmYXVsdFZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU+OFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgaWZyYW1lIGRvY3VtZW50IGlzIGFzc2lnbmVkIHRvIFwiZG9jdW1lbnRcIiB2YXJpYWJsZSBhbmQgaWYgaWZyYW1lIGhhcyBiZWVuIHJlbG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgLy8gSUUgd2lsbCB0aHJvdyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBhY2Nlc3NpbmcgXCJkb2N1bWVudFwiIHZhcmlhYmxlLCBzZWUgalF1ZXJ5ICMxMzkzNlxyXG4gICAgICAgICAgICAgICAgLy8gSUU2LTggZG8gbm90IHN1cHBvcnQgdGhlIGRlZmF1bHRWaWV3IHByb3BlcnR5IHNvIHBhcmVudCB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgaWYgKCBwYXJlbnQgJiYgcGFyZW50ICE9PSBwYXJlbnQudG9wICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElFMTEgZG9lcyBub3QgaGF2ZSBhdHRhY2hFdmVudCwgc28gYWxsIG11c3Qgc3VmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggcGFyZW50LmF0dGFjaEV2ZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKiBTdXBwb3J0IHRlc3RzXHJcbiAgICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvYyApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIEF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OFxyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcclxuICAgICAgICAgICAgICAgIHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSBcImlcIjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWRpdi5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBnZXRFbGVtZW50KHMpQnkqXHJcbiAgICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgIHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVDb21tZW50KFwiXCIpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgICAgIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTwxMFxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtYXRpY2FsbHktc2V0IG5hbWVzLFxyXG4gICAgICAgICAgICAgICAgLy8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2NFbGVtLmFwcGVuZENoaWxkKCBkaXYgKS5pZCA9IGV4cGFuZG87XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvYy5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElEIGZpbmQgYW5kIGZpbHRlclxyXG4gICAgICAgICAgICAgICAgaWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBwYXJlbnROb2RlIHRvIGNhdGNoIHdoZW4gQmxhY2tiZXJyeSA0LjYgcmV0dXJuc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgbS5wYXJlbnROb2RlID8gWyBtIF0gOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgRXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU2LzdcclxuICAgICAgICAgICAgICAgICAgICAvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIEV4cHIuZmluZFtcIklEXCJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRhZ1xyXG4gICAgICAgICAgICAgICAgRXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0YWcgPT09IFwiKlwiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xhc3NcclxuICAgICAgICAgICAgICAgIEV4cHIuZmluZFtcIkNMQVNTXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkb2N1bWVudElzSFRNTCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxyXG4gICAgICAgICAgICAgICAgcmJ1Z2d5TWF0Y2hlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3JcclxuICAgICAgICAgICAgICAgIC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcclxuICAgICAgICAgICAgICAgIC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXHJcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcclxuICAgICAgICAgICAgICAgIHJidWdneVFTQSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2MucXVlcnlTZWxlY3RvckFsbCApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZCBRU0EgcmVnZXhcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NFbGVtLmFwcGVuZENoaWxkKCBkaXYgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFOFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWU8MjksIEFuZHJvaWQ8NC4yKywgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjcrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICkuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJEXCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFOFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmZvcmNlIGNhc2Utc2Vuc2l0aXZpdHkgb2YgbmFtZSBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmJ1Z2d5UVNBLnB1c2goXCIsLio6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICAgICAgICAgICAgICBkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICAgICAgICAgICAgICBkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBkaXYsIFwiZGl2XCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLmNhbGwoIGRpdiwgXCJbcyE9JyddOnhcIiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XHJcbiAgICAgICAgICAgICAgICByYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKFwifFwiKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIENvbnRhaW5zXHJcbiAgICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgICAgICAgICAgICAgaGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxyXG4gICAgICAgICAgICAgICAgLy8gUHVycG9zZWZ1bGx5IGRvZXMgbm90IGltcGxlbWVudCBpbmNsdXNpdmUgZGVzY2VuZGVudFxyXG4gICAgICAgICAgICAgICAgLy8gQXMgaW4sIGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGEsIGIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRvd24uY29udGFpbnMgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG93bi5jb250YWlucyggYnVwICkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGEsIGIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYiA9PT0gYSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIFNvcnRpbmdcclxuICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xyXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGEsIGIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGEgPT09IGIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNvbXBhcmUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgbm9kZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjb21wYXJlICYgMSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBhID09PSBkb2MgfHwgYS5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGIgPT09IGRvYyB8fCBiLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydElucHV0ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gOlxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBhLCBiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYSA9PT0gYiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0R1cGxpY2F0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVwID0gYS5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVwID0gYi5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXAgPSBbIGEgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJwID0gWyBiIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFhdXAgfHwgIWJ1cCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhID09PSBkb2MgPyAtMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9PT0gZG9jID8gMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1cCA/IC0xIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cCA/IDEgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRJbnB1dCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXAudW5zaGlmdCggY3VyICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnAudW5zaGlmdCggY3VyICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcclxuICAgICAgICAgICAgICAgIGV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsIFwiPSckMSddXCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICggIXJidWdneVFTQSAgICAgfHwgIXJidWdneVFTQS50ZXN0KCBleHByICkgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcmFnbWVudCBpbiBJRSA5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIFNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoICggY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgKSAhPT0gZG9jdW1lbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldERvY3VtZW50KCBlbGVtICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcclxuICAgICAgICAgICAgICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsIDpcclxuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpICYmIHZhbC5zcGVjaWZpZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnZhbHVlIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBTaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cGxpY2F0ZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBqID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBpID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXHJcbiAgICAgICAgICAgICAgICBoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xyXG4gICAgICAgICAgICAgICAgc29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggaGFzRHVwbGljYXRlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGotLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xyXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XHJcbiAgICAgICAgICAgICAgICBzb3J0SW5wdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICFub2RlVHlwZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGV4dENvbnRlbnQgZm9yIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1MylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIEV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxyXG4gICAgICAgICAgICAgICAgY2FjaGVMZW5ndGg6IDUwLFxyXG5cclxuICAgICAgICAgICAgICAgIGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxyXG5cclxuICAgICAgICAgICAgICAgIG1hdGNoOiBtYXRjaEV4cHIsXHJcblxyXG4gICAgICAgICAgICAgICAgYXR0ckhhbmRsZToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgZmluZDoge30sXHJcblxyXG4gICAgICAgICAgICAgICAgcmVsYXRpdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgcHJlRmlsdGVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDEgdHlwZSAob25seXxudGh8Li4uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgMiB3aGF0IChjaGlsZHxvZi10eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgMyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgNSBzaWduIG9mIHhuLWNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgNiB4IG9mIHhuLWNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgNyBzaWduIG9mIHktY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA4IHkgb2YgeS1jb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbWF0Y2hbMV0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaFszXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbWF0Y2hbM10gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdID0gdW5xdW90ZWQuc2xpY2UoIDAsIGV4Y2VzcyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gb25seSBjYXB0dXJlcyBuZWVkZWQgYnkgdGhlIHBzZXVkbyBmaWx0ZXIgbWV0aG9kICh0eXBlIGFuZCBhcmd1bWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gXCIqXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXR0ZXJuID0gbmV3IFJlZ0V4cCggXCIoXnxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlc3VsdCA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhb3BlcmF0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIGRpZmYsIG5vZGVJbmRleCwgc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcmVudCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzaW1wbGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGRpciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAocGFyZW50WyBleHBhbmRvIF0gPSB7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IG91dGVyQ2FjaGVbIHR5cGUgXSB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB1c2VDYWNoZSAmJiAoY2FjaGUgPSAoZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSkpWyB0eXBlIF0pICYmIGNhY2hlWzBdID09PSBkaXJydW5zICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGNhY2hlWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHhtbCA6bnRoLWNoaWxkKC4uLikgb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJiArK2RpZmYgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB1c2VDYWNoZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5vZGUgPT09IGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiAtPSBsYXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBmblsgZXhwYW5kbyBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKCBhcmd1bWVudCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBmbi5sZW5ndGggPiAxICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgcHNldWRvczoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xyXG4gICAgICAgICAgICAgICAgICAgIFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHNlZWQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFswXSA9IGVsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRbMF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcclxuICAgICAgICAgICAgICAgICAgICAvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXHJcbiAgICAgICAgICAgICAgICAgICAgXCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1MYW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5sYW5nIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1pc2NlbGxhbmVvdXNcclxuICAgICAgICAgICAgICAgICAgICBcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQm9vbGVhbiBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgXCJlbmFibGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkaXNhYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRWxlbWVudC9pbnB1dCB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgXCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyAwIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4ZXMucHVzaCggaSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaEluZGV4ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IC0taSA+PSAwOyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoSW5kZXhlcztcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hJbmRleGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBFeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcclxuXHJcbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXHJcbiAgICAgICAgICAgIGZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xyXG4gICAgICAgICAgICAgICAgRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XHJcbiAgICAgICAgICAgICAgICBFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XHJcbiAgICAgICAgICAgIHNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xyXG4gICAgICAgICAgICBFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgdG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggY2FjaGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc29GYXIgPSBzZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIGdyb3VwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICggc29GYXIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbW1hIGFuZCBmaXJzdCBydW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0ZhcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb21iaW5hdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggKG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hdGNoZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSkgJiYgKCFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hdGNoZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzOiBtYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcclxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlT25seSA/XHJcbiAgICAgICAgICAgICAgICAgICAgc29GYXIubGVuZ3RoIDpcclxuICAgICAgICAgICAgICAgICAgICBzb0ZhciA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSB0b2tlbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gdG9rZW5zLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYgZGlyID09PSBcInBhcmVudE5vZGVcIixcclxuICAgICAgICAgICAgICAgICAgICBkb25lTmFtZSA9IGRvbmUrKztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluYXRvci5maXJzdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGRpciBjYWNoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggeG1sICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChvbGRDYWNoZSA9IG91dGVyQ2FjaGVbIGRpciBdKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAobmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVyc1tpXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gOlxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXJzWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gY29udGV4dHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjb25kZW5zZSggdW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VW5tYXRjaGVkID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBtYXBwZWQgPSBtYXAgIT0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXBwZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnB1c2goIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VW5tYXRjaGVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wLCBpLCBlbGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVNYXAgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdE1hcCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dCA9IG1hdGNoZXIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW10gOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJJbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCBwcmltYXJ5IG1hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBwb3N0RmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBwb3N0RmlsdGVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gdGVtcC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzZWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwb3N0RmluZGVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlck91dC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQgPSBjb25kZW5zZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlck91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBvc3RGaW5kZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSB0b2tlbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgaW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcclxuICAgICAgICAgICAgICAgICAgICBpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleE9mKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSArK2k7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IGogPCBsZW47IGorKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1tqXS50eXBlIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRNYXRjaGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPiAxICYmIHRvU2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zbGljZSggMCwgaSAtIDEgKS5jb25jYXQoeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAodG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA8IGxlbiAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgICAgICBieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgICAgICBzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtLCBqLCBtYXRjaGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZENvdW50ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVkID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbXCJUQUdcIl0oIFwiKlwiLCBvdXRlcm1vc3QgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZWxlbXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBvdXRlcm1vc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCAhPT0gZG9jdW1lbnQgJiYgY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCBgaWAgYSBzdHJpbmcgaWYgdGhlcmUgYXJlIG5vIGVsZW1lbnRzIHNvIGBtYXRjaGVkQ291bnRgIHdpbGwgYmUgXCIwMFwiIGJlbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKCBlbGVtICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG91dGVybW9zdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYnlTZXQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZENvdW50LS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzZWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWQucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRDb3VudCArPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzZWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggb3V0ZXJtb3N0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVubWF0Y2hlZDtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBieVNldCA/XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwZXJNYXRjaGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWF0Y2hlcnMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWF0Y2hlcnMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhY2FjaGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIW1hdGNoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2gubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcclxuICAgICAgICAgICAgICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxyXG4gICAgICAgICAgICAgKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcclxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3RvcixcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBubyBzZWVkIGFuZCBvbmx5IG9uZSBncm91cFxyXG4gICAgICAgICAgICAgICAgaWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRha2UgYSBzaG9ydGN1dCBhbmQgc2V0IHRoZSBjb250ZXh0IGlmIHRoZSByb290IHNlbGVjdG9yIGlzIGFuIElEXHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydC5nZXRCeUlkICYmIGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhY29udGV4dCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggY29tcGlsZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcclxuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGktLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoc2VlZCA9IGZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlKCBpLCAxICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFzZWxlY3RvciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgLy8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxyXG4gICAgICAgICAgICAgICAgKCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxyXG4gICAgICAgICAgICAgICAgICAgIHNlZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAhZG9jdW1lbnRJc0hUTUwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyxcclxuICAgICAgICAgICAgICAgICAgICByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xyXG5cclxuLy8gU29ydCBzdGFiaWxpdHlcclxuICAgICAgICAgICAgc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xyXG5cclxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xyXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIHN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XHJcbiAgICAgICAgICAgIHNldERvY3VtZW50KCk7XHJcblxyXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxyXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcclxuICAgICAgICAgICAgc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdjEgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXYxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICkgJiAxO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbi8vIFN1cHBvcnQ6IElFPDhcclxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcclxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxyXG4gICAgICAgICAgICBpZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcclxuICAgICAgICAgICAgICAgIH0pICkge1xyXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4vLyBTdXBwb3J0OiBJRTw5XHJcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcclxuICAgICAgICAgICAgaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9KSApIHtcclxuICAgICAgICAgICAgICAgIGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuLy8gU3VwcG9ydDogSUU8OVxyXG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXHJcbiAgICAgICAgICAgIGlmICggIWFzc2VydChmdW5jdGlvbiggZGl2ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXYuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pICkge1xyXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhaXNYTUwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBTaXp6bGU7XHJcblxyXG4gICAgICAgIH0pKCB3aW5kb3cgKTtcclxuXHJcblxyXG5cclxuICAgIGpRdWVyeS5maW5kID0gU2l6emxlO1xyXG4gICAgalF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xyXG4gICAgalF1ZXJ5LmV4cHJbXCI6XCJdID0galF1ZXJ5LmV4cHIucHNldWRvcztcclxuICAgIGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcclxuICAgIGpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XHJcbiAgICBqUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XHJcbiAgICBqUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XHJcblxyXG5cclxuXHJcbiAgICB2YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcclxuXHJcbiAgICB2YXIgcnNpbmdsZVRhZyA9ICgvXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8pO1xyXG5cclxuXHJcblxyXG4gICAgdmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcclxuXHJcbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XHJcbiAgICBmdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcclxuICAgICAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgLVcwMTggKi9cclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgcXVhbGlmaWVyID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICBpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBxdWFsaWZpZXIgKSA+PSAwICkgIT09IG5vdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XHJcbiAgICAgICAgdmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xyXG5cclxuICAgICAgICBpZiAoIG5vdCApIHtcclxuICAgICAgICAgICAgZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSA/XHJcbiAgICAgICAgICAgIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XHJcbiAgICAgICAgICAgIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcclxuICAgICAgICBmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICAgICAgcmV0ID0gW10sXHJcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGxlbiA9IHNlbGYubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBOZWVkZWQgYmVjYXVzZSAkKCBzZWxlY3RvciwgY29udGV4dCApIGJlY29tZXMgJCggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yIClcclxuICAgICAgICAgICAgcmV0ID0gdGhpcy5wdXNoU3RhY2soIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlKCByZXQgKSA6IHJldCApO1xyXG4gICAgICAgICAgICByZXQuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArIFwiIFwiICsgc2VsZWN0b3IgOiBzZWxlY3RvcjtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF3aW5ub3coXHJcbiAgICAgICAgICAgICAgICB0aGlzLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcclxuICAgICAgICAgICAgICAgIC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cclxuICAgICAgICAgICAgICAgIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggc2VsZWN0b3IgKSA6XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciB8fCBbXSxcclxuICAgICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgICkubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XHJcblxyXG5cclxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXHJcbiAgICB2YXIgcm9vdGpRdWVyeSxcclxuXHJcbiAgICAvLyBVc2UgdGhlIGNvcnJlY3QgZG9jdW1lbnQgYWNjb3JkaW5nbHkgd2l0aCB3aW5kb3cgYXJndW1lbnQgKHNhbmRib3gpXHJcbiAgICAgICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXHJcblxyXG4gICAgLy8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3NcclxuICAgIC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcclxuICAgIC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxyXG4gICAgICAgIHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcclxuXHJcbiAgICAgICAgaW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICB2YXIgbWF0Y2gsIGVsZW07XHJcblxyXG4gICAgICAgICAgICAvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcclxuICAgICAgICAgICAgaWYgKCAhc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIEhUTUwgc3RyaW5nc1xyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgIGlmICggc2VsZWN0b3IuY2hhckF0KDApID09PSBcIjxcIiAmJiBzZWxlY3Rvci5jaGFyQXQoIHNlbGVjdG9yLmxlbmd0aCAtIDEgKSA9PT0gXCI+XCIgJiYgc2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcclxuICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggJiYgKG1hdGNoWzFdIHx8ICFjb250ZXh0KSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaFsxXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WzBdIDogY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsxXSApICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb250ZXh0ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJCgjaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsyXSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIElFIGFuZCBPcGVyYSByZXR1cm4gaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtLmlkICE9PSBtYXRjaFsyXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdGpRdWVyeS5maW5kKCBzZWxlY3RvciApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgaW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbMF0gPSBlbGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBkb2N1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCBjb250ZXh0IHx8IHJvb3RqUXVlcnkgKS5maW5kKCBzZWxlY3RvciApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcclxuICAgICAgICAgICAgICAgICAgICAvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChET01FbGVtZW50KVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXNbMF0gPSBzZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhBTkRMRTogJChmdW5jdGlvbilcclxuICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygcm9vdGpRdWVyeS5yZWFkeSAhPT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdGpRdWVyeS5yZWFkeSggc2VsZWN0b3IgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yKCBqUXVlcnkgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBzZWxlY3Rvci5zZWxlY3RvciAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yLnNlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gc2VsZWN0b3IuY29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XHJcbiAgICAgICAgfTtcclxuXHJcbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cclxuICAgIGluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxyXG4gICAgcm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcclxuXHJcblxyXG4gICAgdmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxyXG4gICAgLy8gbWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcclxuICAgICAgICBndWFyYW50ZWVkVW5pcXVlID0ge1xyXG4gICAgICAgICAgICBjaGlsZHJlbjogdHJ1ZSxcclxuICAgICAgICAgICAgY29udGVudHM6IHRydWUsXHJcbiAgICAgICAgICAgIG5leHQ6IHRydWUsXHJcbiAgICAgICAgICAgIHByZXY6IHRydWVcclxuICAgICAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIGRpcjogZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVkID0gW10sXHJcbiAgICAgICAgICAgICAgICBjdXIgPSBlbGVtWyBkaXIgXTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICggY3VyICYmIGN1ci5ub2RlVHlwZSAhPT0gOSAmJiAodW50aWwgPT09IHVuZGVmaW5lZCB8fCBjdXIubm9kZVR5cGUgIT09IDEgfHwgIWpRdWVyeSggY3VyICkuaXMoIHVudGlsICkpICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBjdXIubm9kZVR5cGUgPT09IDEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZC5wdXNoKCBjdXIgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1ciA9IGN1cltkaXJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNpYmxpbmc6IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xyXG4gICAgICAgICAgICB2YXIgciA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcclxuICAgICAgICAgICAgICAgIGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHIucHVzaCggbiApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcclxuICAgICAgICBoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XHJcbiAgICAgICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXHJcbiAgICAgICAgICAgICAgICBsZW4gPSB0YXJnZXRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbaV0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbiggc2VsZWN0b3JzLCBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICB2YXIgY3VyLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsID0gdGhpcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkID0gW10sXHJcbiAgICAgICAgICAgICAgICBwb3MgPSBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApIHx8IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggc2VsZWN0b3JzLCBjb250ZXh0IHx8IHRoaXMuY29udGV4dCApIDpcclxuICAgICAgICAgICAgICAgICAgICAwO1xyXG5cclxuICAgICAgICAgICAgZm9yICggOyBpIDwgbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgZm9yICggY3VyID0gdGhpc1tpXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAocG9zID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmluZGV4KGN1cikgPiAtMSA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoY3VyLCBzZWxlY3RvcnMpKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQucHVzaCggY3VyICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlKCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpblxyXG4gICAgICAgIC8vIHRoZSBtYXRjaGVkIHNldCBvZiBlbGVtZW50c1xyXG4gICAgICAgIGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XHJcbiAgICAgICAgICAgIGlmICggIWVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCB0aGlzWzBdICYmIHRoaXNbMF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaW5kZXggaW4gc2VsZWN0b3JcclxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuaW5BcnJheSggdGhpc1swXSwgalF1ZXJ5KCBlbGVtICkgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XHJcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuaW5BcnJheShcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxyXG4gICAgICAgICAgICAgICAgZWxlbS5qcXVlcnkgPyBlbGVtWzBdIDogZWxlbSwgdGhpcyApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkudW5pcXVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3RvcilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGN1ciA9IGN1clsgZGlyIF07XHJcbiAgICAgICAgfSB3aGlsZSAoIGN1ciAmJiBjdXIubm9kZVR5cGUgIT09IDEgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgIH1cclxuXHJcbiAgICBqUXVlcnkuZWFjaCh7XHJcbiAgICAgICAgcGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5zaWJsaW5nKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5zaWJsaW5nKCBlbGVtLmZpcnN0Q2hpbGQgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpZnJhbWVcIiApID9cclxuICAgICAgICAgICAgZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgZWxlbS5jb250ZW50V2luZG93LmRvY3VtZW50IDpcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xyXG4gICAgICAgIH1cclxuICAgIH0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcclxuICAgICAgICBqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bnRpbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgcmV0ICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggdGhpcy5sZW5ndGggPiAxICkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcclxuICAgICAgICAgICAgICAgIGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBqUXVlcnkudW5pcXVlKCByZXQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xyXG4gICAgICAgICAgICAgICAgaWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IHJldC5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgdmFyIHJub3R3aGl0ZSA9ICgvXFxTKy9nKTtcclxuXHJcblxyXG5cclxuLy8gU3RyaW5nIHRvIE9iamVjdCBvcHRpb25zIGZvcm1hdCBjYWNoZVxyXG4gICAgdmFyIG9wdGlvbnNDYWNoZSA9IHt9O1xyXG5cclxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMgYW5kIHN0b3JlIGluIGNhY2hlXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xyXG4gICAgICAgIHZhciBvYmplY3QgPSBvcHRpb25zQ2FjaGVbIG9wdGlvbnMgXSA9IHt9O1xyXG4gICAgICAgIGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XHJcbiAgICAgICAgICAgIG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcclxuICAgICAqXHJcbiAgICAgKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xyXG4gICAgICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XHJcbiAgICAgKlxyXG4gICAgICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcclxuICAgICAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cclxuICAgICAqXHJcbiAgICAgKiBQb3NzaWJsZSBvcHRpb25zOlxyXG4gICAgICpcclxuICAgICAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcclxuICAgICAqXHJcbiAgICAgKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcclxuICAgICAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcclxuICAgICAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxyXG4gICAgICpcclxuICAgICAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXHJcbiAgICAgKlxyXG4gICAgICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBqUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcclxuICAgICAgICAvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXHJcbiAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cclxuICAgICAgICAgICAgKCBvcHRpb25zQ2FjaGVbIG9wdGlvbnMgXSB8fCBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgKSA6XHJcbiAgICAgICAgICAgIGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XHJcblxyXG4gICAgICAgIHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXHJcbiAgICAgICAgICAgIGZpcmluZyxcclxuICAgICAgICAvLyBMYXN0IGZpcmUgdmFsdWUgKGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHMpXHJcbiAgICAgICAgICAgIG1lbW9yeSxcclxuICAgICAgICAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxyXG4gICAgICAgICAgICBmaXJlZCxcclxuICAgICAgICAvLyBFbmQgb2YgdGhlIGxvb3Agd2hlbiBmaXJpbmdcclxuICAgICAgICAgICAgZmlyaW5nTGVuZ3RoLFxyXG4gICAgICAgIC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IHJlbW92ZSBpZiBuZWVkZWQpXHJcbiAgICAgICAgICAgIGZpcmluZ0luZGV4LFxyXG4gICAgICAgIC8vIEZpcnN0IGNhbGxiYWNrIHRvIGZpcmUgKHVzZWQgaW50ZXJuYWxseSBieSBhZGQgYW5kIGZpcmVXaXRoKVxyXG4gICAgICAgICAgICBmaXJpbmdTdGFydCxcclxuICAgICAgICAvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxyXG4gICAgICAgICAgICBsaXN0ID0gW10sXHJcbiAgICAgICAgLy8gU3RhY2sgb2YgZmlyZSBjYWxscyBmb3IgcmVwZWF0YWJsZSBsaXN0c1xyXG4gICAgICAgICAgICBzdGFjayA9ICFvcHRpb25zLm9uY2UgJiYgW10sXHJcbiAgICAgICAgLy8gRmlyZSBjYWxsYmFja3NcclxuICAgICAgICAgICAgZmlyZSA9IGZ1bmN0aW9uKCBkYXRhICkge1xyXG4gICAgICAgICAgICAgICAgbWVtb3J5ID0gb3B0aW9ucy5tZW1vcnkgJiYgZGF0YTtcclxuICAgICAgICAgICAgICAgIGZpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZpcmluZ0luZGV4ID0gZmlyaW5nU3RhcnQgfHwgMDtcclxuICAgICAgICAgICAgICAgIGZpcmluZ1N0YXJ0ID0gMDtcclxuICAgICAgICAgICAgICAgIGZpcmluZ0xlbmd0aCA9IGxpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZmlyaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAoIDsgbGlzdCAmJiBmaXJpbmdJbmRleCA8IGZpcmluZ0xlbmd0aDsgZmlyaW5nSW5kZXgrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIGRhdGFbIDAgXSwgZGF0YVsgMSBdICkgPT09IGZhbHNlICYmIG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeSA9IGZhbHNlOyAvLyBUbyBwcmV2ZW50IGZ1cnRoZXIgY2FsbHMgdXNpbmcgYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpcmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCBsaXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3RhY2sgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc3RhY2subGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZSggc3RhY2suc2hpZnQoKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggbWVtb3J5ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XHJcbiAgICAgICAgICAgIHNlbGYgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggbGlzdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QsIHdlIHNhdmUgdGhlIGN1cnJlbnQgbGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGxpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gYWRkKCBhcmdzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBqUXVlcnkudHlwZSggYXJnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlID09PSBcImZ1bmN0aW9uXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goIGFyZyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5zcGVjdCByZWN1cnNpdmVseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQoIGFyZyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSggYXJndW1lbnRzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIHdlIG5lZWQgdG8gYWRkIHRoZSBjYWxsYmFja3MgdG8gdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgZmlyaW5nIGJhdGNoP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGZpcmluZyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmluZ0xlbmd0aCA9IGxpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2l0aCBtZW1vcnksIGlmIHdlJ3JlIG5vdCBmaXJpbmcgdGhlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGNhbGwgcmlnaHQgYXdheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBtZW1vcnkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmdTdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZSggbWVtb3J5ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGxpc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGZpcmluZyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpbmRleCA8PSBmaXJpbmdMZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmdMZW5ndGgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5nSW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cclxuICAgICAgICAgICAgICAgIGhhczogZnVuY3Rpb24oIGZuICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbiA/IGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOiAhISggbGlzdCAmJiBsaXN0Lmxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyaW5nTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyBIYXZlIHRoZSBsaXN0IGRvIG5vdGhpbmcgYW55bW9yZVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IHN0YWNrID0gbWVtb3J5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIElzIGl0IGRpc2FibGVkP1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhbGlzdDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyBMb2NrIHRoZSBsaXN0IGluIGl0cyBjdXJyZW50IHN0YXRlXHJcbiAgICAgICAgICAgICAgICBsb2NrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFtZW1vcnkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyBJcyBpdCBsb2NrZWQ/XHJcbiAgICAgICAgICAgICAgICBsb2NrZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhc3RhY2s7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xyXG4gICAgICAgICAgICAgICAgZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggbGlzdCAmJiAoICFmaXJlZCB8fCBzdGFjayApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBmaXJpbmcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCBhcmdzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlKCBhcmdzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcclxuICAgICAgICAgICAgICAgIGZpcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxyXG4gICAgICAgICAgICAgICAgZmlyZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWZpcmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG5cclxuICAgICAgICBEZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XHJcbiAgICAgICAgICAgIHZhciB0dXBsZXMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGxpc3RlbmVyIGxpc3QsIGZpbmFsIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgWyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXCJyZXNvbHZlZFwiIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgWyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCBcInJlamVjdGVkXCIgXSxcclxuICAgICAgICAgICAgICAgICAgICBbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm1lbW9yeVwiKSBdXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgICAgIHByb21pc2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhbHdheXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbnMgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuRGVmZXJyZWQoZnVuY3Rpb24oIG5ld0RlZmVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIGkgXSApICYmIGZuc1sgaSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmVycmVkWyBkb25lIHwgZmFpbCB8IHByb2dyZXNzIF0gZm9yIGZvcndhcmRpbmcgYWN0aW9ucyB0byBuZXdEZWZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkWyB0dXBsZVsxXSBdKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkLnByb21pc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmFpbCggbmV3RGVmZXIucmVqZWN0IClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBwcm9taXNlID8gbmV3RGVmZXIucHJvbWlzZSgpIDogdGhpcywgZm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbnMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5wcm9taXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcclxuICAgICAgICAgICAgcHJvbWlzZS5waXBlID0gcHJvbWlzZS50aGVuO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xyXG4gICAgICAgICAgICBqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVTdHJpbmcgPSB0dXBsZVsgMyBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb21pc2VbIGRvbmUgfCBmYWlsIHwgcHJvZ3Jlc3MgXSA9IGxpc3QuYWRkXHJcbiAgICAgICAgICAgICAgICBwcm9taXNlWyB0dXBsZVsxXSBdID0gbGlzdC5hZGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0YXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoIHN0YXRlU3RyaW5nICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSA9IFsgcmVzb2x2ZWQgfCByZWplY3RlZCBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVTdHJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBbIHJlamVjdF9saXN0IHwgcmVzb2x2ZV9saXN0IF0uZGlzYWJsZTsgcHJvZ3Jlc3NfbGlzdC5sb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdHVwbGVzWyBpIF4gMSBdWyAyIF0uZGlzYWJsZSwgdHVwbGVzWyAyIF1bIDIgXS5sb2NrICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGVmZXJyZWRbIHJlc29sdmUgfCByZWplY3QgfCBub3RpZnkgXVxyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWRbIHR1cGxlWzBdIF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFsgdHVwbGVbMF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBkZWZlcnJlZFsgdHVwbGVbMF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2VcclxuICAgICAgICAgICAgcHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxyXG4gICAgICAgICAgICBpZiAoIGZ1bmMgKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBbGwgZG9uZSFcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIERlZmVycmVkIGhlbHBlclxyXG4gICAgICAgIHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByZXNvbHZlVmFsdWVzLmxlbmd0aCxcclxuXHJcbiAgICAgICAgICAgIC8vIHRoZSBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcclxuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IGxlbmd0aCAhPT0gMSB8fCAoIHN1Ym9yZGluYXRlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBzdWJvcmRpbmF0ZS5wcm9taXNlICkgKSA/IGxlbmd0aCA6IDAsXHJcblxyXG4gICAgICAgICAgICAvLyB0aGUgbWFzdGVyIERlZmVycmVkLiBJZiByZXNvbHZlVmFsdWVzIGNvbnNpc3Qgb2Ygb25seSBhIHNpbmdsZSBEZWZlcnJlZCwganVzdCB1c2UgdGhhdC5cclxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gcmVtYWluaW5nID09PSAxID8gc3Vib3JkaW5hdGUgOiBqUXVlcnkuRGVmZXJyZWQoKSxcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmdW5jdGlvbiBmb3IgYm90aCByZXNvbHZlIGFuZCBwcm9ncmVzcyB2YWx1ZXNcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSwgY29udGV4dHMsIHZhbHVlcyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0c1sgaSBdID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdmFsdWVzID09PSBwcm9ncmVzc1ZhbHVlcyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoICEoLS1yZW1haW5pbmcpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmFsdWVzLCBwcm9ncmVzc0NvbnRleHRzLCByZXNvbHZlQ29udGV4dHM7XHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgbGlzdGVuZXJzIHRvIERlZmVycmVkIHN1Ym9yZGluYXRlczsgdHJlYXQgb3RoZXJzIGFzIHJlc29sdmVkXHJcbiAgICAgICAgICAgIGlmICggbGVuZ3RoID4gMSApIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmFsdWVzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQ29udGV4dHMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZUNvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9uZSggdXBkYXRlRnVuYyggaSwgcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICkgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZhaWwoIGRlZmVycmVkLnJlamVjdCApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvZ3Jlc3MoIHVwZGF0ZUZ1bmMoIGksIHByb2dyZXNzQ29udGV4dHMsIHByb2dyZXNzVmFsdWVzICkgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtLXJlbWFpbmluZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIG5vdCB3YWl0aW5nIG9uIGFueXRoaW5nLCByZXNvbHZlIHRoZSBtYXN0ZXJcclxuICAgICAgICAgICAgaWYgKCAhcmVtYWluaW5nICkge1xyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxyXG4gICAgdmFyIHJlYWR5TGlzdDtcclxuXHJcbiAgICBqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBjYWxsYmFja1xyXG4gICAgICAgIGpRdWVyeS5yZWFkeS5wcm9taXNlKCkuZG9uZSggZm4gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXHJcbiAgICAgICAgaXNSZWFkeTogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcclxuICAgICAgICAvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxyXG4gICAgICAgIHJlYWR5V2FpdDogMSxcclxuXHJcbiAgICAgICAgLy8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XHJcbiAgICAgICAgaG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcclxuICAgICAgICAgICAgaWYgKCBob2xkICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlYWR5V2FpdCsrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlYWR5KCB0cnVlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XHJcbiAgICAgICAgcmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xyXG5cclxuICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxyXG4gICAgICAgICAgICBpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGJvZHkgZXhpc3RzLCBhdCBsZWFzdCwgaW4gY2FzZSBJRSBnZXRzIGEgbGl0dGxlIG92ZXJ6ZWFsb3VzICh0aWNrZXQgIzU0NDMpLlxyXG4gICAgICAgICAgICBpZiAoICFkb2N1bWVudC5ib2R5ICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcclxuICAgICAgICAgICAgalF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcclxuICAgICAgICAgICAgaWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcclxuICAgICAgICAgICAgcmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJpZ2dlciBhbnkgYm91bmQgcmVhZHkgZXZlbnRzXHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmZuLnRyaWdnZXJIYW5kbGVyICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXJIYW5kbGVyKCBcInJlYWR5XCIgKTtcclxuICAgICAgICAgICAgICAgIGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIFwicmVhZHlcIiApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhbi11cCBtZXRob2QgZm9yIGRvbSByZWFkeSBldmVudHNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZGV0YWNoKCkge1xyXG4gICAgICAgIGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBjb21wbGV0ZWQgKTtcclxuICAgICAgICAgICAgd2luZG93LmRldGFjaEV2ZW50KCBcIm9ubG9hZFwiLCBjb21wbGV0ZWQgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjb21wbGV0ZWQoKSB7XHJcbiAgICAgICAgLy8gcmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIGlzIGdvb2QgZW5vdWdoIGZvciB1cyB0byBjYWxsIHRoZSBkb20gcmVhZHkgaW4gb2xkSUVcclxuICAgICAgICBpZiAoIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgfHwgZXZlbnQudHlwZSA9PT0gXCJsb2FkXCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiICkge1xyXG4gICAgICAgICAgICBkZXRhY2goKTtcclxuICAgICAgICAgICAgalF1ZXJ5LnJlYWR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGpRdWVyeS5yZWFkeS5wcm9taXNlID0gZnVuY3Rpb24oIG9iaiApIHtcclxuICAgICAgICBpZiAoICFyZWFkeUxpc3QgKSB7XHJcblxyXG4gICAgICAgICAgICByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxyXG4gICAgICAgICAgICAvLyB3ZSBvbmNlIHRyaWVkIHRvIHVzZSByZWFkeVN0YXRlIFwiaW50ZXJhY3RpdmVcIiBoZXJlLCBidXQgaXQgY2F1c2VkIGlzc3VlcyBsaWtlIHRoZSBvbmVcclxuICAgICAgICAgICAgLy8gZGlzY292ZXJlZCBieSBDaHJpc1MgaGVyZTogaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIyODIjY29tbWVudDoxNVxyXG4gICAgICAgICAgICBpZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiApIHtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmRzLWJhc2VkIGJyb3dzZXJzIHN1cHBvcnQgRE9NQ29udGVudExvYWRlZFxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICkge1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgSUUgZXZlbnQgbW9kZWwgaXMgdXNlZFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIGZpcmluZyBiZWZvcmUgb25sb2FkLCBtYXliZSBsYXRlIGJ1dCBzYWZlIGFsc28gZm9yIGlmcmFtZXNcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBjb21wbGV0ZWQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCBcIm9ubG9hZFwiLCBjb21wbGV0ZWQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBJRSBhbmQgbm90IGEgZnJhbWVcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVhbGx5IGNoZWNrIHRvIHNlZSBpZiB0aGUgZG9jdW1lbnQgaXMgcmVhZHlcclxuICAgICAgICAgICAgICAgIHZhciB0b3AgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHdpbmRvdy5mcmFtZUVsZW1lbnQgPT0gbnVsbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCB0b3AgJiYgdG9wLmRvU2Nyb2xsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiBkb1Njcm9sbENoZWNrKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFqUXVlcnkuaXNSZWFkeSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgdHJpY2sgYnkgRGllZ28gUGVyaW5pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL2phdmFzY3JpcHQubndib3guY29tL0lFQ29udGVudExvYWRlZC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AuZG9TY3JvbGwoXCJsZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoIGRvU2Nyb2xsQ2hlY2ssIDUwICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0YWNoIGFsbCBkb20gcmVhZHkgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhY2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZXhlY3V0ZSBhbnkgd2FpdGluZyBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZWFkeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhZHlMaXN0LnByb21pc2UoIG9iaiApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIHN0cnVuZGVmaW5lZCA9IHR5cGVvZiB1bmRlZmluZWQ7XHJcblxyXG5cclxuXHJcbi8vIFN1cHBvcnQ6IElFPDlcclxuLy8gSXRlcmF0aW9uIG92ZXIgb2JqZWN0J3MgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVmb3JlIGl0cyBvd25cclxuICAgIHZhciBpO1xyXG4gICAgZm9yICggaSBpbiBqUXVlcnkoIHN1cHBvcnQgKSApIHtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHN1cHBvcnQub3duTGFzdCA9IGkgIT09IFwiMFwiO1xyXG5cclxuLy8gTm90ZTogbW9zdCBzdXBwb3J0IHRlc3RzIGFyZSBkZWZpbmVkIGluIHRoZWlyIHJlc3BlY3RpdmUgbW9kdWxlcy5cclxuLy8gZmFsc2UgdW50aWwgdGhlIHRlc3QgaXMgcnVuXHJcbiAgICBzdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSBmYWxzZTtcclxuXHJcbi8vIEV4ZWN1dGUgQVNBUCBpbiBjYXNlIHdlIG5lZWQgdG8gc2V0IGJvZHkuc3R5bGUuem9vbVxyXG4gICAgalF1ZXJ5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIE1pbmlmaWVkOiB2YXIgYSxiLGMsZFxyXG4gICAgICAgIHZhciB2YWwsIGRpdiwgYm9keSwgY29udGFpbmVyO1xyXG5cclxuICAgICAgICBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcclxuICAgICAgICBpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZm9yIGZyYW1lc2V0IGRvY3MgdGhhdCBkb24ndCBoYXZlIGEgYm9keVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXR1cFxyXG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XHJcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xyXG5cclxuICAgICAgICBpZiAoIHR5cGVvZiBkaXYuc3R5bGUuem9vbSAhPT0gc3RydW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw4XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5hdGl2ZWx5IGJsb2NrLWxldmVsIGVsZW1lbnRzIGFjdCBsaWtlIGlubGluZS1ibG9ja1xyXG4gICAgICAgICAgICAvLyBlbGVtZW50cyB3aGVuIHNldHRpbmcgdGhlaXIgZGlzcGxheSB0byAnaW5saW5lJyBhbmQgZ2l2aW5nXHJcbiAgICAgICAgICAgIC8vIHRoZW0gbGF5b3V0XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gXCJkaXNwbGF5OmlubGluZTttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjFweDt3aWR0aDoxcHg7em9vbToxXCI7XHJcblxyXG4gICAgICAgICAgICBzdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSB2YWwgPSBkaXYub2Zmc2V0V2lkdGggPT09IDM7XHJcbiAgICAgICAgICAgIGlmICggdmFsICkge1xyXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBJRSA2IGZyb20gYWZmZWN0aW5nIGxheW91dCBmb3IgcG9zaXRpb25lZCBlbGVtZW50cyAjMTEwNDhcclxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgSUUgZnJvbSBzaHJpbmtpbmcgdGhlIGJvZHkgaW4gSUUgNyBtb2RlICMxMjg2OVxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OFxyXG4gICAgICAgICAgICAgICAgYm9keS5zdHlsZS56b29tID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm9keS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdGVzdCBvbmx5IGlmIG5vdCBhbHJlYWR5IGV4ZWN1dGVkIGluIGFub3RoZXIgbW9kdWxlLlxyXG4gICAgICAgIGlmIChzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XHJcbiAgICAgICAgICAgIHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgZGl2LnRlc3Q7XHJcbiAgICAgICAgICAgIH0gY2F0Y2goIGUgKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTnVsbCBlbGVtZW50cyB0byBhdm9pZCBsZWFrcyBpbiBJRS5cclxuICAgICAgICBkaXYgPSBudWxsO1xyXG4gICAgfSkoKTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gb2JqZWN0IGNhbiBoYXZlIGRhdGFcclxuICAgICAqL1xyXG4gICAgalF1ZXJ5LmFjY2VwdERhdGEgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICB2YXIgbm9EYXRhID0galF1ZXJ5Lm5vRGF0YVsgKGVsZW0ubm9kZU5hbWUgKyBcIiBcIikudG9Mb3dlckNhc2UoKSBdLFxyXG4gICAgICAgICAgICBub2RlVHlwZSA9ICtlbGVtLm5vZGVUeXBlIHx8IDE7XHJcblxyXG4gICAgICAgIC8vIERvIG5vdCBzZXQgZGF0YSBvbiBub24tZWxlbWVudCBET00gbm9kZXMgYmVjYXVzZSBpdCB3aWxsIG5vdCBiZSBjbGVhcmVkICgjODMzNSkuXHJcbiAgICAgICAgcmV0dXJuIG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ID9cclxuICAgICAgICAgICAgZmFsc2UgOlxyXG5cclxuICAgICAgICAgICAgLy8gTm9kZXMgYWNjZXB0IGRhdGEgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQ7IHJlamVjdGlvbiBjYW4gYmUgY29uZGl0aW9uYWxcclxuICAgICAgICAhbm9EYXRhIHx8IG5vRGF0YSAhPT0gdHJ1ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzaWRcIikgPT09IG5vRGF0YTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXHJcbiAgICAgICAgcm11bHRpRGFzaCA9IC8oW0EtWl0pL2c7XHJcblxyXG4gICAgZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcclxuICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XHJcbiAgICAgICAgLy8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXHJcbiAgICAgICAgaWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQxXCIgKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9PT0gXCJudWxsXCIgPyBudWxsIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICtkYXRhICsgXCJcIiA9PT0gZGF0YSA/ICtkYXRhIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJyYWNlLnRlc3QoIGRhdGEgKSA/IGpRdWVyeS5wYXJzZUpTT04oIGRhdGEgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCggZSApIHt9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZGF0YSggZWxlbSwga2V5LCBkYXRhICk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4vLyBjaGVja3MgYSBjYWNoZSBvYmplY3QgZm9yIGVtcHRpbmVzc1xyXG4gICAgZnVuY3Rpb24gaXNFbXB0eURhdGFPYmplY3QoIG9iaiApIHtcclxuICAgICAgICB2YXIgbmFtZTtcclxuICAgICAgICBmb3IgKCBuYW1lIGluIG9iaiApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwdWJsaWMgZGF0YSBvYmplY3QgaXMgZW1wdHksIHRoZSBwcml2YXRlIGlzIHN0aWxsIGVtcHR5XHJcbiAgICAgICAgICAgIGlmICggbmFtZSA9PT0gXCJkYXRhXCIgJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9ialtuYW1lXSApICkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBuYW1lICE9PSBcInRvSlNPTlwiICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnRlcm5hbERhdGEoIGVsZW0sIG5hbWUsIGRhdGEsIHB2dCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcclxuICAgICAgICBpZiAoICFqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmV0LCB0aGlzQ2FjaGUsXHJcbiAgICAgICAgICAgIGludGVybmFsS2V5ID0galF1ZXJ5LmV4cGFuZG8sXHJcblxyXG4gICAgICAgIC8vIFdlIGhhdmUgdG8gaGFuZGxlIERPTSBub2RlcyBhbmQgSlMgb2JqZWN0cyBkaWZmZXJlbnRseSBiZWNhdXNlIElFNi03XHJcbiAgICAgICAgLy8gY2FuJ3QgR0Mgb2JqZWN0IHJlZmVyZW5jZXMgcHJvcGVybHkgYWNyb3NzIHRoZSBET00tSlMgYm91bmRhcnlcclxuICAgICAgICAgICAgaXNOb2RlID0gZWxlbS5ub2RlVHlwZSxcclxuXHJcbiAgICAgICAgLy8gT25seSBET00gbm9kZXMgbmVlZCB0aGUgZ2xvYmFsIGpRdWVyeSBjYWNoZTsgSlMgb2JqZWN0IGRhdGEgaXNcclxuICAgICAgICAvLyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgb2JqZWN0IHNvIEdDIGNhbiBvY2N1ciBhdXRvbWF0aWNhbGx5XHJcbiAgICAgICAgICAgIGNhY2hlID0gaXNOb2RlID8galF1ZXJ5LmNhY2hlIDogZWxlbSxcclxuXHJcbiAgICAgICAgLy8gT25seSBkZWZpbmluZyBhbiBJRCBmb3IgSlMgb2JqZWN0cyBpZiBpdHMgY2FjaGUgYWxyZWFkeSBleGlzdHMgYWxsb3dzXHJcbiAgICAgICAgLy8gdGhlIGNvZGUgdG8gc2hvcnRjdXQgb24gdGhlIHNhbWUgcGF0aCBhcyBhIERPTSBub2RlIHdpdGggbm8gY2FjaGVcclxuICAgICAgICAgICAgaWQgPSBpc05vZGUgPyBlbGVtWyBpbnRlcm5hbEtleSBdIDogZWxlbVsgaW50ZXJuYWxLZXkgXSAmJiBpbnRlcm5hbEtleTtcclxuXHJcbiAgICAgICAgLy8gQXZvaWQgZG9pbmcgYW55IG1vcmUgd29yayB0aGFuIHdlIG5lZWQgdG8gd2hlbiB0cnlpbmcgdG8gZ2V0IGRhdGEgb24gYW5cclxuICAgICAgICAvLyBvYmplY3QgdGhhdCBoYXMgbm8gZGF0YSBhdCBhbGxcclxuICAgICAgICBpZiAoICghaWQgfHwgIWNhY2hlW2lkXSB8fCAoIXB2dCAmJiAhY2FjaGVbaWRdLmRhdGEpKSAmJiBkYXRhID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggIWlkICkge1xyXG4gICAgICAgICAgICAvLyBPbmx5IERPTSBub2RlcyBuZWVkIGEgbmV3IHVuaXF1ZSBJRCBmb3IgZWFjaCBlbGVtZW50IHNpbmNlIHRoZWlyIGRhdGFcclxuICAgICAgICAgICAgLy8gZW5kcyB1cCBpbiB0aGUgZ2xvYmFsIGNhY2hlXHJcbiAgICAgICAgICAgIGlmICggaXNOb2RlICkge1xyXG4gICAgICAgICAgICAgICAgaWQgPSBlbGVtWyBpbnRlcm5hbEtleSBdID0gZGVsZXRlZElkcy5wb3AoKSB8fCBqUXVlcnkuZ3VpZCsrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWQgPSBpbnRlcm5hbEtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhY2FjaGVbIGlkIF0gKSB7XHJcbiAgICAgICAgICAgIC8vIEF2b2lkIGV4cG9zaW5nIGpRdWVyeSBtZXRhZGF0YSBvbiBwbGFpbiBKUyBvYmplY3RzIHdoZW4gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAvLyBpcyBzZXJpYWxpemVkIHVzaW5nIEpTT04uc3RyaW5naWZ5XHJcbiAgICAgICAgICAgIGNhY2hlWyBpZCBdID0gaXNOb2RlID8ge30gOiB7IHRvSlNPTjogalF1ZXJ5Lm5vb3AgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFuIG9iamVjdCBjYW4gYmUgcGFzc2VkIHRvIGpRdWVyeS5kYXRhIGluc3RlYWQgb2YgYSBrZXkvdmFsdWUgcGFpcjsgdGhpcyBnZXRzXHJcbiAgICAgICAgLy8gc2hhbGxvdyBjb3BpZWQgb3ZlciBvbnRvIHRoZSBleGlzdGluZyBjYWNoZVxyXG4gICAgICAgIGlmICggdHlwZW9mIG5hbWUgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG5hbWUgPT09IFwiZnVuY3Rpb25cIiApIHtcclxuICAgICAgICAgICAgaWYgKCBwdnQgKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZVsgaWQgXSA9IGpRdWVyeS5leHRlbmQoIGNhY2hlWyBpZCBdLCBuYW1lICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZVsgaWQgXS5kYXRhID0galF1ZXJ5LmV4dGVuZCggY2FjaGVbIGlkIF0uZGF0YSwgbmFtZSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzQ2FjaGUgPSBjYWNoZVsgaWQgXTtcclxuXHJcbiAgICAgICAgLy8galF1ZXJ5IGRhdGEoKSBpcyBzdG9yZWQgaW4gYSBzZXBhcmF0ZSBvYmplY3QgaW5zaWRlIHRoZSBvYmplY3QncyBpbnRlcm5hbCBkYXRhXHJcbiAgICAgICAgLy8gY2FjaGUgaW4gb3JkZXIgdG8gYXZvaWQga2V5IGNvbGxpc2lvbnMgYmV0d2VlbiBpbnRlcm5hbCBkYXRhIGFuZCB1c2VyLWRlZmluZWRcclxuICAgICAgICAvLyBkYXRhLlxyXG4gICAgICAgIGlmICggIXB2dCApIHtcclxuICAgICAgICAgICAgaWYgKCAhdGhpc0NhY2hlLmRhdGEgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzQ2FjaGUuZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzQ2FjaGUgPSB0aGlzQ2FjaGUuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICB0aGlzQ2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSBdID0gZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciBib3RoIGNvbnZlcnRlZC10by1jYW1lbCBhbmQgbm9uLWNvbnZlcnRlZCBkYXRhIHByb3BlcnR5IG5hbWVzXHJcbiAgICAgICAgLy8gSWYgYSBkYXRhIHByb3BlcnR5IHdhcyBzcGVjaWZpZWRcclxuICAgICAgICBpZiAoIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICkge1xyXG5cclxuICAgICAgICAgICAgLy8gRmlyc3QgVHJ5IHRvIGZpbmQgYXMtaXMgcHJvcGVydHkgZGF0YVxyXG4gICAgICAgICAgICByZXQgPSB0aGlzQ2FjaGVbIG5hbWUgXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRlc3QgZm9yIG51bGx8dW5kZWZpbmVkIHByb3BlcnR5IGRhdGFcclxuICAgICAgICAgICAgaWYgKCByZXQgPT0gbnVsbCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZmluZCB0aGUgY2FtZWxDYXNlZCBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpc0NhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICkgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldCA9IHRoaXNDYWNoZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW50ZXJuYWxSZW1vdmVEYXRhKCBlbGVtLCBuYW1lLCBwdnQgKSB7XHJcbiAgICAgICAgaWYgKCAhalF1ZXJ5LmFjY2VwdERhdGEoIGVsZW0gKSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoaXNDYWNoZSwgaSxcclxuICAgICAgICAgICAgaXNOb2RlID0gZWxlbS5ub2RlVHlwZSxcclxuXHJcbiAgICAgICAgLy8gU2VlIGpRdWVyeS5kYXRhIGZvciBtb3JlIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgIGNhY2hlID0gaXNOb2RlID8galF1ZXJ5LmNhY2hlIDogZWxlbSxcclxuICAgICAgICAgICAgaWQgPSBpc05vZGUgPyBlbGVtWyBqUXVlcnkuZXhwYW5kbyBdIDogalF1ZXJ5LmV4cGFuZG87XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFscmVhZHkgbm8gY2FjaGUgZW50cnkgZm9yIHRoaXMgb2JqZWN0LCB0aGVyZSBpcyBub1xyXG4gICAgICAgIC8vIHB1cnBvc2UgaW4gY29udGludWluZ1xyXG4gICAgICAgIGlmICggIWNhY2hlWyBpZCBdICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIG5hbWUgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzQ2FjaGUgPSBwdnQgPyBjYWNoZVsgaWQgXSA6IGNhY2hlWyBpZCBdLmRhdGE7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXNDYWNoZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgbmFtZXMgZm9yIGRhdGEga2V5c1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBzdHJpbmcgYXMgYSBrZXkgYmVmb3JlIGFueSBtYW5pcHVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIG5hbWUgaW4gdGhpc0NhY2hlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gWyBuYW1lIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBjYW1lbCBjYXNlZCB2ZXJzaW9uIGJ5IHNwYWNlcyB1bmxlc3MgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5hbWUgaW4gdGhpc0NhY2hlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IFsgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBcIm5hbWVcIiBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBkYXRhIGlzIGluaXRpYWxseSBjcmVhdGVkLCB2aWEgKFwia2V5XCIsIFwidmFsXCIpIHNpZ25hdHVyZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlzIHdpbGwgYmUgY29udmVydGVkIHRvIGNhbWVsQ2FzZS5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGVyZSBpcyBubyB3YXkgdG8gdGVsbCBfaG93XyBhIGtleSB3YXMgYWRkZWQsIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdGggcGxhaW4ga2V5IGFuZCBjYW1lbENhc2Uga2V5LiAjMTI3ODZcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgb25seSBwZW5hbGl6ZSB0aGUgYXJyYXkgYXJndW1lbnQgcGF0aC5cclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5jb25jYXQoIGpRdWVyeS5tYXAoIG5hbWUsIGpRdWVyeS5jYW1lbENhc2UgKSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGkgPSBuYW1lLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzQ2FjaGVbIG5hbWVbaV0gXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkYXRhIGxlZnQgaW4gdGhlIGNhY2hlLCB3ZSB3YW50IHRvIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgbGV0IHRoZSBjYWNoZSBvYmplY3QgaXRzZWxmIGdldCBkZXN0cm95ZWRcclxuICAgICAgICAgICAgICAgIGlmICggcHZ0ID8gIWlzRW1wdHlEYXRhT2JqZWN0KHRoaXNDYWNoZSkgOiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QodGhpc0NhY2hlKSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlZSBqUXVlcnkuZGF0YSBmb3IgbW9yZSBpbmZvcm1hdGlvblxyXG4gICAgICAgIGlmICggIXB2dCApIHtcclxuICAgICAgICAgICAgZGVsZXRlIGNhY2hlWyBpZCBdLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAvLyBEb24ndCBkZXN0cm95IHRoZSBwYXJlbnQgY2FjaGUgdW5sZXNzIHRoZSBpbnRlcm5hbCBkYXRhIG9iamVjdFxyXG4gICAgICAgICAgICAvLyBoYWQgYmVlbiB0aGUgb25seSB0aGluZyBsZWZ0IGluIGl0XHJcbiAgICAgICAgICAgIGlmICggIWlzRW1wdHlEYXRhT2JqZWN0KCBjYWNoZVsgaWQgXSApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXN0cm95IHRoZSBjYWNoZVxyXG4gICAgICAgIGlmICggaXNOb2RlICkge1xyXG4gICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKCBbIGVsZW0gXSwgdHJ1ZSApO1xyXG5cclxuICAgICAgICAgICAgLy8gVXNlIGRlbGV0ZSB3aGVuIHN1cHBvcnRlZCBmb3IgZXhwYW5kb3Mgb3IgYGNhY2hlYCBpcyBub3QgYSB3aW5kb3cgcGVyIGlzV2luZG93ICgjMTAwODApXHJcbiAgICAgICAgICAgIC8qIGpzaGludCBlcWVxZXE6IGZhbHNlICovXHJcbiAgICAgICAgfSBlbHNlIGlmICggc3VwcG9ydC5kZWxldGVFeHBhbmRvIHx8IGNhY2hlICE9IGNhY2hlLndpbmRvdyApIHtcclxuICAgICAgICAgICAgLyoganNoaW50IGVxZXFlcTogdHJ1ZSAqL1xyXG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbIGlkIF07XHJcblxyXG4gICAgICAgICAgICAvLyBXaGVuIGFsbCBlbHNlIGZhaWxzLCBudWxsXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVbIGlkIF0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqUXVlcnkuZXh0ZW5kKHtcclxuICAgICAgICBjYWNoZToge30sXHJcblxyXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgZWxlbWVudHMgKHNwYWNlLXN1ZmZpeGVkIHRvIGF2b2lkIE9iamVjdC5wcm90b3R5cGUgY29sbGlzaW9ucylcclxuICAgICAgICAvLyB0aHJvdyB1bmNhdGNoYWJsZSBleGNlcHRpb25zIGlmIHlvdSBhdHRlbXB0IHRvIHNldCBleHBhbmRvIHByb3BlcnRpZXNcclxuICAgICAgICBub0RhdGE6IHtcclxuICAgICAgICAgICAgXCJhcHBsZXQgXCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiZW1iZWQgXCI6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIC4uLmJ1dCBGbGFzaCBvYmplY3RzICh3aGljaCBoYXZlIHRoaXMgY2xhc3NpZCkgKmNhbiogaGFuZGxlIGV4cGFuZG9zXHJcbiAgICAgICAgICAgIFwib2JqZWN0IFwiOiBcImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMFwiXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLm5vZGVUeXBlID8galF1ZXJ5LmNhY2hlWyBlbGVtW2pRdWVyeS5leHBhbmRvXSBdIDogZWxlbVsgalF1ZXJ5LmV4cGFuZG8gXTtcclxuICAgICAgICAgICAgcmV0dXJuICEhZWxlbSAmJiAhaXNFbXB0eURhdGFPYmplY3QoIGVsZW0gKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsRGF0YSggZWxlbSwgbmFtZSwgZGF0YSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxSZW1vdmVEYXRhKCBlbGVtLCBuYW1lICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxyXG4gICAgICAgIF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsRGF0YSggZWxlbSwgbmFtZSwgZGF0YSwgdHJ1ZSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSwgdHJ1ZSApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xyXG4gICAgICAgICAgICB2YXIgaSwgbmFtZSwgZGF0YSxcclxuICAgICAgICAgICAgICAgIGVsZW0gPSB0aGlzWzBdLFxyXG4gICAgICAgICAgICAgICAgYXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgZXhwZWN0aW9ucyBvZiAuZGF0YSBiYXNpY2FsbHkgdGh3YXJ0IGpRdWVyeS5hY2Nlc3MsXHJcbiAgICAgICAgICAgIC8vIHNvIGltcGxlbWVudCB0aGUgcmVsZXZhbnQgYmVoYXZpb3Igb3Vyc2VsdmVzXHJcblxyXG4gICAgICAgICAgICAvLyBHZXRzIGFsbCB2YWx1ZXNcclxuICAgICAgICAgICAgaWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGpRdWVyeS5kYXRhKCBlbGVtICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcInBhcnNlZEF0dHJzXCIgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGF0dHJzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUxMStcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBhdHRyc1sgaSBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSg1KSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fZGF0YSggZWxlbSwgXCJwYXJzZWRBdHRyc1wiLCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5kYXRhKCB0aGlzLCBrZXkgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgP1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldHMgb25lIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRhdGEoIHRoaXMsIGtleSwgdmFsdWUgKTtcclxuICAgICAgICAgICAgICAgIH0pIDpcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXRzIG9uZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZldGNoIGFueSBpbnRlcm5hbGx5IHN0b3JlZCBkYXRhIGZpcnN0XHJcbiAgICAgICAgICAgICAgICBlbGVtID8gZGF0YUF0dHIoIGVsZW0sIGtleSwgalF1ZXJ5LmRhdGEoIGVsZW0sIGtleSApICkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVEYXRhKCB0aGlzLCBrZXkgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcclxuICAgICAgICAgICAgICAgIHF1ZXVlID0galF1ZXJ5Ll9kYXRhKCBlbGVtLCB0eXBlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxyXG4gICAgICAgICAgICAgICAgaWYgKCBkYXRhICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIXF1ZXVlIHx8IGpRdWVyeS5pc0FycmF5KGRhdGEpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheShkYXRhKSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goIGRhdGEgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWUgfHwgW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXHJcbiAgICAgICAgICAgICAgICBzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGZuID0gcXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXHJcbiAgICAgICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXHJcbiAgICAgICAgICAgIGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xyXG4gICAgICAgICAgICAgICAgZm4gPSBxdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgc3RhcnRMZW5ndGgtLTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBmbiApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBob29rcy5zdG9wO1xyXG4gICAgICAgICAgICAgICAgZm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XHJcbiAgICAgICAgICAgICAgICBob29rcy5lbXB0eS5maXJlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBub3QgaW50ZW5kZWQgZm9yIHB1YmxpYyBjb25zdW1wdGlvbiAtIGdlbmVyYXRlcyBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm5zIHRoZSBjdXJyZW50IG9uZVxyXG4gICAgICAgIF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5fZGF0YSggZWxlbSwga2V5ICkgfHwgalF1ZXJ5Ll9kYXRhKCBlbGVtLCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCB0eXBlICsgXCJxdWV1ZVwiICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fcmVtb3ZlRGF0YSggZWxlbSwga2V5ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcclxuICAgICAgICAgICAgdmFyIHNldHRlciA9IDI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJmeFwiO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyLS07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbMF0sIHR5cGUgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICB0aGlzIDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbMF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXHJcbiAgICAgICAgLy8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXHJcbiAgICAgICAgcHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcclxuICAgICAgICAgICAgdmFyIHRtcCxcclxuICAgICAgICAgICAgICAgIGNvdW50ID0gMSxcclxuICAgICAgICAgICAgICAgIGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpID0gdGhpcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhKCAtLWNvdW50ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcImZ4XCI7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoIGktLSApIHtcclxuICAgICAgICAgICAgICAgIHRtcCA9IGpRdWVyeS5fZGF0YSggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB2YXIgcG51bSA9ICgvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLykuc291cmNlO1xyXG5cclxuICAgIHZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcclxuXHJcbiAgICB2YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XHJcbiAgICAgICAgLy8gaXNIaWRkZW4gbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcclxuICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcclxuICAgICAgICBlbGVtID0gZWwgfHwgZWxlbTtcclxuICAgICAgICByZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCIgfHwgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cclxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXHJcbiAgICB2YXIgYWNjZXNzID0galF1ZXJ5LmFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcclxuICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcclxuICAgICAgICAgICAgYnVsayA9IGtleSA9PSBudWxsO1xyXG5cclxuICAgICAgICAvLyBTZXRzIG1hbnkgdmFsdWVzXHJcbiAgICAgICAgaWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XHJcbiAgICAgICAgICAgIGNoYWluYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAoIGkgaW4ga2V5ICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbaV0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0cyBvbmUgdmFsdWVcclxuICAgICAgICB9IGVsc2UgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICBjaGFpbmFibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICAgICAgICByYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIGJ1bGsgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcclxuICAgICAgICAgICAgICAgIGlmICggcmF3ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZuID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBidWxrID0gZm47XHJcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBmbiApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuKCBlbGVtc1tpXSwga2V5LCByYXcgPyB2YWx1ZSA6IHZhbHVlLmNhbGwoIGVsZW1zW2ldLCBpLCBmbiggZWxlbXNbaV0sIGtleSApICkgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNoYWluYWJsZSA/XHJcbiAgICAgICAgICAgIGVsZW1zIDpcclxuXHJcbiAgICAgICAgICAgIC8vIEdldHNcclxuICAgICAgICAgICAgYnVsayA/XHJcbiAgICAgICAgICAgICAgICBmbi5jYWxsKCBlbGVtcyApIDpcclxuICAgICAgICAgICAgICAgIGxlbmd0aCA/IGZuKCBlbGVtc1swXSwga2V5ICkgOiBlbXB0eUdldDtcclxuICAgIH07XHJcbiAgICB2YXIgcmNoZWNrYWJsZVR5cGUgPSAoL14oPzpjaGVja2JveHxyYWRpbykkL2kpO1xyXG5cclxuXHJcblxyXG4gICAgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIE1pbmlmaWVkOiB2YXIgYSxiLGNcclxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcclxuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxyXG4gICAgICAgICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICAgICAgLy8gU2V0dXBcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcclxuXHJcbiAgICAgICAgLy8gSUUgc3RyaXBzIGxlYWRpbmcgd2hpdGVzcGFjZSB3aGVuIC5pbm5lckhUTUwgaXMgdXNlZFxyXG4gICAgICAgIHN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UgPSBkaXYuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gMztcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGJvZHkgZWxlbWVudHMgYXJlbid0IGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWRcclxuICAgICAgICAvLyBJRSB3aWxsIGluc2VydCB0aGVtIGludG8gZW1wdHkgdGFibGVzXHJcbiAgICAgICAgc3VwcG9ydC50Ym9keSA9ICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwidGJvZHlcIiApLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbGluayBlbGVtZW50cyBnZXQgc2VyaWFsaXplZCBjb3JyZWN0bHkgYnkgaW5uZXJIVE1MXHJcbiAgICAgICAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxyXG4gICAgICAgIHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSA9ICEhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImxpbmtcIiApLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gTWFrZXMgc3VyZSBjbG9uaW5nIGFuIGh0bWw1IGVsZW1lbnQgZG9lcyBub3QgY2F1c2UgcHJvYmxlbXNcclxuICAgICAgICAvLyBXaGVyZSBvdXRlckhUTUwgaXMgdW5kZWZpbmVkLCB0aGlzIHN0aWxsIHdvcmtzXHJcbiAgICAgICAgc3VwcG9ydC5odG1sNUNsb25lID1cclxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJuYXZcIiApLmNsb25lTm9kZSggdHJ1ZSApLm91dGVySFRNTCAhPT0gXCI8Om5hdj48LzpuYXY+XCI7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGEgZGlzY29ubmVjdGVkIGNoZWNrYm94IHdpbGwgcmV0YWluIGl0cyBjaGVja2VkXHJcbiAgICAgICAgLy8gdmFsdWUgb2YgdHJ1ZSBhZnRlciBhcHBlbmRlZCB0byB0aGUgRE9NIChJRTYvNylcclxuICAgICAgICBpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xyXG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKCBpbnB1dCApO1xyXG4gICAgICAgIHN1cHBvcnQuYXBwZW5kQ2hlY2tlZCA9IGlucHV0LmNoZWNrZWQ7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXHJcbiAgICAgICAgLy8gU3VwcG9ydDogSUU2LUlFMTErXHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xyXG4gICAgICAgIHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICAvLyAjMTEyMTcgLSBXZWJLaXQgbG9zZXMgY2hlY2sgd2hlbiB0aGUgbmFtZSBpcyBhZnRlciB0aGUgY2hlY2tlZCBhdHRyaWJ1dGVcclxuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCggZGl2ICk7XHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+XCI7XHJcblxyXG4gICAgICAgIC8vIFN1cHBvcnQ6IFNhZmFyaSA1LjEsIGlPUyA1LjEsIEFuZHJvaWQgNC54LCBBbmRyb2lkIDIuM1xyXG4gICAgICAgIC8vIG9sZCBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcclxuICAgICAgICBzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XHJcblxyXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAvLyBPcGVyYSBkb2VzIG5vdCBjbG9uZSBldmVudHMgKGFuZCB0eXBlb2YgZGl2LmF0dGFjaEV2ZW50ID09PSB1bmRlZmluZWQpLlxyXG4gICAgICAgIC8vIElFOS0xMCBjbG9uZXMgZXZlbnRzIGJvdW5kIHZpYSBhdHRhY2hFdmVudCwgYnV0IHRoZXkgZG9uJ3QgdHJpZ2dlciB3aXRoIC5jbGljaygpXHJcbiAgICAgICAgc3VwcG9ydC5ub0Nsb25lRXZlbnQgPSB0cnVlO1xyXG4gICAgICAgIGlmICggZGl2LmF0dGFjaEV2ZW50ICkge1xyXG4gICAgICAgICAgICBkaXYuYXR0YWNoRXZlbnQoIFwib25jbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnQubm9DbG9uZUV2ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFeGVjdXRlIHRoZSB0ZXN0IG9ubHkgaWYgbm90IGFscmVhZHkgZXhlY3V0ZWQgaW4gYW5vdGhlciBtb2R1bGUuXHJcbiAgICAgICAgaWYgKHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgc3VwcG9ydC5kZWxldGVFeHBhbmRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXYudGVzdDtcclxuICAgICAgICAgICAgfSBjYXRjaCggZSApIHtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuXHJcblxyXG4gICAgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpLCBldmVudE5hbWUsXHJcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHJcbiAgICAgICAgLy8gU3VwcG9ydDogSUU8OSAobGFjayBzdWJtaXQvY2hhbmdlIGJ1YmJsZSksIEZpcmVmb3ggMjMrIChsYWNrIGZvY3VzaW4gZXZlbnQpXHJcbiAgICAgICAgZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgY2hhbmdlOiB0cnVlLCBmb2N1c2luOiB0cnVlIH0pIHtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gXCJvblwiICsgaTtcclxuXHJcbiAgICAgICAgICAgIGlmICggIShzdXBwb3J0WyBpICsgXCJCdWJibGVzXCIgXSA9IGV2ZW50TmFtZSBpbiB3aW5kb3cpICkge1xyXG4gICAgICAgICAgICAgICAgLy8gQmV3YXJlIG9mIENTUCByZXN0cmljdGlvbnMgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUClcclxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoIGV2ZW50TmFtZSwgXCJ0XCIgKTtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRbIGkgKyBcIkJ1YmJsZXNcIiBdID0gZGl2LmF0dHJpYnV0ZXNbIGV2ZW50TmFtZSBdLmV4cGFuZG8gPT09IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOdWxsIGVsZW1lbnRzIHRvIGF2b2lkIGxlYWtzIGluIElFLlxyXG4gICAgICAgIGRpdiA9IG51bGw7XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICB2YXIgcmZvcm1FbGVtcyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaSxcclxuICAgICAgICBya2V5RXZlbnQgPSAvXmtleS8sXHJcbiAgICAgICAgcm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxcclxuICAgICAgICByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxcclxuICAgICAgICBydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KSQvO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJldHVyblRydWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgIH0gY2F0Y2ggKCBlcnIgKSB7IH1cclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxyXG4gICAgICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cclxuICAgICAqL1xyXG4gICAgalF1ZXJ5LmV2ZW50ID0ge1xyXG5cclxuICAgICAgICBnbG9iYWw6IHt9LFxyXG5cclxuICAgICAgICBhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHZhciB0bXAsIGV2ZW50cywgdCwgaGFuZGxlT2JqSW4sXHJcbiAgICAgICAgICAgICAgICBzcGVjaWFsLCBldmVudEhhbmRsZSwgaGFuZGxlT2JqLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxyXG4gICAgICAgICAgICAgICAgZWxlbURhdGEgPSBqUXVlcnkuX2RhdGEoIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXHJcbiAgICAgICAgICAgIGlmICggIWVsZW1EYXRhICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcclxuICAgICAgICAgICAgaWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxyXG4gICAgICAgICAgICBpZiAoICFoYW5kbGVyLmd1aWQgKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XHJcbiAgICAgICAgICAgIGlmICggIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpICkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCAhKGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlKSApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IHN0cnVuZGVmaW5lZCAmJiAoIWUgfHwgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZXZlbnRIYW5kbGUuZWxlbSwgYXJndW1lbnRzICkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGVsZW0gYXMgYSBwcm9wZXJ0eSBvZiB0aGUgaGFuZGxlIGZuIHRvIHByZXZlbnQgYSBtZW1vcnkgbGVhayB3aXRoIElFIG5vbi1uYXRpdmUgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZS5lbGVtID0gZWxlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxyXG4gICAgICAgICAgICB0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcclxuICAgICAgICAgICAgdCA9IHR5cGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2hpbGUgKCB0LS0gKSB7XHJcbiAgICAgICAgICAgICAgICB0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1t0XSApIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG9yaWdUeXBlID0gdG1wWzFdO1xyXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9ICggdG1wWzJdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoICF0eXBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxyXG4gICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxyXG4gICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ1R5cGU6IG9yaWdUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogaGFuZGxlcixcclxuICAgICAgICAgICAgICAgICAgICBndWlkOiBoYW5kbGVyLmd1aWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpXHJcbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVPYmpJbiApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XHJcbiAgICAgICAgICAgICAgICBpZiAoICEoaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyL2F0dGFjaEV2ZW50IGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFzcGVjaWFsLnNldHVwIHx8IHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIGdsb2JhbCBldmVudCBoYW5kbGVyIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSwgZmFsc2UgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGVsZW0uYXR0YWNoRXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmF0dGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBldmVudEhhbmRsZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggc3BlY2lhbC5hZGQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XHJcbiAgICAgICAgICAgICAgICBpZiAoIHNlbGVjdG9yICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTnVsbGlmeSBlbGVtIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzIGluIElFXHJcbiAgICAgICAgICAgIGVsZW0gPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XHJcbiAgICAgICAgICAgIHZhciBqLCBoYW5kbGVPYmosIHRtcCxcclxuICAgICAgICAgICAgICAgIG9yaWdDb3VudCwgdCwgZXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgc3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcclxuICAgICAgICAgICAgICAgIGVsZW1EYXRhID0galF1ZXJ5Lmhhc0RhdGEoIGVsZW0gKSAmJiBqUXVlcnkuX2RhdGEoIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggIWVsZW1EYXRhIHx8ICEoZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxyXG4gICAgICAgICAgICB0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcclxuICAgICAgICAgICAgdCA9IHR5cGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2hpbGUgKCB0LS0gKSB7XHJcbiAgICAgICAgICAgICAgICB0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1t0XSApIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG9yaWdUeXBlID0gdG1wWzFdO1xyXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9ICggdG1wWzJdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoICF0eXBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdG1wID0gdG1wWzJdICYmIG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKSArIFwiKFxcXFwufCQpXCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICBvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCBqLS0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxyXG4gICAgICAgICAgICAgICAgLy8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXHJcbiAgICAgICAgICAgICAgICBpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIXNwZWNpYWwudGVhcmRvd24gfHwgc3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRzWyB0eXBlIF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1EYXRhLmhhbmRsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmVEYXRhIGFsc28gY2hlY2tzIGZvciBlbXB0aW5lc3MgYW5kIGNsZWFycyB0aGUgZXhwYW5kbyBpZiBlbXB0eVxyXG4gICAgICAgICAgICAgICAgLy8gc28gdXNlIGl0IGluc3RlYWQgb2YgZGVsZXRlXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuX3JlbW92ZURhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlLCBvbnR5cGUsIGN1cixcclxuICAgICAgICAgICAgICAgIGJ1YmJsZVR5cGUsIHNwZWNpYWwsIHRtcCwgaSxcclxuICAgICAgICAgICAgICAgIGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcclxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdChcIi5cIikgOiBbXTtcclxuXHJcbiAgICAgICAgICAgIGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xyXG5cclxuICAgICAgICAgICAgLy8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcclxuICAgICAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xyXG4gICAgICAgICAgICBpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggdHlwZS5pbmRleE9mKFwiLlwiKSA+PSAwICkge1xyXG4gICAgICAgICAgICAgICAgLy8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxyXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMuc29ydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9udHlwZSA9IHR5cGUuaW5kZXhPZihcIjpcIikgPCAwICYmIFwib25cIiArIHR5cGU7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcclxuICAgICAgICAgICAgZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XHJcbiAgICAgICAgICAgICAgICBldmVudCA6XHJcbiAgICAgICAgICAgICAgICBuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcclxuICAgICAgICAgICAgZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XHJcbiAgICAgICAgICAgIGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbihcIi5cIik7XHJcbiAgICAgICAgICAgIGV2ZW50Lm5hbWVzcGFjZV9yZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XHJcbiAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiICkgOlxyXG4gICAgICAgICAgICAgICAgbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxyXG4gICAgICAgICAgICBldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICggIWV2ZW50LnRhcmdldCApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IGVsZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3RcclxuICAgICAgICAgICAgZGF0YSA9IGRhdGEgPT0gbnVsbCA/XHJcbiAgICAgICAgICAgICAgICBbIGV2ZW50IF0gOlxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XHJcblxyXG4gICAgICAgICAgICAvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXHJcbiAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xyXG4gICAgICAgICAgICBpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXHJcbiAgICAgICAgICAgIC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXHJcbiAgICAgICAgICAgIGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXHJcbiAgICAgICAgICAgICAgICBpZiAoIHRtcCA9PT0gKGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoIChjdXIgPSBldmVudFBhdGhbaSsrXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IGkgPiAxID9cclxuICAgICAgICAgICAgICAgICAgICBidWJibGVUeXBlIDpcclxuICAgICAgICAgICAgICAgIHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBqUXVlcnkgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgaGFuZGxlID0gKCBqUXVlcnkuX2RhdGEoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJiBqUXVlcnkuX2RhdGEoIGN1ciwgXCJoYW5kbGVcIiApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCBoYW5kbGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOYXRpdmUgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgaGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgalF1ZXJ5LmFjY2VwdERhdGEoIGN1ciApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcclxuICAgICAgICAgICAgaWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICghc3BlY2lhbC5fZGVmYXVsdCB8fCBzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmFjY2VwdERhdGEoIGVsZW0gKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbid0IHVzZSBhbiAuaXNGdW5jdGlvbigpIGNoZWNrIGhlcmUgYmVjYXVzZSBJRTYvNyBmYWlscyB0aGF0IHRlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggb250eXBlICYmIGVsZW1bIHR5cGUgXSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGVsZW1bIG9udHlwZSBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0bXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBvbnR5cGUgXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVsgdHlwZSBdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUU8OSBkaWVzIG9uIGZvY3VzL2JsdXIgdG8gaGlkZGVuIGVsZW1lbnQgKCMxNDg2LCMxMjUxOClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcmVwcm9kdWNpYmxlIG9uIHdpblhQIElFOCBuYXRpdmUsIG5vdCBJRTkgaW4gSUU4IG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0bXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBvbnR5cGUgXSA9IHRtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnJlc3VsdDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XHJcbiAgICAgICAgICAgIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpLCByZXQsIGhhbmRsZU9iaiwgbWF0Y2hlZCwgaixcclxuICAgICAgICAgICAgICAgIGhhbmRsZXJRdWV1ZSA9IFtdLFxyXG4gICAgICAgICAgICAgICAgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMgPSAoIGpRdWVyeS5fZGF0YSggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcclxuICAgICAgICAgICAgICAgIHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgLy8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcclxuICAgICAgICAgICAgYXJnc1swXSA9IGV2ZW50O1xyXG4gICAgICAgICAgICBldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXHJcbiAgICAgICAgICAgIGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgaGFuZGxlcnNcclxuICAgICAgICAgICAgaGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xyXG5cclxuICAgICAgICAgICAgLy8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlICggKG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XHJcblxyXG4gICAgICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoIChoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSkgJiYgIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3JcclxuICAgICAgICAgICAgICAgICAgICAvLyAyKSBoYXZlIG5hbWVzcGFjZShzKSBhIHN1YnNldCBvciBlcXVhbCB0byB0aG9zZSBpbiB0aGUgYm91bmQgZXZlbnQgKGJvdGggY2FuIGhhdmUgbm8gbmFtZXNwYWNlKS5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFldmVudC5uYW1lc3BhY2VfcmUgfHwgZXZlbnQubmFtZXNwYWNlX3JlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gKCAoalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9KS5oYW5kbGUgfHwgaGFuZGxlT2JqLmhhbmRsZXIgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChldmVudC5yZXN1bHQgPSByZXQpID09PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXHJcbiAgICAgICAgICAgIGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XHJcbiAgICAgICAgICAgICAgICBzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnQucmVzdWx0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xyXG4gICAgICAgICAgICB2YXIgc2VsLCBoYW5kbGVPYmosIG1hdGNoZXMsIGksXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUgPSBbXSxcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgY3VyID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgLy8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xyXG4gICAgICAgICAgICAvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAoIzEzMTgwKVxyXG4gICAgICAgICAgICAvLyBBdm9pZCBub24tbGVmdC1jbGljayBidWJibGluZyBpbiBGaXJlZm94ICgjMzg2MSlcclxuICAgICAgICAgICAgaWYgKCBkZWxlZ2F0ZUNvdW50ICYmIGN1ci5ub2RlVHlwZSAmJiAoIWV2ZW50LmJ1dHRvbiB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIpICkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIGpzaGludCBlcWVxZXE6IGZhbHNlICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGN1ciAhPSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGpzaGludCBlcWVxZXE6IHRydWUgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaGVzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPj0gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBtYXRjaGVzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xyXG4gICAgICAgICAgICBpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyUXVldWUucHVzaCh7IGVsZW06IHRoaXMsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlclF1ZXVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZpeDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICAgICAgICBpZiAoIGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB3cml0YWJsZSBjb3B5IG9mIHRoZSBldmVudCBvYmplY3QgYW5kIG5vcm1hbGl6ZSBzb21lIHByb3BlcnRpZXNcclxuICAgICAgICAgICAgdmFyIGksIHByb3AsIGNvcHksXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZXZlbnQudHlwZSxcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQgPSBldmVudCxcclxuICAgICAgICAgICAgICAgIGZpeEhvb2sgPSB0aGlzLmZpeEhvb2tzWyB0eXBlIF07XHJcblxyXG4gICAgICAgICAgICBpZiAoICFmaXhIb29rICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXhIb29rc1sgdHlwZSBdID0gZml4SG9vayA9XHJcbiAgICAgICAgICAgICAgICAgICAgcm1vdXNlRXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5tb3VzZUhvb2tzIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmtleUV2ZW50LnRlc3QoIHR5cGUgKSA/IHRoaXMua2V5SG9va3MgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb3B5ID0gZml4SG9vay5wcm9wcyA/IHRoaXMucHJvcHMuY29uY2F0KCBmaXhIb29rLnByb3BzICkgOiB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICAgICAgZXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XHJcblxyXG4gICAgICAgICAgICBpID0gY29weS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlICggaS0tICkge1xyXG4gICAgICAgICAgICAgICAgcHJvcCA9IGNvcHlbIGkgXTtcclxuICAgICAgICAgICAgICAgIGV2ZW50WyBwcm9wIF0gPSBvcmlnaW5hbEV2ZW50WyBwcm9wIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgLy8gRml4IHRhcmdldCBwcm9wZXJ0eSAoIzE5MjUpXHJcbiAgICAgICAgICAgIGlmICggIWV2ZW50LnRhcmdldCApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IG9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudCB8fCBkb2N1bWVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDIzKywgU2FmYXJpP1xyXG4gICAgICAgICAgICAvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxyXG4gICAgICAgICAgICBpZiAoIGV2ZW50LnRhcmdldC5ub2RlVHlwZSA9PT0gMyApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XHJcbiAgICAgICAgICAgIC8vIEZvciBtb3VzZS9rZXkgZXZlbnRzLCBtZXRhS2V5PT1mYWxzZSBpZiBpdCdzIHVuZGVmaW5lZCAoIzMzNjgsICMxMTMyOClcclxuICAgICAgICAgICAgZXZlbnQubWV0YUtleSA9ICEhZXZlbnQubWV0YUtleTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmaXhIb29rLmZpbHRlciA/IGZpeEhvb2suZmlsdGVyKCBldmVudCwgb3JpZ2luYWxFdmVudCApIDogZXZlbnQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gSW5jbHVkZXMgc29tZSBldmVudCBwcm9wcyBzaGFyZWQgYnkgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnRcclxuICAgICAgICBwcm9wczogXCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksXHJcblxyXG4gICAgICAgIGZpeEhvb2tzOiB7fSxcclxuXHJcbiAgICAgICAga2V5SG9va3M6IHtcclxuICAgICAgICAgICAgcHJvcHM6IFwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxcclxuICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgaWYgKCBldmVudC53aGljaCA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBtb3VzZUhvb2tzOiB7XHJcbiAgICAgICAgICAgIHByb3BzOiBcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxcclxuICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvZHksIGV2ZW50RG9jLCBkb2MsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gb3JpZ2luYWwuYnV0dG9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21FbGVtZW50ID0gb3JpZ2luYWwuZnJvbUVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHBhZ2VYL1kgaWYgbWlzc2luZyBhbmQgY2xpZW50WC9ZIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgaWYgKCBldmVudC5wYWdlWCA9PSBudWxsICYmIG9yaWdpbmFsLmNsaWVudFggIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudERvYyA9IGV2ZW50LnRhcmdldC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYyA9IGV2ZW50RG9jLmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gZXZlbnREb2MuYm9keTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucGFnZVggPSBvcmlnaW5hbC5jbGllbnRYICsgKCBkb2MgJiYgZG9jLnNjcm9sbExlZnQgfHwgYm9keSAmJiBib2R5LnNjcm9sbExlZnQgfHwgMCApIC0gKCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnBhZ2VZID0gb3JpZ2luYWwuY2xpZW50WSArICggZG9jICYmIGRvYy5zY3JvbGxUb3AgIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgIHx8IDAgKSAtICggZG9jICYmIGRvYy5jbGllbnRUb3AgIHx8IGJvZHkgJiYgYm9keS5jbGllbnRUb3AgIHx8IDAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgcmVsYXRlZFRhcmdldCwgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICBpZiAoICFldmVudC5yZWxhdGVkVGFyZ2V0ICYmIGZyb21FbGVtZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBmcm9tRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0ID8gb3JpZ2luYWwudG9FbGVtZW50IDogZnJvbUVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogYnV0dG9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyBkb24ndCB1c2UgaXRcclxuICAgICAgICAgICAgICAgIGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LndoaWNoID0gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzcGVjaWFsOiB7XHJcbiAgICAgICAgICAgIGxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcclxuICAgICAgICAgICAgICAgIG5vQnViYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvY3VzOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3RcclxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcyAhPT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmZvY3VzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICggZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGVycm9yIG9uIGZvY3VzIHRvIGhpZGRlbiBlbGVtZW50ICgjMTQ4NiwgIzEyNTE4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCAudHJpZ2dlcigpIHJ1biB0aGUgaGFuZGxlcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNpblwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJsdXI6IHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsaWNrOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICYmIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICYmIHRoaXMuY2xpY2sgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXHJcbiAgICAgICAgICAgICAgICBfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJlZm9yZXVubG9hZDoge1xyXG4gICAgICAgICAgICAgICAgcG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50LCBidWJibGUgKSB7XHJcbiAgICAgICAgICAgIC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZS5cclxuICAgICAgICAgICAgLy8gRmFrZSBvcmlnaW5hbEV2ZW50IHRvIGF2b2lkIGRvbm9yJ3Mgc3RvcFByb3BhZ2F0aW9uLCBidXQgaWYgdGhlXHJcbiAgICAgICAgICAgIC8vIHNpbXVsYXRlZCBldmVudCBwcmV2ZW50cyBkZWZhdWx0IHRoZW4gd2UgZG8gdGhlIHNhbWUgb24gdGhlIGRvbm9yLlxyXG4gICAgICAgICAgICB2YXIgZSA9IGpRdWVyeS5leHRlbmQoXHJcbiAgICAgICAgICAgICAgICBuZXcgalF1ZXJ5LkV2ZW50KCksXHJcbiAgICAgICAgICAgICAgICBldmVudCxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzU2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IHt9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICggYnViYmxlICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5kaXNwYXRjaC5jYWxsKCBlbGVtLCBlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LnJlbW92ZUV2ZW50ID0gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciA/XHJcbiAgICAgICAgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcclxuICAgICAgICAgICAgaWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSwgZmFsc2UgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gOlxyXG4gICAgICAgIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gXCJvblwiICsgdHlwZTtcclxuXHJcbiAgICAgICAgICAgIGlmICggZWxlbS5kZXRhY2hFdmVudCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAjODU0NSwgIzcwNTQsIHByZXZlbnRpbmcgbWVtb3J5IGxlYWtzIGZvciBjdXN0b20gZXZlbnRzIGluIElFNi04XHJcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2hFdmVudCBuZWVkZWQgcHJvcGVydHkgb24gZWxlbWVudCwgYnkgbmFtZSBvZiB0aGF0IGV2ZW50LCB0byBwcm9wZXJseSBleHBvc2UgaXQgdG8gR0NcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGVsZW1bIG5hbWUgXSA9PT0gc3RydW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1bIG5hbWUgXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbS5kZXRhY2hFdmVudCggbmFtZSwgaGFuZGxlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xyXG4gICAgICAgIC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxyXG4gICAgICAgIGlmICggISh0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50KSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEV2ZW50IG9iamVjdFxyXG4gICAgICAgIGlmICggc3JjICYmIHNyYy50eXBlICkge1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHNyYy50eXBlO1xyXG5cclxuICAgICAgICAgICAgLy8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcclxuICAgICAgICAgICAgLy8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXHJcbiAgICAgICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcclxuICAgICAgICAgICAgc3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgPCA5LCBBbmRyb2lkIDwgNC4wXHJcbiAgICAgICAgICAgIHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVHJ1ZSA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm5GYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEV2ZW50IHR5cGVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBzcmM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxyXG4gICAgICAgIGlmICggcHJvcHMgKSB7XHJcbiAgICAgICAgICAgIGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxyXG4gICAgICAgIHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5vdygpO1xyXG5cclxuICAgICAgICAvLyBNYXJrIGl0IGFzIGZpeGVkXHJcbiAgICAgICAgdGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXHJcbi8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxyXG4gICAgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcclxuICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxyXG4gICAgICAgIGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcclxuICAgICAgICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXHJcblxyXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XHJcbiAgICAgICAgICAgIGlmICggIWUgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIHByZXZlbnREZWZhdWx0IGV4aXN0cywgcnVuIGl0IG9uIHRoZSBvcmlnaW5hbCBldmVudFxyXG4gICAgICAgICAgICBpZiAoIGUucHJldmVudERlZmF1bHQgKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUVcclxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBzZXQgdGhlIHJldHVyblZhbHVlIHByb3BlcnR5IG9mIHRoZSBvcmlnaW5hbCBldmVudCB0byBmYWxzZVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xyXG4gICAgICAgICAgICBpZiAoICFlICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHN0b3BQcm9wYWdhdGlvbiBleGlzdHMsIHJ1biBpdCBvbiB0aGUgb3JpZ2luYWwgZXZlbnRcclxuICAgICAgICAgICAgaWYgKCBlLnN0b3BQcm9wYWdhdGlvbiApIHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFXHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgY2FuY2VsQnViYmxlIHByb3BlcnR5IG9mIHRoZSBvcmlnaW5hbCBldmVudCB0byB0cnVlXHJcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGUgJiYgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gKSB7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3NcclxuICAgIGpRdWVyeS5lYWNoKHtcclxuICAgICAgICBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxyXG4gICAgICAgIG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcclxuICAgICAgICBwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcclxuICAgICAgICBwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXHJcbiAgICB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xyXG4gICAgICAgIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogZml4LFxyXG4gICAgICAgICAgICBiaW5kVHlwZTogZml4LFxyXG5cclxuICAgICAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cclxuICAgICAgICAgICAgICAgIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XHJcbiAgICAgICAgICAgICAgICBpZiAoICFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkpICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBmaXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuLy8gSUUgc3VibWl0IGRlbGVnYXRpb25cclxuICAgIGlmICggIXN1cHBvcnQuc3VibWl0QnViYmxlcyApIHtcclxuXHJcbiAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWwuc3VibWl0ID0ge1xyXG4gICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG5lZWQgdGhpcyBmb3IgZGVsZWdhdGVkIGZvcm0gc3VibWl0IGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiZm9ybVwiICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIExhenktYWRkIGEgc3VibWl0IGhhbmRsZXIgd2hlbiBhIGRlc2NlbmRhbnQgZm9ybSBtYXkgcG90ZW50aWFsbHkgYmUgc3VibWl0dGVkXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdFwiLCBmdW5jdGlvbiggZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOb2RlIG5hbWUgY2hlY2sgYXZvaWRzIGEgVk1MLXJlbGF0ZWQgY3Jhc2ggaW4gSUUgKCM5ODA3KVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gZS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPSBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApIHx8IGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJidXR0b25cIiApID8gZWxlbS5mb3JtIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZm9ybSAmJiAhalF1ZXJ5Ll9kYXRhKCBmb3JtLCBcInN1Ym1pdEJ1YmJsZXNcIiApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuYWRkKCBmb3JtLCBcInN1Ym1pdC5fc3VibWl0XCIsIGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Ll9zdWJtaXRfYnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fZGF0YSggZm9ybSwgXCJzdWJtaXRCdWJibGVzXCIsIHRydWUgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB1bmRlZmluZWQgc2luY2Ugd2UgZG9uJ3QgbmVlZCBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgcG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBmb3JtIHdhcyBzdWJtaXR0ZWQgYnkgdGhlIHVzZXIsIGJ1YmJsZSB0aGUgZXZlbnQgdXAgdGhlIHRyZWVcclxuICAgICAgICAgICAgICAgIGlmICggZXZlbnQuX3N1Ym1pdF9idWJibGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50Ll9zdWJtaXRfYnViYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5wYXJlbnROb2RlICYmICFldmVudC5pc1RyaWdnZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5zaW11bGF0ZSggXCJzdWJtaXRcIiwgdGhpcy5wYXJlbnROb2RlLCBldmVudCwgdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIHRlYXJkb3duOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgbmVlZCB0aGlzIGZvciBkZWxlZ2F0ZWQgZm9ybSBzdWJtaXQgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJmb3JtXCIgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRlbGVnYXRlZCBoYW5kbGVyczsgY2xlYW5EYXRhIGV2ZW50dWFsbHkgcmVhcHMgc3VibWl0IGhhbmRsZXJzIGF0dGFjaGVkIGFib3ZlXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCBcIi5fc3VibWl0XCIgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4vLyBJRSBjaGFuZ2UgZGVsZWdhdGlvbiBhbmQgY2hlY2tib3gvcmFkaW8gZml4XHJcbiAgICBpZiAoICFzdXBwb3J0LmNoYW5nZUJ1YmJsZXMgKSB7XHJcblxyXG4gICAgICAgIGpRdWVyeS5ldmVudC5zcGVjaWFsLmNoYW5nZSA9IHtcclxuXHJcbiAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIHJmb3JtRWxlbXMudGVzdCggdGhpcy5ub2RlTmFtZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElFIGRvZXNuJ3QgZmlyZSBjaGFuZ2Ugb24gYSBjaGVjay9yYWRpbyB1bnRpbCBibHVyOyB0cmlnZ2VyIGl0IG9uIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgYSBwcm9wZXJ0eWNoYW5nZS4gRWF0IHRoZSBibHVyLWNoYW5nZSBpbiBzcGVjaWFsLmNoYW5nZS5oYW5kbGUuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzdGlsbCBmaXJlcyBvbmNoYW5nZSBhIHNlY29uZCB0aW1lIGZvciBjaGVjay9yYWRpbyBhZnRlciBibHVyLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgfHwgdGhpcy50eXBlID09PSBcInJhZGlvXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIFwicHJvcGVydHljaGFuZ2UuX2NoYW5nZVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lID09PSBcImNoZWNrZWRcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9qdXN0X2NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgXCJjbGljay5fY2hhbmdlXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5fanVzdF9jaGFuZ2VkICYmICFldmVudC5pc1RyaWdnZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fanVzdF9jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB0cmlnZ2VyZWQsIHNpbXVsYXRlZCBjaGFuZ2UgZXZlbnRzICgjMTE1MDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIFwiY2hhbmdlXCIsIHRoaXMsIGV2ZW50LCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBEZWxlZ2F0ZWQgZXZlbnQ7IGxhenktYWRkIGEgY2hhbmdlIGhhbmRsZXIgb24gZGVzY2VuZGFudCBpbnB1dHNcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIFwiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZVwiLCBmdW5jdGlvbiggZSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGUudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHJmb3JtRWxlbXMudGVzdCggZWxlbS5ub2RlTmFtZSApICYmICFqUXVlcnkuX2RhdGEoIGVsZW0sIFwiY2hhbmdlQnViYmxlc1wiICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGQoIGVsZW0sIFwiY2hhbmdlLl9jaGFuZ2VcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLnBhcmVudE5vZGUgJiYgIWV2ZW50LmlzU2ltdWxhdGVkICYmICFldmVudC5pc1RyaWdnZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBcImNoYW5nZVwiLCB0aGlzLnBhcmVudE5vZGUsIGV2ZW50LCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX2RhdGEoIGVsZW0sIFwiY2hhbmdlQnViYmxlc1wiLCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgbmF0aXZlIGNoYW5nZSBldmVudHMgZnJvbSBjaGVja2JveC9yYWRpbywgd2UgYWxyZWFkeSB0cmlnZ2VyZWQgdGhlbSBhYm92ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzICE9PSBlbGVtIHx8IGV2ZW50LmlzU2ltdWxhdGVkIHx8IGV2ZW50LmlzVHJpZ2dlciB8fCAoZWxlbS50eXBlICE9PSBcInJhZGlvXCIgJiYgZWxlbS50eXBlICE9PSBcImNoZWNrYm94XCIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCBcIi5fY2hhbmdlXCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXJmb3JtRWxlbXMudGVzdCggdGhpcy5ub2RlTmFtZSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbi8vIENyZWF0ZSBcImJ1YmJsaW5nXCIgZm9jdXMgYW5kIGJsdXIgZXZlbnRzXHJcbiAgICBpZiAoICFzdXBwb3J0LmZvY3VzaW5CdWJibGVzICkge1xyXG4gICAgICAgIGpRdWVyeS5lYWNoKHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSwgdHJ1ZSApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xyXG4gICAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoZXMgPSBqUXVlcnkuX2RhdGEoIGRvYywgZml4ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWF0dGFjaGVzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX2RhdGEoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hlcyA9IGpRdWVyeS5fZGF0YSggZG9jLCBmaXggKSAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWF0dGFjaGVzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX3JlbW92ZURhdGEoIGRvYywgZml4ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Ll9kYXRhKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XHJcblxyXG4gICAgICAgIG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgLypJTlRFUk5BTCovIG9uZSApIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUsIG9yaWdGbjtcclxuXHJcbiAgICAgICAgICAgIC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcclxuICAgICAgICAgICAgICAgIC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKCB0eXBlIGluIHR5cGVzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24oIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgLy8gKCB0eXBlcywgZm4gKVxyXG4gICAgICAgICAgICAgICAgZm4gPSBzZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXHJcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICggdHlwZXMsIGRhdGEsIGZuIClcclxuICAgICAgICAgICAgICAgICAgICBmbiA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHNlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggZm4gPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgZm4gPSByZXR1cm5GYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggIWZuICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggb25lID09PSAxICkge1xyXG4gICAgICAgICAgICAgICAgb3JpZ0ZuID0gZm47XHJcbiAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cclxuICAgICAgICAgICAgICAgIGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlT2JqLCB0eXBlO1xyXG4gICAgICAgICAgICBpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcclxuICAgICAgICAgICAgICAgIC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcclxuICAgICAgICAgICAgICAgIGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcclxuICAgICAgICAgICAgICAgIGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLm5hbWVzcGFjZSA/IGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6IGhhbmRsZU9iai5vcmlnVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVPYmouc2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcclxuICAgICAgICAgICAgICAgIC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXHJcbiAgICAgICAgICAgICAgICBmb3IgKCB0eXBlIGluIHR5cGVzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAoIHR5cGVzIFssIGZuXSApXHJcbiAgICAgICAgICAgICAgICBmbiA9IHNlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBmbiA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICBmbiA9IHJldHVybkZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtID0gdGhpc1swXTtcclxuICAgICAgICAgICAgaWYgKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2FmZUZyYWdtZW50KCBkb2N1bWVudCApIHtcclxuICAgICAgICB2YXIgbGlzdCA9IG5vZGVOYW1lcy5zcGxpdCggXCJ8XCIgKSxcclxuICAgICAgICAgICAgc2FmZUZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICAgIGlmICggc2FmZUZyYWcuY3JlYXRlRWxlbWVudCApIHtcclxuICAgICAgICAgICAgd2hpbGUgKCBsaXN0Lmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIHNhZmVGcmFnLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wb3AoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2FmZUZyYWc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vZGVOYW1lcyA9IFwiYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxcIiArXHJcbiAgICAgICAgICAgIFwiaGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW9cIixcclxuICAgICAgICByaW5saW5lalF1ZXJ5ID0gLyBqUXVlcnlcXGQrPVwiKD86bnVsbHxcXGQrKVwiL2csXHJcbiAgICAgICAgcm5vc2hpbWNhY2hlID0gbmV3IFJlZ0V4cChcIjwoPzpcIiArIG5vZGVOYW1lcyArIFwiKVtcXFxccy8+XVwiLCBcImlcIiksXHJcbiAgICAgICAgcmxlYWRpbmdXaGl0ZXNwYWNlID0gL15cXHMrLyxcclxuICAgICAgICByeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksXHJcbiAgICAgICAgcnRhZ05hbWUgPSAvPChbXFx3Ol0rKS8sXHJcbiAgICAgICAgcnRib2R5ID0gLzx0Ym9keS9pLFxyXG4gICAgICAgIHJodG1sID0gLzx8JiM/XFx3KzsvLFxyXG4gICAgICAgIHJub0lubmVyaHRtbCA9IC88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksXHJcbiAgICAvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcclxuICAgICAgICByY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXHJcbiAgICAgICAgcnNjcmlwdFR5cGUgPSAvXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLFxyXG4gICAgICAgIHJzY3JpcHRUeXBlTWFza2VkID0gL150cnVlXFwvKC4qKS8sXHJcbiAgICAgICAgcmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLFxyXG5cclxuICAgIC8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXHJcbiAgICAgICAgd3JhcE1hcCA9IHtcclxuICAgICAgICAgICAgb3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXHJcbiAgICAgICAgICAgIGxlZ2VuZDogWyAxLCBcIjxmaWVsZHNldD5cIiwgXCI8L2ZpZWxkc2V0PlwiIF0sXHJcbiAgICAgICAgICAgIGFyZWE6IFsgMSwgXCI8bWFwPlwiLCBcIjwvbWFwPlwiIF0sXHJcbiAgICAgICAgICAgIHBhcmFtOiBbIDEsIFwiPG9iamVjdD5cIiwgXCI8L29iamVjdD5cIiBdLFxyXG4gICAgICAgICAgICB0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXHJcbiAgICAgICAgICAgIHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcclxuICAgICAgICAgICAgY29sOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcclxuICAgICAgICAgICAgdGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxyXG5cclxuICAgICAgICAgICAgLy8gSUU2LTggY2FuJ3Qgc2VyaWFsaXplIGxpbmssIHNjcmlwdCwgc3R5bGUsIG9yIGFueSBodG1sNSAoTm9TY29wZSkgdGFncyxcclxuICAgICAgICAgICAgLy8gdW5sZXNzIHdyYXBwZWQgaW4gYSBkaXYgd2l0aCBub24tYnJlYWtpbmcgY2hhcmFjdGVycyBpbiBmcm9udCBvZiBpdC5cclxuICAgICAgICAgICAgX2RlZmF1bHQ6IHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSA/IFsgMCwgXCJcIiwgXCJcIiBdIDogWyAxLCBcIlg8ZGl2PlwiLCBcIjwvZGl2PlwiICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzYWZlRnJhZ21lbnQgPSBjcmVhdGVTYWZlRnJhZ21lbnQoIGRvY3VtZW50ICksXHJcbiAgICAgICAgZnJhZ21lbnREaXYgPSBzYWZlRnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgKTtcclxuXHJcbiAgICB3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XHJcbiAgICB3cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xyXG4gICAgd3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XHJcbiAgICAgICAgdmFyIGVsZW1zLCBlbGVtLFxyXG4gICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgZm91bmQgPSB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gc3RydW5kZWZpbmVkID8gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gc3RydW5kZWZpbmVkID8gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAoICFmb3VuZCApIHtcclxuICAgICAgICAgICAgZm9yICggZm91bmQgPSBbXSwgZWxlbXMgPSBjb250ZXh0LmNoaWxkTm9kZXMgfHwgY29udGV4dDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhdGFnIHx8IGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgdGFnICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmQucHVzaCggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkubWVyZ2UoIGZvdW5kLCBnZXRBbGwoIGVsZW0sIHRhZyApICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XHJcbiAgICAgICAgICAgIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIGZvdW5kICkgOlxyXG4gICAgICAgICAgICBmb3VuZDtcclxuICAgIH1cclxuXHJcbi8vIFVzZWQgaW4gYnVpbGRGcmFnbWVudCwgZml4ZXMgdGhlIGRlZmF1bHRDaGVja2VkIHByb3BlcnR5XHJcbiAgICBmdW5jdGlvbiBmaXhEZWZhdWx0Q2hlY2tlZCggZWxlbSApIHtcclxuICAgICAgICBpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsZW0udHlwZSApICkge1xyXG4gICAgICAgICAgICBlbGVtLmRlZmF1bHRDaGVja2VkID0gZWxlbS5jaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbi8vIFN1cHBvcnQ6IElFPDhcclxuLy8gTWFuaXB1bGF0aW5nIHRhYmxlcyByZXF1aXJlcyBhIHRib2R5XHJcbiAgICBmdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XHJcbiAgICAgICAgcmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcclxuICAgICAgICBqUXVlcnkubm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgP1xyXG5cclxuICAgICAgICBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF0gfHxcclxuICAgICAgICBlbGVtLmFwcGVuZENoaWxkKCBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpICkgOlxyXG4gICAgICAgICAgICBlbGVtO1xyXG4gICAgfVxyXG5cclxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcclxuICAgICAgICBlbGVtLnR5cGUgPSAoalF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0eXBlXCIgKSAhPT0gbnVsbCkgKyBcIi9cIiArIGVsZW0udHlwZTtcclxuICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XHJcbiAgICAgICAgaWYgKCBtYXRjaCApIHtcclxuICAgICAgICAgICAgZWxlbS50eXBlID0gbWF0Y2hbMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgIH1cclxuXHJcbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxyXG4gICAgZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xyXG4gICAgICAgIHZhciBlbGVtLFxyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICBmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcclxuICAgICAgICAgICAgalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcImdsb2JhbEV2YWxcIiwgIXJlZkVsZW1lbnRzIHx8IGpRdWVyeS5fZGF0YSggcmVmRWxlbWVudHNbaV0sIFwiZ2xvYmFsRXZhbFwiICkgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcclxuXHJcbiAgICAgICAgaWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxIHx8ICFqUXVlcnkuaGFzRGF0YSggc3JjICkgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0eXBlLCBpLCBsLFxyXG4gICAgICAgICAgICBvbGREYXRhID0galF1ZXJ5Ll9kYXRhKCBzcmMgKSxcclxuICAgICAgICAgICAgY3VyRGF0YSA9IGpRdWVyeS5fZGF0YSggZGVzdCwgb2xkRGF0YSApLFxyXG4gICAgICAgICAgICBldmVudHMgPSBvbGREYXRhLmV2ZW50cztcclxuXHJcbiAgICAgICAgaWYgKCBldmVudHMgKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjdXJEYXRhLmhhbmRsZTtcclxuICAgICAgICAgICAgY3VyRGF0YS5ldmVudHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xyXG4gICAgICAgICAgICAgICAgZm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYWtlIHRoZSBjbG9uZWQgcHVibGljIGRhdGEgb2JqZWN0IGEgY29weSBmcm9tIHRoZSBvcmlnaW5hbFxyXG4gICAgICAgIGlmICggY3VyRGF0YS5kYXRhICkge1xyXG4gICAgICAgICAgICBjdXJEYXRhLmRhdGEgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyRGF0YS5kYXRhICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpeENsb25lTm9kZUlzc3Vlcyggc3JjLCBkZXN0ICkge1xyXG4gICAgICAgIHZhciBub2RlTmFtZSwgZSwgZGF0YTtcclxuXHJcbiAgICAgICAgLy8gV2UgZG8gbm90IG5lZWQgdG8gZG8gYW55dGhpbmcgZm9yIG5vbi1FbGVtZW50c1xyXG4gICAgICAgIGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIC8vIElFNi04IGNvcGllcyBldmVudHMgYm91bmQgdmlhIGF0dGFjaEV2ZW50IHdoZW4gdXNpbmcgY2xvbmVOb2RlLlxyXG4gICAgICAgIGlmICggIXN1cHBvcnQubm9DbG9uZUV2ZW50ICYmIGRlc3RbIGpRdWVyeS5leHBhbmRvIF0gKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBqUXVlcnkuX2RhdGEoIGRlc3QgKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoIGUgaW4gZGF0YS5ldmVudHMgKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkucmVtb3ZlRXZlbnQoIGRlc3QsIGUsIGRhdGEuaGFuZGxlICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGRhdGEgZ2V0cyByZWZlcmVuY2VkIGluc3RlYWQgb2YgY29waWVkIGlmIHRoZSBleHBhbmRvIGdldHMgY29waWVkIHRvb1xyXG4gICAgICAgICAgICBkZXN0LnJlbW92ZUF0dHJpYnV0ZSggalF1ZXJ5LmV4cGFuZG8gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElFIGJsYW5rcyBjb250ZW50cyB3aGVuIGNsb25pbmcgc2NyaXB0cywgYW5kIHRyaWVzIHRvIGV2YWx1YXRlIG5ld2x5LXNldCB0ZXh0XHJcbiAgICAgICAgaWYgKCBub2RlTmFtZSA9PT0gXCJzY3JpcHRcIiAmJiBkZXN0LnRleHQgIT09IHNyYy50ZXh0ICkge1xyXG4gICAgICAgICAgICBkaXNhYmxlU2NyaXB0KCBkZXN0ICkudGV4dCA9IHNyYy50ZXh0O1xyXG4gICAgICAgICAgICByZXN0b3JlU2NyaXB0KCBkZXN0ICk7XHJcblxyXG4gICAgICAgICAgICAvLyBJRTYtMTAgaW1wcm9wZXJseSBjbG9uZXMgY2hpbGRyZW4gb2Ygb2JqZWN0IGVsZW1lbnRzIHVzaW5nIGNsYXNzaWQuXHJcbiAgICAgICAgICAgIC8vIElFMTAgdGhyb3dzIE5vTW9kaWZpY2F0aW9uQWxsb3dlZEVycm9yIGlmIHBhcmVudCBpcyBudWxsLCAjMTIxMzIuXHJcbiAgICAgICAgfSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwib2JqZWN0XCIgKSB7XHJcbiAgICAgICAgICAgIGlmICggZGVzdC5wYXJlbnROb2RlICkge1xyXG4gICAgICAgICAgICAgICAgZGVzdC5vdXRlckhUTUwgPSBzcmMub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUaGlzIHBhdGggYXBwZWFycyB1bmF2b2lkYWJsZSBmb3IgSUU5LiBXaGVuIGNsb25pbmcgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgaW4gSUU5LCB0aGUgb3V0ZXJIVE1MIHN0cmF0ZWd5IGFib3ZlIGlzIG5vdCBzdWZmaWNpZW50LlxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgc3JjIGhhcyBpbm5lckhUTUwgYW5kIHRoZSBkZXN0aW5hdGlvbiBkb2VzIG5vdCxcclxuICAgICAgICAgICAgLy8gY29weSB0aGUgc3JjLmlubmVySFRNTCBpbnRvIHRoZSBkZXN0LmlubmVySFRNTC4gIzEwMzI0XHJcbiAgICAgICAgICAgIGlmICggc3VwcG9ydC5odG1sNUNsb25lICYmICggc3JjLmlubmVySFRNTCAmJiAhalF1ZXJ5LnRyaW0oZGVzdC5pbm5lckhUTUwpICkgKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0LmlubmVySFRNTCA9IHNyYy5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xyXG4gICAgICAgICAgICAvLyBJRTYtOCBmYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94XHJcbiAgICAgICAgICAgIC8vIG9yIHJhZGlvIGJ1dHRvbi4gV29yc2UsIElFNi03IGZhaWwgdG8gZ2l2ZSB0aGUgY2xvbmVkIGVsZW1lbnRcclxuICAgICAgICAgICAgLy8gYSBjaGVja2VkIGFwcGVhcmFuY2UgaWYgdGhlIGRlZmF1bHRDaGVja2VkIHZhbHVlIGlzbid0IGFsc28gc2V0XHJcblxyXG4gICAgICAgICAgICBkZXN0LmRlZmF1bHRDaGVja2VkID0gZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBJRTYtNyBnZXQgY29uZnVzZWQgYW5kIGVuZCB1cCBzZXR0aW5nIHRoZSB2YWx1ZSBvZiBhIGNsb25lZFxyXG4gICAgICAgICAgICAvLyBjaGVja2JveC9yYWRpbyBidXR0b24gdG8gYW4gZW1wdHkgc3RyaW5nIGluc3RlYWQgb2YgXCJvblwiXHJcbiAgICAgICAgICAgIGlmICggZGVzdC52YWx1ZSAhPT0gc3JjLnZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgZGVzdC52YWx1ZSA9IHNyYy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSUU2LTggZmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWRcclxuICAgICAgICAgICAgLy8gc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcclxuICAgICAgICB9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJvcHRpb25cIiApIHtcclxuICAgICAgICAgICAgZGVzdC5kZWZhdWx0U2VsZWN0ZWQgPSBkZXN0LnNlbGVjdGVkID0gc3JjLmRlZmF1bHRTZWxlY3RlZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElFNi04IGZhaWxzIHRvIHNldCB0aGUgZGVmYXVsdFZhbHVlIHRvIHRoZSBjb3JyZWN0IHZhbHVlIHdoZW5cclxuICAgICAgICAgICAgLy8gY2xvbmluZyBvdGhlciB0eXBlcyBvZiBpbnB1dCBmaWVsZHNcclxuICAgICAgICB9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XHJcbiAgICAgICAgICAgIGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5LmV4dGVuZCh7XHJcbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcclxuICAgICAgICAgICAgdmFyIGRlc3RFbGVtZW50cywgbm9kZSwgY2xvbmUsIGksIHNyY0VsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgaW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggc3VwcG9ydC5odG1sNUNsb25lIHx8IGpRdWVyeS5pc1hNTERvYyhlbGVtKSB8fCAhcm5vc2hpbWNhY2hlLnRlc3QoIFwiPFwiICsgZWxlbS5ub2RlTmFtZSArIFwiPlwiICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSUU8PTggZG9lcyBub3QgcHJvcGVybHkgY2xvbmUgZGV0YWNoZWQsIHVua25vd24gZWxlbWVudCBub2Rlc1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnREaXYuaW5uZXJIVE1MID0gZWxlbS5vdXRlckhUTUw7XHJcbiAgICAgICAgICAgICAgICBmcmFnbWVudERpdi5yZW1vdmVDaGlsZCggY2xvbmUgPSBmcmFnbWVudERpdi5maXJzdENoaWxkICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggKCFzdXBwb3J0Lm5vQ2xvbmVFdmVudCB8fCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkgJiZcclxuICAgICAgICAgICAgICAgIChlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExKSAmJiAhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pICkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cDovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXHJcbiAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XHJcbiAgICAgICAgICAgICAgICBzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZpeCBhbGwgSUUgY2xvbmluZyBpc3N1ZXNcclxuICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwOyAobm9kZSA9IHNyY0VsZW1lbnRzW2ldKSAhPSBudWxsOyArK2kgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGRlc3RpbmF0aW9uIG5vZGUgaXMgbm90IG51bGw7IEZpeGVzICM5NTg3XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkZXN0RWxlbWVudHNbaV0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeENsb25lTm9kZUlzc3Vlcyggbm9kZSwgZGVzdEVsZW1lbnRzW2ldICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXHJcbiAgICAgICAgICAgIGlmICggZGF0YUFuZEV2ZW50cyApIHtcclxuICAgICAgICAgICAgICAgIGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKCBpID0gMDsgKG5vZGUgPSBzcmNFbGVtZW50c1tpXSkgIT0gbnVsbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZUNvcHlFdmVudCggbm9kZSwgZGVzdEVsZW1lbnRzW2ldICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxyXG4gICAgICAgICAgICBkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XHJcbiAgICAgICAgICAgIGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVzdEVsZW1lbnRzID0gc3JjRWxlbWVudHMgPSBub2RlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYnVpbGRGcmFnbWVudDogZnVuY3Rpb24oIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24gKSB7XHJcbiAgICAgICAgICAgIHZhciBqLCBlbGVtLCBjb250YWlucyxcclxuICAgICAgICAgICAgICAgIHRtcCwgdGFnLCB0Ym9keSwgd3JhcCxcclxuICAgICAgICAgICAgICAgIGwgPSBlbGVtcy5sZW5ndGgsXHJcblxyXG4gICAgICAgICAgICAvLyBFbnN1cmUgYSBzYWZlIGZyYWdtZW50XHJcbiAgICAgICAgICAgICAgICBzYWZlID0gY3JlYXRlU2FmZUZyYWdtZW50KCBjb250ZXh0ICksXHJcblxyXG4gICAgICAgICAgICAgICAgbm9kZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yICggOyBpIDwgbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgZWxlbSA9IGVsZW1zWyBpIF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBub2RlcyBkaXJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAgfHwgc2FmZS5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IChydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0pWyAxIF0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGVsZW0ucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICkgKyB3cmFwWzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSB3cmFwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGotLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hbnVhbGx5IGFkZCBsZWFkaW5nIHdoaXRlc3BhY2UgcmVtb3ZlZCBieSBJRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFzdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlICYmIHJsZWFkaW5nV2hpdGVzcGFjZS50ZXN0KCBlbGVtICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBybGVhZGluZ1doaXRlc3BhY2UuZXhlYyggZWxlbSApWzBdICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIElFJ3MgYXV0b2luc2VydGVkIDx0Ym9keT4gZnJvbSB0YWJsZSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhc3VwcG9ydC50Ym9keSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdHJpbmcgd2FzIGEgPHRhYmxlPiwgKm1heSogaGF2ZSBzcHVyaW91cyA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gdGFnID09PSBcInRhYmxlXCIgJiYgIXJ0Ym9keS50ZXN0KCBlbGVtICkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5maXJzdENoaWxkIDpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaW5nIHdhcyBhIGJhcmUgPHRoZWFkPiBvciA8dGZvb3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcFsxXSA9PT0gXCI8dGFibGU+XCIgJiYgIXJ0Ym9keS50ZXN0KCBlbGVtICkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBlbGVtICYmIGVsZW0uY2hpbGROb2Rlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGotLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5ub2RlTmFtZSggKHRib2R5ID0gZWxlbS5jaGlsZE5vZGVzW2pdKSwgXCJ0Ym9keVwiICkgJiYgIXRib2R5LmNoaWxkTm9kZXMubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNoaWxkKCB0Ym9keSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCAjMTIzOTIgZm9yIFdlYktpdCBhbmQgSUUgPiA5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXggIzEyMzkyIGZvciBvbGRJRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIHRtcC5maXJzdENoaWxkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnJlbW92ZUNoaWxkKCB0bXAuZmlyc3RDaGlsZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lciBmb3IgcHJvcGVyIGNsZWFudXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gc2FmZS5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaXggIzExMzU2OiBDbGVhciBlbGVtZW50cyBmcm9tIGZyYWdtZW50XHJcbiAgICAgICAgICAgIGlmICggdG1wICkge1xyXG4gICAgICAgICAgICAgICAgc2FmZS5yZW1vdmVDaGlsZCggdG1wICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGRlZmF1bHRDaGVja2VkIGZvciBhbnkgcmFkaW9zIGFuZCBjaGVja2JveGVzXHJcbiAgICAgICAgICAgIC8vIGFib3V0IHRvIGJlIGFwcGVuZGVkIHRvIHRoZSBET00gaW4gSUUgNi83ICgjODA2MClcclxuICAgICAgICAgICAgaWYgKCAhc3VwcG9ydC5hcHBlbmRDaGVja2VkICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmdyZXAoIGdldEFsbCggbm9kZXMsIFwiaW5wdXRcIiApLCBmaXhEZWZhdWx0Q2hlY2tlZCApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IG5vZGVzWyBpKysgXSkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIzQwODcgLSBJZiBvcmlnaW4gYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGFyZSB0aGUgc2FtZSwgYW5kIHRoaXMgaXNcclxuICAgICAgICAgICAgICAgIC8vIHRoYXQgZWxlbWVudCwgZG8gbm90IGRvIGFueXRoaW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgIT09IC0xICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdG8gZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIHRtcCA9IGdldEFsbCggc2FmZS5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgaWYgKCBjb250YWlucyApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKCB0bXAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXHJcbiAgICAgICAgICAgICAgICBpZiAoIHNjcmlwdHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoZWxlbSA9IHRtcFsgaisrIF0pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRzLnB1c2goIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdG1wID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzYWZlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zLCAvKiBpbnRlcm5hbCAqLyBhY2NlcHREYXRhICkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbSwgdHlwZSwgaWQsIGRhdGEsXHJcbiAgICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICAgIGludGVybmFsS2V5ID0galF1ZXJ5LmV4cGFuZG8sXHJcbiAgICAgICAgICAgICAgICBjYWNoZSA9IGpRdWVyeS5jYWNoZSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUV4cGFuZG8gPSBzdXBwb3J0LmRlbGV0ZUV4cGFuZG8sXHJcbiAgICAgICAgICAgICAgICBzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWw7XHJcblxyXG4gICAgICAgICAgICBmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgIGlmICggYWNjZXB0RGF0YSB8fCBqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZCA9IGVsZW1bIGludGVybmFsS2V5IF07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGlkICYmIGNhY2hlWyBpZCBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGRhdGEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGF0YS5ldmVudHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGNhY2hlIG9ubHkgaWYgaXQgd2FzIG5vdCBhbHJlYWR5IHJlbW92ZWQgYnkgalF1ZXJ5LmV2ZW50LnJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNhY2hlWyBpZCBdICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVsgaWQgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRSBkb2VzIG5vdCBhbGxvdyB1cyB0byBkZWxldGUgZXhwYW5kbyBwcm9wZXJ0aWVzIGZyb20gbm9kZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3IgZG9lcyBpdCBoYXZlIGEgcmVtb3ZlQXR0cmlidXRlIGZ1bmN0aW9uIG9uIERvY3VtZW50IG5vZGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbXVzdCBoYW5kbGUgYWxsIG9mIHRoZXNlIGNhc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbGV0ZUV4cGFuZG8gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1bIGludGVybmFsS2V5IF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIGVsZW0ucmVtb3ZlQXR0cmlidXRlICE9PSBzdHJ1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIGludGVybmFsS2V5ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBpbnRlcm5hbEtleSBdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkSWRzLnB1c2goIGlkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcclxuICAgICAgICB0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkudGV4dCggdGhpcyApIDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcHR5KCkuYXBwZW5kKCAoIHRoaXNbMF0gJiYgdGhpc1swXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkuY3JlYXRlVGV4dE5vZGUoIHZhbHVlICkgKTtcclxuICAgICAgICAgICAgfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhcHBlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcHJlcGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZnRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3Rvciwga2VlcERhdGEgLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtLFxyXG4gICAgICAgICAgICAgICAgZWxlbXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCB0aGlzICkgOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgaSA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICFrZWVwRGF0YSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSApICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZW1wdHk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbSxcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yICggOyAoZWxlbSA9IHRoaXNbaV0pICE9IG51bGw7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCApIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNoaWxkKCBlbGVtLmZpcnN0Q2hpbGQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc2VsZWN0LCBlbnN1cmUgdGhhdCBpdCBkaXNwbGF5cyBlbXB0eSAoIzEyMzM2KVxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8OVxyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtLm9wdGlvbnMgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInNlbGVjdFwiICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5vcHRpb25zLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XHJcbiAgICAgICAgICAgIGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XHJcbiAgICAgICAgICAgIGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbCA9IHRoaXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MLnJlcGxhY2UoIHJpbmxpbmVqUXVlcnksIFwiXCIgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoIHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSB8fCAhcm5vc2hpbWNhY2hlLnRlc3QoIHZhbHVlICkgICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoIHN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UgfHwgIXJsZWFkaW5nV2hpdGVzcGFjZS50ZXN0KCB2YWx1ZSApICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhd3JhcE1hcFsgKHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0pWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoIHJ4aHRtbFRhZywgXCI8JDE+PC8kMj5cIiApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IHRoaXNbaV0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWyAwIF07XHJcblxyXG4gICAgICAgICAgICAvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcclxuICAgICAgICAgICAgdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgIGFyZyA9IHRoaXMucGFyZW50Tm9kZTtcclxuXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggYXJnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZy5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBGb3JjZSByZW1vdmFsIGlmIHRoZXJlIHdhcyBubyBuZXcgY29udGVudCAoZS5nLiwgZnJvbSBlbXB0eSBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIHJldHVybiBhcmcgJiYgKGFyZy5sZW5ndGggfHwgYXJnLm5vZGVUeXBlKSA/IHRoaXMgOiB0aGlzLnJlbW92ZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmUoIHNlbGVjdG9yLCB0cnVlICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZG9tTWFuaXA6IGZ1bmN0aW9uKCBhcmdzLCBjYWxsYmFjayApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcclxuICAgICAgICAgICAgYXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaXJzdCwgbm9kZSwgaGFzU2NyaXB0cyxcclxuICAgICAgICAgICAgICAgIHNjcmlwdHMsIGRvYywgZnJhZ21lbnQsXHJcbiAgICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICAgIGwgPSB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHNldCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpTm9DbG9uZSA9IGwgLSAxLFxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgICAgICAgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xyXG5cclxuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XHJcbiAgICAgICAgICAgIGlmICggaXNGdW5jdGlvbiB8fFxyXG4gICAgICAgICAgICAgICAgKCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgICAgICAgICAgICFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBzZXQuZXEoIGluZGV4ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpc0Z1bmN0aW9uICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZG9tTWFuaXAoIGFyZ3MsIGNhbGxiYWNrICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBsICkge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBqUXVlcnkuYnVpbGRGcmFnbWVudCggYXJncywgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCB0aGlzICk7XHJcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcclxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGZpcnN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggZmlyc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbSBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgwNzApLlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGw7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGZyYWdtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpICE9PSBpTm9DbG9uZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhhc1NjcmlwdHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCB0aGlzW2ldLCBub2RlLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGhhc1NjcmlwdHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWVuYWJsZSBzY3JpcHRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gc2NyaXB0c1sgaSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWpRdWVyeS5fZGF0YSggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJiBqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5vZGUuc3JjICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5fZXZhbFVybCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5nbG9iYWxFdmFsKCAoIG5vZGUudGV4dCB8fCBub2RlLnRleHRDb250ZW50IHx8IG5vZGUuaW5uZXJIVE1MIHx8IFwiXCIgKS5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRml4ICMxMTgwOTogQXZvaWQgbGVha2luZyBtZW1vcnlcclxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGZpcnN0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgalF1ZXJ5LmVhY2goe1xyXG4gICAgICAgIGFwcGVuZFRvOiBcImFwcGVuZFwiLFxyXG4gICAgICAgIHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXHJcbiAgICAgICAgaW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxyXG4gICAgICAgIGluc2VydEFmdGVyOiBcImFmdGVyXCIsXHJcbiAgICAgICAgcmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXHJcbiAgICB9LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtcyxcclxuICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgcmV0ID0gW10sXHJcbiAgICAgICAgICAgICAgICBpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXHJcbiAgICAgICAgICAgICAgICBsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICBmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoIGluc2VydFtpXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1vZGVybiBicm93c2VycyBjYW4gYXBwbHkgalF1ZXJ5IGNvbGxlY3Rpb25zIGFzIGFycmF5cywgYnV0IG9sZElFIG5lZWRzIGEgLmdldCgpXHJcbiAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB2YXIgaWZyYW1lLFxyXG4gICAgICAgIGVsZW1kaXNwbGF5ID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZSB0aGUgYWN0dWFsIGRpc3BsYXkgb2YgYSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBub2RlTmFtZSBvZiB0aGUgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRvYyBEb2N1bWVudCBvYmplY3RcclxuICAgICAqL1xyXG4vLyBDYWxsZWQgb25seSBmcm9tIHdpdGhpbiBkZWZhdWx0RGlzcGxheVxyXG4gICAgZnVuY3Rpb24gYWN0dWFsRGlzcGxheSggbmFtZSwgZG9jICkge1xyXG4gICAgICAgIHZhciBzdHlsZSxcclxuICAgICAgICAgICAgZWxlbSA9IGpRdWVyeSggZG9jLmNyZWF0ZUVsZW1lbnQoIG5hbWUgKSApLmFwcGVuZFRvKCBkb2MuYm9keSApLFxyXG5cclxuICAgICAgICAvLyBnZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSBtaWdodCBiZSByZWxpYWJseSB1c2VkIG9ubHkgb24gYXR0YWNoZWQgZWxlbWVudFxyXG4gICAgICAgICAgICBkaXNwbGF5ID0gd2luZG93LmdldERlZmF1bHRDb21wdXRlZFN0eWxlICYmICggc3R5bGUgPSB3aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoIGVsZW1bIDAgXSApICkgP1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSBvZiB0aGlzIG1ldGhvZCBpcyBhIHRlbXBvcmFyeSBmaXggKG1vcmUgbGlrZSBvcHRtaXphdGlvbikgdW50aWwgc29tZXRoaW5nIGJldHRlciBjb21lcyBhbG9uZyxcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGl0IHdhcyByZW1vdmVkIGZyb20gc3BlY2lmaWNhdGlvbiBhbmQgc3VwcG9ydGVkIG9ubHkgaW4gRkZcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgOiBqUXVlcnkuY3NzKCBlbGVtWyAwIF0sIFwiZGlzcGxheVwiICk7XHJcblxyXG4gICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYW55IGRhdGEgc3RvcmVkIG9uIHRoZSBlbGVtZW50LFxyXG4gICAgICAgIC8vIHNvIHVzZSBcImRldGFjaFwiIG1ldGhvZCBhcyBmYXN0IHdheSB0byBnZXQgcmlkIG9mIHRoZSBlbGVtZW50XHJcbiAgICAgICAgZWxlbS5kZXRhY2goKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpc3BsYXk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBkZWZhdWx0IGRpc3BsYXkgdmFsdWUgb2YgYW4gZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5vZGVOYW1lXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KCBub2RlTmFtZSApIHtcclxuICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgICAgIGRpc3BsYXkgPSBlbGVtZGlzcGxheVsgbm9kZU5hbWUgXTtcclxuXHJcbiAgICAgICAgaWYgKCAhZGlzcGxheSApIHtcclxuICAgICAgICAgICAgZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBzaW1wbGUgd2F5IGZhaWxzLCByZWFkIGZyb20gaW5zaWRlIGFuIGlmcmFtZVxyXG4gICAgICAgICAgICBpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiIHx8ICFkaXNwbGF5ICkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgYWxyZWFkeS1jcmVhdGVkIGlmcmFtZSBpZiBwb3NzaWJsZVxyXG4gICAgICAgICAgICAgICAgaWZyYW1lID0gKGlmcmFtZSB8fCBqUXVlcnkoIFwiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPlwiICkpLmFwcGVuZFRvKCBkb2MuZG9jdW1lbnRFbGVtZW50ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHdyaXRlIGEgbmV3IEhUTUwgc2tlbGV0b24gc28gV2Via2l0IGFuZCBGaXJlZm94IGRvbid0IGNob2tlIG9uIHJldXNlXHJcbiAgICAgICAgICAgICAgICBkb2MgPSAoIGlmcmFtZVsgMCBdLmNvbnRlbnRXaW5kb3cgfHwgaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50ICkuZG9jdW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUVcclxuICAgICAgICAgICAgICAgIGRvYy53cml0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZG9jLmNsb3NlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcclxuICAgICAgICAgICAgICAgIGlmcmFtZS5kZXRhY2goKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGNvcnJlY3QgZGVmYXVsdCBkaXNwbGF5XHJcbiAgICAgICAgICAgIGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdID0gZGlzcGxheTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkaXNwbGF5O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNocmlua1dyYXBCbG9ja3NWYWw7XHJcblxyXG4gICAgICAgIHN1cHBvcnQuc2hyaW5rV3JhcEJsb2NrcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoIHNocmlua1dyYXBCbG9ja3NWYWwgIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaHJpbmtXcmFwQmxvY2tzVmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBXaWxsIGJlIGNoYW5nZWQgbGF0ZXIgaWYgbmVlZGVkLlxyXG4gICAgICAgICAgICBzaHJpbmtXcmFwQmxvY2tzVmFsID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBNaW5pZmllZDogdmFyIGIsYyxkXHJcbiAgICAgICAgICAgIHZhciBkaXYsIGJvZHksIGNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJib2R5XCIgKVsgMCBdO1xyXG4gICAgICAgICAgICBpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGVzdCBmaXJlZCB0b28gZWFybHkgb3IgaW4gYW4gdW5zdXBwb3J0ZWQgZW52aXJvbm1lbnQsIGV4aXQuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNldHVwXHJcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHhcIjtcclxuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU2XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGVsZW1lbnRzIHdpdGggbGF5b3V0IHNocmluay13cmFwIHRoZWlyIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGRpdi5zdHlsZS56b29tICE9PSBzdHJ1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBDU1M6IGJveC1zaXppbmc7IGRpc3BsYXk7IG1hcmdpbjsgYm9yZGVyXHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcclxuICAgICAgICAgICAgICAgICAgICAvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcclxuICAgICAgICAgICAgICAgICAgICBcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYm94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO1wiICtcclxuICAgICAgICAgICAgICAgICAgICBcInBhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjFcIjtcclxuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICkuc3R5bGUud2lkdGggPSBcIjVweFwiO1xyXG4gICAgICAgICAgICAgICAgc2hyaW5rV3JhcEJsb2Nrc1ZhbCA9IGRpdi5vZmZzZXRXaWR0aCAhPT0gMztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2hyaW5rV3JhcEJsb2Nrc1ZhbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pKCk7XHJcbiAgICB2YXIgcm1hcmdpbiA9ICgvXm1hcmdpbi8pO1xyXG5cclxuICAgIHZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcclxuXHJcblxyXG5cclxuICAgIHZhciBnZXRTdHlsZXMsIGN1ckNTUyxcclxuICAgICAgICBycG9zaXRpb24gPSAvXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87XHJcblxyXG4gICAgaWYgKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSApIHtcclxuICAgICAgICBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU8PTExKywgRmlyZWZveDw9MzArICgjMTUwOTgsICMxNDE1MClcclxuICAgICAgICAgICAgLy8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXHJcbiAgICAgICAgICAgIC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxyXG4gICAgICAgICAgICBpZiAoIGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5vcGVuZXIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0sIG51bGwgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtLCBudWxsICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY3VyQ1NTID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlO1xyXG5cclxuICAgICAgICAgICAgY29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGdldFByb3BlcnR5VmFsdWUgaXMgb25seSBuZWVkZWQgZm9yIC5jc3MoJ2ZpbHRlcicpIGluIElFOSwgc2VlICMxMjUzN1xyXG4gICAgICAgICAgICByZXQgPSBjb21wdXRlZCA/IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgaWYgKCBjb21wdXRlZCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIHJldCA9PT0gXCJcIiAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXHJcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgPCAxNyBhbmQgU2FmYXJpIDUuMCB1c2VzIFwiY29tcHV0ZWQgdmFsdWVcIiBpbnN0ZWFkIG9mIFwidXNlZCB2YWx1ZVwiIGZvciBtYXJnaW4tcmlnaHRcclxuICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA1LjEuNyAoYXQgbGVhc3QpIHJldHVybnMgcGVyY2VudGFnZSBmb3IgYSBsYXJnZXIgc2V0IG9mIHZhbHVlcywgYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVsc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOiBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXHJcbiAgICAgICAgICAgICAgICBpZiAoIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiBybWFyZ2luLnRlc3QoIG5hbWUgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gc3R5bGUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGNvbXB1dGVkLndpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFXHJcbiAgICAgICAgICAgIC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXHJcbiAgICAgICAgICAgIHJldHVybiByZXQgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICByZXQgOlxyXG4gICAgICAgICAgICByZXQgKyBcIlwiO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICkge1xyXG4gICAgICAgIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbS5jdXJyZW50U3R5bGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY3VyQ1NTID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xyXG4gICAgICAgICAgICB2YXIgbGVmdCwgcnMsIHJzTGVmdCwgcmV0LFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlO1xyXG5cclxuICAgICAgICAgICAgY29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcclxuICAgICAgICAgICAgcmV0ID0gY29tcHV0ZWQgPyBjb21wdXRlZFsgbmFtZSBdIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgLy8gQXZvaWQgc2V0dGluZyByZXQgdG8gZW1wdHkgc3RyaW5nIGhlcmVcclxuICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgZGVmYXVsdCB0byBhdXRvXHJcbiAgICAgICAgICAgIGlmICggcmV0ID09IG51bGwgJiYgc3R5bGUgJiYgc3R5bGVbIG5hbWUgXSApIHtcclxuICAgICAgICAgICAgICAgIHJldCA9IHN0eWxlWyBuYW1lIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZyb20gdGhlIGF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcclxuICAgICAgICAgICAgLy8gaHR0cDovL2VyaWsuZWFlLm5ldC9hcmNoaXZlcy8yMDA3LzA3LzI3LzE4LjU0LjE1LyNjb21tZW50LTEwMjI5MVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IGRlYWxpbmcgd2l0aCBhIHJlZ3VsYXIgcGl4ZWwgbnVtYmVyXHJcbiAgICAgICAgICAgIC8vIGJ1dCBhIG51bWJlciB0aGF0IGhhcyBhIHdlaXJkIGVuZGluZywgd2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIHBpeGVsc1xyXG4gICAgICAgICAgICAvLyBidXQgbm90IHBvc2l0aW9uIGNzcyBhdHRyaWJ1dGVzLCBhcyB0aG9zZSBhcmUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwYXJlbnQgZWxlbWVudCBpbnN0ZWFkXHJcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBjYW4ndCBtZWFzdXJlIHRoZSBwYXJlbnQgaW5zdGVhZCBiZWNhdXNlIGl0IG1pZ2h0IHRyaWdnZXIgYSBcInN0YWNraW5nIGRvbGxzXCIgcHJvYmxlbVxyXG4gICAgICAgICAgICBpZiAoIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiAhcnBvc2l0aW9uLnRlc3QoIG5hbWUgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICBsZWZ0ID0gc3R5bGUubGVmdDtcclxuICAgICAgICAgICAgICAgIHJzID0gZWxlbS5ydW50aW1lU3R5bGU7XHJcbiAgICAgICAgICAgICAgICByc0xlZnQgPSBycyAmJiBycy5sZWZ0O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcclxuICAgICAgICAgICAgICAgIGlmICggcnNMZWZ0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJzLmxlZnQgPSBlbGVtLmN1cnJlbnRTdHlsZS5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3R5bGUubGVmdCA9IG5hbWUgPT09IFwiZm9udFNpemVcIiA/IFwiMWVtXCIgOiByZXQ7XHJcbiAgICAgICAgICAgICAgICByZXQgPSBzdHlsZS5waXhlbExlZnQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHJzTGVmdCApIHtcclxuICAgICAgICAgICAgICAgICAgICBycy5sZWZ0ID0gcnNMZWZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRVxyXG4gICAgICAgICAgICAvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxyXG4gICAgICAgICAgICByZXR1cm4gcmV0ID09PSB1bmRlZmluZWQgP1xyXG4gICAgICAgICAgICAgICAgcmV0IDpcclxuICAgICAgICAgICAgcmV0ICsgXCJcIiB8fCBcImF1dG9cIjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcclxuICAgICAgICAvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29uZGl0aW9uID0gY29uZGl0aW9uRm4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGNvbmRpdGlvbiA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0ZXN0IHdhcyBub3QgcmVhZHkgYXQgdGhpcyBwb2ludDsgc2NyZXcgdGhlIGhvb2sgdGhpcyB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGNoZWNrIGFnYWluIHdoZW4gbmVlZGVkIG5leHQgdGltZS5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBjb25kaXRpb24gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZXJlIGFyZSBubyBvdGhlciBob29rcyBmb3IgbWFyZ2luUmlnaHQsIHJlbW92ZSB0aGUgd2hvbGUgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmdldDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLmdldCA9IGhvb2tGbikuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIE1pbmlmaWVkOiB2YXIgYixjLGQsZSxmLGcsIGgsaVxyXG4gICAgICAgIHZhciBkaXYsIHN0eWxlLCBhLCBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCxcclxuICAgICAgICAgICAgcmVsaWFibGVIaWRkZW5PZmZzZXRzVmFsLCByZWxpYWJsZU1hcmdpblJpZ2h0VmFsO1xyXG5cclxuICAgICAgICAvLyBTZXR1cFxyXG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcclxuICAgICAgICBhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImFcIiApWyAwIF07XHJcbiAgICAgICAgc3R5bGUgPSBhICYmIGEuc3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXHJcbiAgICAgICAgaWYgKCAhc3R5bGUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBcImZsb2F0OmxlZnQ7b3BhY2l0eTouNVwiO1xyXG5cclxuICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgZWxlbWVudCBvcGFjaXR5IGV4aXN0cyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXIpXHJcbiAgICAgICAgc3VwcG9ydC5vcGFjaXR5ID0gc3R5bGUub3BhY2l0eSA9PT0gXCIwLjVcIjtcclxuXHJcbiAgICAgICAgLy8gVmVyaWZ5IHN0eWxlIGZsb2F0IGV4aXN0ZW5jZVxyXG4gICAgICAgIC8vIChJRSB1c2VzIHN0eWxlRmxvYXQgaW5zdGVhZCBvZiBjc3NGbG9hdClcclxuICAgICAgICBzdXBwb3J0LmNzc0Zsb2F0ID0gISFzdHlsZS5jc3NGbG9hdDtcclxuXHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xyXG4gICAgICAgIGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XHJcbiAgICAgICAgc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcclxuXHJcbiAgICAgICAgLy8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcclxuICAgICAgICAvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcclxuICAgICAgICBzdXBwb3J0LmJveFNpemluZyA9IHN0eWxlLmJveFNpemluZyA9PT0gXCJcIiB8fCBzdHlsZS5Nb3pCb3hTaXppbmcgPT09IFwiXCIgfHxcclxuICAgICAgICBzdHlsZS5XZWJraXRCb3hTaXppbmcgPT09IFwiXCI7XHJcblxyXG4gICAgICAgIGpRdWVyeS5leHRlbmQoc3VwcG9ydCwge1xyXG4gICAgICAgICAgICByZWxpYWJsZUhpZGRlbk9mZnNldHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbDtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICggYm94U2l6aW5nUmVsaWFibGVWYWwgPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgcGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHBpeGVsUG9zaXRpb25WYWwgPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlU3R5bGVUZXN0cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xyXG4gICAgICAgICAgICByZWxpYWJsZU1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICggcmVsaWFibGVNYXJnaW5SaWdodFZhbCA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTdHlsZVRlc3RzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsaWFibGVNYXJnaW5SaWdodFZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcclxuICAgICAgICAgICAgLy8gTWluaWZpZWQ6IHZhciBiLGMsZCxqXHJcbiAgICAgICAgICAgIHZhciBkaXYsIGJvZHksIGNvbnRhaW5lciwgY29udGVudHM7XHJcblxyXG4gICAgICAgICAgICBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcclxuICAgICAgICAgICAgaWYgKCAhYm9keSB8fCAhYm9keS5zdHlsZSApIHtcclxuICAgICAgICAgICAgICAgIC8vIFRlc3QgZmlyZWQgdG9vIGVhcmx5IG9yIGluIGFuIHVuc3VwcG9ydGVkIGVudmlyb25tZW50LCBleGl0LlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXR1cFxyXG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XHJcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcclxuXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID1cclxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjksIEFuZHJvaWQgMi4zXHJcbiAgICAgICAgICAgICAgICAvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcclxuICAgICAgICAgICAgICAgIFwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIgK1xyXG4gICAgICAgICAgICAgICAgXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtcIiArXHJcbiAgICAgICAgICAgICAgICBcImJvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlXCI7XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XHJcbiAgICAgICAgICAgIC8vIEFzc3VtZSByZWFzb25hYmxlIHZhbHVlcyBpbiB0aGUgYWJzZW5jZSBvZiBnZXRDb21wdXRlZFN0eWxlXHJcbiAgICAgICAgICAgIHBpeGVsUG9zaXRpb25WYWwgPSBib3hTaXppbmdSZWxpYWJsZVZhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZWxpYWJsZU1hcmdpblJpZ2h0VmFsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBnZXRDb21wdXRlZFN0eWxlIHNvIHRoYXQgdGhpcyBjb2RlIGlzIG5vdCBydW4gaW4gSUU8OS5cclxuICAgICAgICAgICAgaWYgKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSApIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsUG9zaXRpb25WYWwgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYsIG51bGwgKSB8fCB7fSApLnRvcCAhPT0gXCIxJVwiO1xyXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nUmVsaWFibGVWYWwgPVxyXG4gICAgICAgICAgICAgICAgICAgICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiwgbnVsbCApIHx8IHsgd2lkdGg6IFwiNHB4XCIgfSApLndpZHRoID09PSBcIjRweFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXHJcbiAgICAgICAgICAgICAgICAvLyBEaXYgd2l0aCBleHBsaWNpdCB3aWR0aCBhbmQgbm8gbWFyZ2luLXJpZ2h0IGluY29ycmVjdGx5XHJcbiAgICAgICAgICAgICAgICAvLyBnZXRzIGNvbXB1dGVkIG1hcmdpbi1yaWdodCBiYXNlZCBvbiB3aWR0aCBvZiBjb250YWluZXIgKCMzMzMzKVxyXG4gICAgICAgICAgICAgICAgLy8gV2ViS2l0IEJ1ZyAxMzM0MyAtIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyB3cm9uZyB2YWx1ZSBmb3IgbWFyZ2luLXJpZ2h0XHJcbiAgICAgICAgICAgICAgICBjb250ZW50cyA9IGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgQ1NTOiBib3gtc2l6aW5nOyBkaXNwbGF5OyBtYXJnaW47IGJvcmRlcjsgcGFkZGluZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudHMuc3R5bGUuY3NzVGV4dCA9IGRpdi5zdHlsZS5jc3NUZXh0ID1cclxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xyXG4gICAgICAgICAgICAgICAgICAgIFwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCI7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50cy5zdHlsZS5tYXJnaW5SaWdodCA9IGNvbnRlbnRzLnN0eWxlLndpZHRoID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjFweFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwgPVxyXG4gICAgICAgICAgICAgICAgICAgICFwYXJzZUZsb2F0KCAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBjb250ZW50cywgbnVsbCApIHx8IHt9ICkubWFyZ2luUmlnaHQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoIGNvbnRlbnRzICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFOFxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0YWJsZSBjZWxscyBzdGlsbCBoYXZlIG9mZnNldFdpZHRoL0hlaWdodCB3aGVuIHRoZXkgYXJlIHNldFxyXG4gICAgICAgICAgICAvLyB0byBkaXNwbGF5Om5vbmUgYW5kIHRoZXJlIGFyZSBzdGlsbCBvdGhlciB2aXNpYmxlIHRhYmxlIGNlbGxzIGluIGFcclxuICAgICAgICAgICAgLy8gdGFibGUgcm93OyBpZiBzbywgb2Zmc2V0V2lkdGgvSGVpZ2h0IGFyZSBub3QgcmVsaWFibGUgZm9yIHVzZSB3aGVuXHJcbiAgICAgICAgICAgIC8vIGRldGVybWluaW5nIGlmIGFuIGVsZW1lbnQgaGFzIGJlZW4gaGlkZGVuIGRpcmVjdGx5IHVzaW5nXHJcbiAgICAgICAgICAgIC8vIGRpc3BsYXk6bm9uZSAoaXQgaXMgc3RpbGwgc2FmZSB0byB1c2Ugb2Zmc2V0cyBpZiBhIHBhcmVudCBlbGVtZW50IGlzXHJcbiAgICAgICAgICAgIC8vIGhpZGRlbjsgZG9uIHNhZmV0eSBnb2dnbGVzIGFuZCBzZWUgYnVnICM0NTEyIGZvciBtb3JlIGluZm9ybWF0aW9uKS5cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPlwiO1xyXG4gICAgICAgICAgICBjb250ZW50cyA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0ZFwiICk7XHJcbiAgICAgICAgICAgIGNvbnRlbnRzWyAwIF0uc3R5bGUuY3NzVGV4dCA9IFwibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZVwiO1xyXG4gICAgICAgICAgICByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBjb250ZW50c1sgMCBdLm9mZnNldEhlaWdodCA9PT0gMDtcclxuICAgICAgICAgICAgaWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50c1sgMCBdLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgY29udGVudHNbIDEgXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBjb250ZW50c1sgMCBdLm9mZnNldEhlaWdodCA9PT0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pKCk7XHJcblxyXG5cclxuLy8gQSBtZXRob2QgZm9yIHF1aWNrbHkgc3dhcHBpbmcgaW4vb3V0IENTUyBwcm9wZXJ0aWVzIHRvIGdldCBjb3JyZWN0IGNhbGN1bGF0aW9ucy5cclxuICAgIGpRdWVyeS5zd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xyXG4gICAgICAgIHZhciByZXQsIG5hbWUsXHJcbiAgICAgICAgICAgIG9sZCA9IHt9O1xyXG5cclxuICAgICAgICAvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcclxuICAgICAgICBmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgICAgIG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xyXG4gICAgICAgICAgICBlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xyXG5cclxuICAgICAgICAvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcclxuICAgICAgICBmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgICAgIGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhclxyXG4gICAgICAgIHJhbHBoYSA9IC9hbHBoYVxcKFteKV0qXFwpL2ksXHJcbiAgICAgICAgcm9wYWNpdHkgPSAvb3BhY2l0eVxccyo9XFxzKihbXildKikvLFxyXG5cclxuICAgIC8vIHN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGUgZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXHJcbiAgICAvLyBzZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcclxuICAgICAgICByZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXHJcbiAgICAgICAgcm51bXNwbGl0ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSguKikkXCIsIFwiaVwiICksXHJcbiAgICAgICAgcnJlbE51bSA9IG5ldyBSZWdFeHAoIFwiXihbKy1dKT0oXCIgKyBwbnVtICsgXCIpXCIsIFwiaVwiICksXHJcblxyXG4gICAgICAgIGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxyXG4gICAgICAgIGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcclxuICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwXCIsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNDAwXCJcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJPXCIsIFwiTW96XCIsIFwibXNcIiBdO1xyXG5cclxuXHJcbi8vIHJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcclxuICAgIGZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBzdHlsZSwgbmFtZSApIHtcclxuXHJcbiAgICAgICAgLy8gc2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcclxuICAgICAgICBpZiAoIG5hbWUgaW4gc3R5bGUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xyXG4gICAgICAgIHZhciBjYXBOYW1lID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksXHJcbiAgICAgICAgICAgIG9yaWdOYW1lID0gbmFtZSxcclxuICAgICAgICAgICAgaSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCBpLS0gKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcclxuICAgICAgICAgICAgaWYgKCBuYW1lIGluIHN0eWxlICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcmlnTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XHJcbiAgICAgICAgdmFyIGRpc3BsYXksIGVsZW0sIGhpZGRlbixcclxuICAgICAgICAgICAgdmFsdWVzID0gW10sXHJcbiAgICAgICAgICAgIGluZGV4ID0gMCxcclxuICAgICAgICAgICAgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xyXG4gICAgICAgICAgICBlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XHJcbiAgICAgICAgICAgIGlmICggIWVsZW0uc3R5bGUgKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFsdWVzWyBpbmRleCBdID0galF1ZXJ5Ll9kYXRhKCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApO1xyXG4gICAgICAgICAgICBkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgICAgICBpZiAoIHNob3cgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgaW5saW5lIGRpc3BsYXkgb2YgdGhpcyBlbGVtZW50IHRvIGxlYXJuIGlmIGl0IGlzXHJcbiAgICAgICAgICAgICAgICAvLyBiZWluZyBoaWRkZW4gYnkgY2FzY2FkZWQgcnVsZXMgb3Igbm90XHJcbiAgICAgICAgICAgICAgICBpZiAoICF2YWx1ZXNbIGluZGV4IF0gJiYgZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgZWxlbWVudHMgd2hpY2ggaGF2ZSBiZWVuIG92ZXJyaWRkZW4gd2l0aCBkaXNwbGF5OiBub25lXHJcbiAgICAgICAgICAgICAgICAvLyBpbiBhIHN0eWxlc2hlZXQgdG8gd2hhdGV2ZXIgdGhlIGRlZmF1bHQgYnJvd3NlciBzdHlsZSBpc1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHN1Y2ggYW4gZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW4oIGVsZW0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbIGluZGV4IF0gPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiLCBkZWZhdWx0RGlzcGxheShlbGVtLm5vZGVOYW1lKSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuID0gaXNIaWRkZW4oIGVsZW0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGRpc3BsYXkgJiYgZGlzcGxheSAhPT0gXCJub25lXCIgfHwgIWhpZGRlbiApIHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiLCBoaWRkZW4gPyBkaXNwbGF5IDogalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGRpc3BsYXkgb2YgbW9zdCBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcFxyXG4gICAgICAgIC8vIHRvIGF2b2lkIHRoZSBjb25zdGFudCByZWZsb3dcclxuICAgICAgICBmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xyXG4gICAgICAgICAgICBlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XHJcbiAgICAgICAgICAgIGlmICggIWVsZW0uc3R5bGUgKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoICFzaG93IHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHwgZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICkge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/IHZhbHVlc1sgaW5kZXggXSB8fCBcIlwiIDogXCJub25lXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xyXG4gICAgICAgIHZhciBtYXRjaGVzID0gcm51bXNwbGl0LmV4ZWMoIHZhbHVlICk7XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoZXMgP1xyXG4gICAgICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xyXG4gICAgICAgIE1hdGgubWF4KCAwLCBtYXRjaGVzWyAxIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAyIF0gfHwgXCJweFwiICkgOlxyXG4gICAgICAgICAgICB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XHJcbiAgICAgICAgdmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxyXG4gICAgICAgICAgICAgICAgNCA6XHJcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICBuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMCxcclxuXHJcbiAgICAgICAgICAgIHZhbCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcclxuICAgICAgICAgICAgLy8gYm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxyXG4gICAgICAgICAgICBpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xyXG4gICAgICAgICAgICAgICAgdmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIGlzQm9yZGVyQm94ICkge1xyXG4gICAgICAgICAgICAgICAgLy8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgYm9yZGVyIG5vciBtYXJnaW4sIHNvIHJlbW92ZSBib3JkZXJcclxuICAgICAgICAgICAgICAgIGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xyXG4gICAgICAgICAgICAgICAgdmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcclxuICAgICAgICAgICAgICAgIGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xyXG5cclxuICAgICAgICAvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxyXG4gICAgICAgIHZhciB2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcclxuICAgICAgICAgICAgdmFsID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0LFxyXG4gICAgICAgICAgICBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcclxuICAgICAgICAgICAgaXNCb3JkZXJCb3ggPSBzdXBwb3J0LmJveFNpemluZyAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiO1xyXG5cclxuICAgICAgICAvLyBzb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcclxuICAgICAgICAvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcclxuICAgICAgICAvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2NjhcclxuICAgICAgICBpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gY29tcHV0ZWQgdGhlbiB1bmNvbXB1dGVkIGNzcyBpZiBuZWNlc3NhcnlcclxuICAgICAgICAgICAgdmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcclxuICAgICAgICAgICAgaWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb21wdXRlZCB1bml0IGlzIG5vdCBwaXhlbHMuIFN0b3AgaGVyZSBhbmQgcmV0dXJuLlxyXG4gICAgICAgICAgICBpZiAoIHJudW1ub25weC50ZXN0KHZhbCkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRoZSBjaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xyXG4gICAgICAgICAgICAvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXHJcbiAgICAgICAgICAgIHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJiAoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xyXG5cclxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxyXG4gICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcclxuICAgICAgICByZXR1cm4gKCB2YWwgK1xyXG4gICAgICAgICAgICBhdWdtZW50V2lkdGhPckhlaWdodChcclxuICAgICAgICAgICAgICAgIGVsZW0sXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVJc0JvcmRlckJveCxcclxuICAgICAgICAgICAgICAgIHN0eWxlc1xyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkgKyBcInB4XCI7XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5LmV4dGVuZCh7XHJcbiAgICAgICAgLy8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XHJcbiAgICAgICAgLy8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XHJcbiAgICAgICAgY3NzSG9va3M6IHtcclxuICAgICAgICAgICAgb3BhY2l0eToge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjb21wdXRlZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgY3NzTnVtYmVyOiB7XHJcbiAgICAgICAgICAgIFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcImZsZXhHcm93XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiZmxleFNocmlua1wiOiB0cnVlLFxyXG4gICAgICAgICAgICBcImZvbnRXZWlnaHRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJsaW5lSGVpZ2h0XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwib3BhY2l0eVwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcIm9yZGVyXCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwib3JwaGFuc1wiOiB0cnVlLFxyXG4gICAgICAgICAgICBcIndpZG93c1wiOiB0cnVlLFxyXG4gICAgICAgICAgICBcInpJbmRleFwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcInpvb21cIjogdHJ1ZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcclxuICAgICAgICAvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXHJcbiAgICAgICAgY3NzUHJvcHM6IHtcclxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGZsb2F0IGNzcyBwcm9wZXJ0eVxyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHN1cHBvcnQuY3NzRmxvYXQgPyBcImNzc0Zsb2F0XCIgOiBcInN0eWxlRmxvYXRcIlxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXHJcbiAgICAgICAgc3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xyXG4gICAgICAgICAgICBpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXHJcbiAgICAgICAgICAgIHZhciByZXQsIHR5cGUsIGhvb2tzLFxyXG4gICAgICAgICAgICAgICAgb3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGVsZW0uc3R5bGU7XHJcblxyXG4gICAgICAgICAgICBuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8ICggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIHN0eWxlLCBvcmlnTmFtZSApICk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uXHJcbiAgICAgICAgICAgIC8vIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIHZlcnNpb25cclxuICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcclxuICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHJlbGF0aXZlIG51bWJlciBzdHJpbmdzICgrPSBvciAtPSkgdG8gcmVsYXRpdmUgbnVtYmVycy4gIzczNDVcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAocmV0ID0gcnJlbE51bS5leGVjKCB2YWx1ZSApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICggcmV0WzFdICsgMSApICogcmV0WzJdICsgcGFyc2VGbG9hdCggalF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRml4ZXMgYnVnICM5MjM3XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0LiBTZWU6ICM3MTE2XHJcbiAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgJ3B4JyB0byB0aGUgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcclxuICAgICAgICAgICAgICAgIGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRml4ZXMgIzg5MDgsIGl0IGNhbiBiZSBkb25lIG1vcmUgY29ycmVjdGx5IGJ5IHNwZWNpZmluZyBzZXR0ZXJzIGluIGNzc0hvb2tzLFxyXG4gICAgICAgICAgICAgICAgLy8gYnV0IGl0IHdvdWxkIG1lYW4gdG8gZGVmaW5lIGVpZ2h0IChmb3IgZXZlcnkgcHJvYmxlbWF0aWMgcHJvcGVydHkpIGlkZW50aWNhbCBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZihcImJhY2tncm91bmRcIikgPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCAodmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApKSAhPT0gdW5kZWZpbmVkICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgZXJyb3JzIGZyb20gJ2ludmFsaWQnIENTUyB2YWx1ZXMgKCM1NTA5KVxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkpICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlWyBuYW1lIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xyXG4gICAgICAgICAgICB2YXIgbnVtLCB2YWwsIGhvb2tzLFxyXG4gICAgICAgICAgICAgICAgb3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcclxuICAgICAgICAgICAgbmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fCAoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBlbGVtLnN0eWxlLCBvcmlnTmFtZSApICk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uXHJcbiAgICAgICAgICAgIC8vIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIHZlcnNpb25cclxuICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxyXG4gICAgICAgICAgICBpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XHJcbiAgICAgICAgICAgIGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXR1cm4sIGNvbnZlcnRpbmcgdG8gbnVtYmVyIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXHJcbiAgICAgICAgICAgIGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XHJcbiAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBqUXVlcnkuaXNOdW1lcmljKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgalF1ZXJ5LmVhY2goWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcclxuICAgICAgICAgICAgICAgIGlmICggY29tcHV0ZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaG93ZXZlciwgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdCBmcm9tIHRoaXNcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJiBlbGVtLm9mZnNldFdpZHRoID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIGV4dHJhID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVnbWVudFdpZHRoT3JIZWlnaHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydC5ib3hTaXppbmcgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIDogMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoICFzdXBwb3J0Lm9wYWNpdHkgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzLm9wYWNpdHkgPSB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xyXG4gICAgICAgICAgICAgICAgLy8gSUUgdXNlcyBmaWx0ZXJzIGZvciBvcGFjaXR5XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9wYWNpdHkudGVzdCggKGNvbXB1dGVkICYmIGVsZW0uY3VycmVudFN0eWxlID8gZWxlbS5jdXJyZW50U3R5bGUuZmlsdGVyIDogZWxlbS5zdHlsZS5maWx0ZXIpIHx8IFwiXCIgKSA/XHJcbiAgICAgICAgICAgICAgICAoIDAuMDEgKiBwYXJzZUZsb2F0KCBSZWdFeHAuJDEgKSApICsgXCJcIiA6XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQgPyBcIjFcIiA6IFwiXCI7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGVsZW0uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gZWxlbS5jdXJyZW50U3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSA9IGpRdWVyeS5pc051bWVyaWMoIHZhbHVlICkgPyBcImFscGhhKG9wYWNpdHk9XCIgKyB2YWx1ZSAqIDEwMCArIFwiKVwiIDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBjdXJyZW50U3R5bGUgJiYgY3VycmVudFN0eWxlLmZpbHRlciB8fCBzdHlsZS5maWx0ZXIgfHwgXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJRSBoYXMgdHJvdWJsZSB3aXRoIG9wYWNpdHkgaWYgaXQgZG9lcyBub3QgaGF2ZSBsYXlvdXRcclxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGl0IGJ5IHNldHRpbmcgdGhlIHpvb20gbGV2ZWxcclxuICAgICAgICAgICAgICAgIHN0eWxlLnpvb20gPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHNldHRpbmcgb3BhY2l0eSB0byAxLCBhbmQgbm8gb3RoZXIgZmlsdGVycyBleGlzdCAtIGF0dGVtcHQgdG8gcmVtb3ZlIGZpbHRlciBhdHRyaWJ1dGUgIzY2NTJcclxuICAgICAgICAgICAgICAgIC8vIGlmIHZhbHVlID09PSBcIlwiLCB0aGVuIHJlbW92ZSBpbmxpbmUgb3BhY2l0eSAjMTI2ODVcclxuICAgICAgICAgICAgICAgIGlmICggKCB2YWx1ZSA+PSAxIHx8IHZhbHVlID09PSBcIlwiICkgJiZcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkudHJpbSggZmlsdGVyLnJlcGxhY2UoIHJhbHBoYSwgXCJcIiApICkgPT09IFwiXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHRpbmcgc3R5bGUuZmlsdGVyIHRvIG51bGwsIFwiXCIgJiBcIiBcIiBzdGlsbCBsZWF2ZSBcImZpbHRlcjpcIiBpbiB0aGUgY3NzVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIFwiZmlsdGVyOlwiIGlzIHByZXNlbnQgYXQgYWxsLCBjbGVhclR5cGUgaXMgZGlzYWJsZWQsIHdlIHdhbnQgdG8gYXZvaWQgdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSBpcyBJRSBPbmx5LCBidXQgc28gYXBwYXJlbnRseSBpcyB0aGlzIGNvZGUgcGF0aC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSggXCJmaWx0ZXJcIiApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmaWx0ZXIgc3R5bGUgYXBwbGllZCBpbiBhIGNzcyBydWxlIG9yIHVuc2V0IGlubGluZSBvcGFjaXR5LCB3ZSBhcmUgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09IFwiXCIgfHwgY3VycmVudFN0eWxlICYmICFjdXJyZW50U3R5bGUuZmlsdGVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgc2V0IG5ldyBmaWx0ZXIgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICBzdHlsZS5maWx0ZXIgPSByYWxwaGEudGVzdCggZmlsdGVyICkgP1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5yZXBsYWNlKCByYWxwaGEsIG9wYWNpdHkgKSA6XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKyBcIiBcIiArIG9wYWNpdHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGpRdWVyeS5jc3NIb29rcy5tYXJnaW5SaWdodCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0LFxyXG4gICAgICAgIGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcclxuICAgICAgICAgICAgaWYgKCBjb21wdXRlZCApIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlYktpdCBCdWcgMTMzNDMgLSBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgd3JvbmcgdmFsdWUgZm9yIG1hcmdpbi1yaWdodFxyXG4gICAgICAgICAgICAgICAgLy8gV29yayBhcm91bmQgYnkgdGVtcG9yYXJpbHkgc2V0dGluZyBlbGVtZW50IGRpc3BsYXkgdG8gaW5saW5lLWJsb2NrXHJcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LnN3YXAoIGVsZW0sIHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJDU1MsIFsgZWxlbSwgXCJtYXJnaW5SaWdodFwiIF0gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXHJcbiAgICBqUXVlcnkuZWFjaCh7XHJcbiAgICAgICAgbWFyZ2luOiBcIlwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiXCIsXHJcbiAgICAgICAgYm9yZGVyOiBcIldpZHRoXCJcclxuICAgIH0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcclxuICAgICAgICBqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xyXG4gICAgICAgICAgICBleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZCA9IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoXCIgXCIpIDogWyB2YWx1ZSBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xyXG4gICAgICAgICAgICBqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzLCBsZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IG5hbWUubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XHJcbiAgICAgICAgICAgIH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG93SGlkZSggdGhpcyApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGlzSGlkZGVuKCB0aGlzICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCB0aGlzICkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcclxuICAgIH1cclxuICAgIGpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xyXG5cclxuICAgIFR3ZWVuLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcjogVHdlZW4sXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG4gICAgICAgICAgICB0aGlzLnByb3AgPSBwcm9wO1xyXG4gICAgICAgICAgICB0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBcInN3aW5nXCI7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgICAgICAgICB0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3VyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xyXG4gICAgICAgICAgICAgICAgaG9va3MuZ2V0KCB0aGlzICkgOlxyXG4gICAgICAgICAgICAgICAgVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcclxuICAgICAgICAgICAgdmFyIGVhc2VkLFxyXG4gICAgICAgICAgICAgICAgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcclxuICAgICAgICAgICAgICAgIGhvb2tzLnNldCggdGhpcyApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xyXG5cclxuICAgIFR3ZWVuLnByb3BIb29rcyA9IHtcclxuICAgICAgICBfZGVmYXVsdDoge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICghdHdlZW4uZWxlbS5zdHlsZSB8fCB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcclxuICAgICAgICAgICAgICAgIC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHNcclxuICAgICAgICAgICAgICAgIC8vIHNvLCBzaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdC5cclxuICAgICAgICAgICAgICAgIC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMgaXMuXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XHJcbiAgICAgICAgICAgICAgICAvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cclxuICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcclxuICAgICAgICAgICAgICAgIC8vIHVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0IC0gdXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlIC0gdXNlIC5zdHlsZSBpZiBpdHNcclxuICAgICAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0uc3R5bGUgJiYgKCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHwgalF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIFN1cHBvcnQ6IElFIDw9OVxyXG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcclxuXHJcbiAgICBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XHJcbiAgICAgICAgICAgIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAmJiB0d2Vlbi5lbGVtLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgICAgICAgICB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5lYXNpbmcgPSB7XHJcbiAgICAgICAgbGluZWFyOiBmdW5jdGlvbiggcCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzd2luZzogZnVuY3Rpb24oIHAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcclxuXHJcbi8vIEJhY2sgQ29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50XHJcbiAgICBqUXVlcnkuZnguc3RlcCA9IHt9O1xyXG5cclxuXHJcblxyXG5cclxuICAgIHZhclxyXG4gICAgICAgIGZ4Tm93LCB0aW1lcklkLFxyXG4gICAgICAgIHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxyXG4gICAgICAgIHJmeG51bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICksXHJcbiAgICAgICAgcnJ1biA9IC9xdWV1ZUhvb2tzJC8sXHJcbiAgICAgICAgYW5pbWF0aW9uUHJlZmlsdGVycyA9IFsgZGVmYXVsdFByZWZpbHRlciBdLFxyXG4gICAgICAgIHR3ZWVuZXJzID0ge1xyXG4gICAgICAgICAgICBcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHR3ZWVuLmN1cigpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzID0gcmZ4bnVtLmV4ZWMoIHZhbHVlICksXHJcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IHBhcnRzICYmIHBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiArdGFyZ2V0ICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmZ4bnVtLmV4ZWMoIGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHByb3AgKSApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMSxcclxuICAgICAgICAgICAgICAgICAgICBtYXhJdGVyYXRpb25zID0gMjA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBzdGFydCAmJiBzdGFydFsgMyBdICE9PSB1bml0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3NcclxuICAgICAgICAgICAgICAgICAgICB1bml0ID0gdW5pdCB8fCBzdGFydFsgMyBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9ICt0YXJnZXQgfHwgMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYSBzdHJpbmcgZm9yIGRvdWJsaW5nIGZhY3RvciBzbyB3ZSBkb24ndCBhY2NpZGVudGFsbHkgc2VlIHNjYWxlIGFzIHVuY2hhbmdlZCBiZWxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkanVzdCBhbmQgYXBwbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydCAvIHNjYWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHByb3AsIHN0YXJ0ICsgdW5pdCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5kIGJyZWFraW5nIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2hcclxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICggc2NhbGUgIT09IChzY2FsZSA9IHR3ZWVuLmN1cigpIC8gdGFyZ2V0KSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnMgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdHdlZW4gcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgaWYgKCBwYXJ0cyApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHR3ZWVuLnN0YXJ0ID0gK3N0YXJ0IHx8ICt0YXJnZXQgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICB0d2Vlbi51bml0ID0gdW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhICs9Ly09IHRva2VuIHdhcyBwcm92aWRlZCwgd2UncmUgZG9pbmcgYSByZWxhdGl2ZSBhbmltYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbmQgPSBwYXJ0c1sgMSBdID9cclxuICAgICAgICAgICAgICAgICAgICBzdGFydCArICggcGFydHNbIDEgXSArIDEgKSAqIHBhcnRzWyAyIF0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICArcGFydHNbIDIgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XHJcbiAgICAgICAgICAgIH0gXVxyXG4gICAgICAgIH07XHJcblxyXG4vLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmeE5vdyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xyXG4gICAgfVxyXG5cclxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cclxuICAgIGZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XHJcbiAgICAgICAgdmFyIHdoaWNoLFxyXG4gICAgICAgICAgICBhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH0sXHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICAvLyBpZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXHJcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxyXG4gICAgICAgIGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xyXG4gICAgICAgIGZvciAoIDsgaSA8IDQgOyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XHJcbiAgICAgICAgICAgIHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XHJcbiAgICAgICAgICAgIGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBpbmNsdWRlV2lkdGggKSB7XHJcbiAgICAgICAgICAgIGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXR0cnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XHJcbiAgICAgICAgdmFyIHR3ZWVuLFxyXG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gKCB0d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCB0d2VlbmVyc1sgXCIqXCIgXSApLFxyXG4gICAgICAgICAgICBpbmRleCA9IDAsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xyXG4gICAgICAgIGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XHJcbiAgICAgICAgICAgIGlmICggKHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkpICkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcclxuICAgICAgICAgICAgYW5pbSA9IHRoaXMsXHJcbiAgICAgICAgICAgIG9yaWcgPSB7fSxcclxuICAgICAgICAgICAgc3R5bGUgPSBlbGVtLnN0eWxlLFxyXG4gICAgICAgICAgICBoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuKCBlbGVtICksXHJcbiAgICAgICAgICAgIGRhdGFTaG93ID0galF1ZXJ5Ll9kYXRhKCBlbGVtLCBcImZ4c2hvd1wiICk7XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSBxdWV1ZTogZmFsc2UgcHJvbWlzZXNcclxuICAgICAgICBpZiAoICFvcHRzLnF1ZXVlICkge1xyXG4gICAgICAgICAgICBob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XHJcbiAgICAgICAgICAgIGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIGhvb2tzLnVucXVldWVkID0gMDtcclxuICAgICAgICAgICAgICAgIG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xyXG4gICAgICAgICAgICAgICAgaG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWhvb2tzLnVucXVldWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRmaXJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rcy51bnF1ZXVlZCsrO1xyXG5cclxuICAgICAgICAgICAgYW5pbS5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkb2luZyB0aGlzIG1ha2VzIHN1cmUgdGhhdCB0aGUgY29tcGxldGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZFxyXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoaXMgY29tcGxldGVzXHJcbiAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rcy51bnF1ZXVlZC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob29rcy5lbXB0eS5maXJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaGVpZ2h0L3dpZHRoIG92ZXJmbG93IHBhc3NcclxuICAgICAgICBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcImhlaWdodFwiIGluIHByb3BzIHx8IFwid2lkdGhcIiBpbiBwcm9wcyApICkge1xyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBub3RoaW5nIHNuZWFrcyBvdXRcclxuICAgICAgICAgICAgLy8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdFxyXG4gICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIG92ZXJmbG93IGF0dHJpYnV0ZSB3aGVuIG92ZXJmbG93WCBhbmRcclxuICAgICAgICAgICAgLy8gb3ZlcmZsb3dZIGFyZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWVcclxuICAgICAgICAgICAgb3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgZGlzcGxheSBwcm9wZXJ0eSB0byBpbmxpbmUtYmxvY2sgZm9yIGhlaWdodC93aWR0aFxyXG4gICAgICAgICAgICAvLyBhbmltYXRpb25zIG9uIGlubGluZSBlbGVtZW50cyB0aGF0IGFyZSBoYXZpbmcgd2lkdGgvaGVpZ2h0IGFuaW1hdGVkXHJcbiAgICAgICAgICAgIGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xyXG5cclxuICAgICAgICAgICAgLy8gVGVzdCBkZWZhdWx0IGRpc3BsYXkgaWYgZGlzcGxheSBpcyBjdXJyZW50bHkgXCJub25lXCJcclxuICAgICAgICAgICAgY2hlY2tEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgP1xyXG4gICAgICAgICAgICBqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiICkgfHwgZGVmYXVsdERpc3BsYXkoIGVsZW0ubm9kZU5hbWUgKSA6IGRpc3BsYXk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGNoZWNrRGlzcGxheSA9PT0gXCJpbmxpbmVcIiAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5saW5lLWxldmVsIGVsZW1lbnRzIGFjY2VwdCBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAvLyBibG9jay1sZXZlbCBlbGVtZW50cyBuZWVkIHRvIGJlIGlubGluZSB3aXRoIGxheW91dFxyXG4gICAgICAgICAgICAgICAgaWYgKCAhc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0IHx8IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgPT09IFwiaW5saW5lXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnpvb20gPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgaWYgKCAhc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzKCkgKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNob3cvaGlkZSBwYXNzXHJcbiAgICAgICAgZm9yICggcHJvcCBpbiBwcm9wcyApIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xyXG4gICAgICAgICAgICBpZiAoIHJmeHR5cGVzLmV4ZWMoIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbIHByb3AgXTtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcclxuICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBkYXRhU2hvdyBsZWZ0IG92ZXIgZnJvbSBhIHN0b3BwZWQgaGlkZSBvciBzaG93IGFuZCB3ZSBhcmUgZ29pbmcgdG8gcHJvY2VlZCB3aXRoIHNob3csIHdlIHNob3VsZCBwcmV0ZW5kIHRvIGJlIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFueSBub24tZnggdmFsdWUgc3RvcHMgdXMgZnJvbSByZXN0b3JpbmcgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWVcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XHJcbiAgICAgICAgICAgIGlmICggZGF0YVNob3cgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YVNob3cgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwiZnhzaG93XCIsIHt9ICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHN0b3JlIHN0YXRlIGlmIGl0cyB0b2dnbGUgLSBlbmFibGVzIC5zdG9wKCkudG9nZ2xlKCkgdG8gXCJyZXZlcnNlXCJcclxuICAgICAgICAgICAgaWYgKCB0b2dnbGUgKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggaGlkZGVuICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCBlbGVtICkuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYW5pbS5kb25lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggZWxlbSApLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFuaW0uZG9uZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wO1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCBcImZ4c2hvd1wiICk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKCBwcm9wIGluIG9yaWcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoIHByb3AgaW4gb3JpZyApIHtcclxuICAgICAgICAgICAgICAgIHR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNob3dbIHByb3AgXSA9IHR3ZWVuLnN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggaGlkZGVuICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW4uc3RhcnQgPSBwcm9wID09PSBcIndpZHRoXCIgfHwgcHJvcCA9PT0gXCJoZWlnaHRcIiA/IDEgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIG5vb3AgbGlrZSAuaGlkZSgpLmhpZGUoKSwgcmVzdG9yZSBhbiBvdmVyd3JpdHRlbiBkaXNwbGF5IHZhbHVlXHJcbiAgICAgICAgfSBlbHNlIGlmICggKGRpc3BsYXkgPT09IFwibm9uZVwiID8gZGVmYXVsdERpc3BsYXkoIGVsZW0ubm9kZU5hbWUgKSA6IGRpc3BsYXkpID09PSBcImlubGluZVwiICkge1xyXG4gICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XHJcbiAgICAgICAgdmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcclxuXHJcbiAgICAgICAgLy8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXHJcbiAgICAgICAgZm9yICggaW5kZXggaW4gcHJvcHMgKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xyXG4gICAgICAgICAgICBlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XHJcbiAgICAgICAgICAgIHZhbHVlID0gcHJvcHNbIGluZGV4IF07XHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSB2YWx1ZVsgMSBdO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggaW5kZXggIT09IG5hbWUgKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1sgbmFtZSBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbIGluZGV4IF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XHJcbiAgICAgICAgICAgIGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzWyBuYW1lIF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbnQgb3ZlcndyaXRlIGtleXMgYWxyZWFkeSBwcmVzZW50LlxyXG4gICAgICAgICAgICAgICAgLy8gYWxzbyAtIHJldXNpbmcgJ2luZGV4JyBmcm9tIGFib3ZlIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgZm9yICggaW5kZXggaW4gdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCxcclxuICAgICAgICAgICAgc3RvcHBlZCxcclxuICAgICAgICAgICAgaW5kZXggPSAwLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBhbmltYXRpb25QcmVmaWx0ZXJzLmxlbmd0aCxcclxuICAgICAgICAgICAgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGljay5lbGVtO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgdGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBzdG9wcGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxyXG4gICAgICAgICAgICAgICAgLy8gYXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIDEgLSAoIDAuNSB8fCAwICkgKCMxMjQ5NylcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IDEgLSB0ZW1wLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbWFpbmluZztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2Uoe1xyXG4gICAgICAgICAgICAgICAgZWxlbTogZWxlbSxcclxuICAgICAgICAgICAgICAgIHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxyXG4gICAgICAgICAgICAgICAgb3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwgeyBzcGVjaWFsRWFzaW5nOiB7fSB9LCBvcHRpb25zICksXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIHR3ZWVuczogW10sXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzdG9wcGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCByZWplY3RcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGdvdG9FbmQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xyXG5cclxuICAgICAgICBwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xyXG5cclxuICAgICAgICBmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYW5pbWF0aW9uUHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xyXG4gICAgICAgICAgICBpZiAoIHJlc3VsdCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XHJcblxyXG4gICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgalF1ZXJ5LmZ4LnRpbWVyKFxyXG4gICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XHJcbiAgICAgICAgICAgICAgICBlbGVtOiBlbGVtLFxyXG4gICAgICAgICAgICAgICAgYW5pbTogYW5pbWF0aW9uLFxyXG4gICAgICAgICAgICAgICAgcXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcclxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uLnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXHJcbiAgICAgICAgICAgIC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXHJcbiAgICAgICAgICAgIC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcclxuICAgICAgICAgICAgLmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xyXG4gICAgICAgIHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHByb3BzICkgKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHByb3BzO1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBbIFwiKlwiIF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHByb3AsXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IDAsXHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcclxuICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wc1sgaW5kZXggXTtcclxuICAgICAgICAgICAgICAgIHR3ZWVuZXJzWyBwcm9wIF0gPSB0d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XHJcbiAgICAgICAgICAgIGlmICggcHJlcGVuZCApIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvblByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvblByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcclxuICAgICAgICB2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XHJcbiAgICAgICAgICAgIGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogc3BlZWQsXHJcbiAgICAgICAgICAgIGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5vZmYgPyAwIDogdHlwZW9mIG9wdC5kdXJhdGlvbiA9PT0gXCJudW1iZXJcIiA/IG9wdC5kdXJhdGlvbiA6XHJcbiAgICAgICAgICAgIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzID8galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF0gOiBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xyXG5cclxuICAgICAgICAvLyBub3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcclxuICAgICAgICBpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgICAgb3B0LnF1ZXVlID0gXCJmeFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUXVldWVpbmdcclxuICAgICAgICBvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xyXG5cclxuICAgICAgICBvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xyXG4gICAgICAgICAgICAgICAgb3B0Lm9sZC5jYWxsKCB0aGlzICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggb3B0LnF1ZXVlICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XHJcbiAgICAgICAgZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xyXG5cclxuICAgICAgICAgICAgLy8gc2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW4gKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXHJcbiAgICAgICAgICAgICAgICAuZW5kKCkuYW5pbWF0ZSh7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXHJcbiAgICAgICAgICAgICAgICBvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXHJcbiAgICAgICAgICAgICAgICBkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGVtcHR5IHx8IGpRdWVyeS5fZGF0YSggdGhpcywgXCJmaW5pc2hcIiApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltLnN0b3AoIHRydWUgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cclxuICAgICAgICAgICAgICAgIHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcclxuICAgICAgICAgICAgdmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdG9wID0gaG9va3Muc3RvcDtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBob29rcy5zdG9wO1xyXG4gICAgICAgICAgICAgICAgc3RvcCggZ290b0VuZCApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgIGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJRdWV1ZSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlcXVldWUgPSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcclxuICAgICAgICAgICAgICAgICAgICB0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBqUXVlcnkuX2RhdGEoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGluZGV4ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggaW5kZXggaW4gZGF0YSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgKHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcXVldWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZFxyXG4gICAgICAgICAgICAgICAgLy8gdGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaCB3aWxsIGRlcXVldWVcclxuICAgICAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kXHJcbiAgICAgICAgICAgICAgICBpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xyXG4gICAgICAgICAgICBpZiAoIHR5cGUgIT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGpRdWVyeS5fZGF0YSggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXJzID0galF1ZXJ5LnRpbWVycyxcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxyXG4gICAgICAgICAgICAgICAgZGF0YS5maW5pc2ggPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxyXG4gICAgICAgICAgICAgICAgZm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxyXG4gICAgICAgICAgICAgICAgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdHVybiBvZmYgZmluaXNoaW5nIGZsYWdcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmZpbmlzaDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgalF1ZXJ5LmVhY2goWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XHJcbiAgICAgICAgdmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XHJcbiAgICAgICAgalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xyXG4gICAgICAgICAgICAgICAgY3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXHJcbiAgICBqUXVlcnkuZWFjaCh7XHJcbiAgICAgICAgc2xpZGVEb3duOiBnZW5GeChcInNob3dcIiksXHJcbiAgICAgICAgc2xpZGVVcDogZ2VuRngoXCJoaWRlXCIpLFxyXG4gICAgICAgIHNsaWRlVG9nZ2xlOiBnZW5GeChcInRvZ2dsZVwiKSxcclxuICAgICAgICBmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcclxuICAgICAgICBmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXHJcbiAgICAgICAgZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cclxuICAgIH0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcclxuICAgICAgICBqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS50aW1lcnMgPSBbXTtcclxuICAgIGpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpbWVyLFxyXG4gICAgICAgICAgICB0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxyXG4gICAgICAgICAgICBpID0gMDtcclxuXHJcbiAgICAgICAgZnhOb3cgPSBqUXVlcnkubm93KCk7XHJcblxyXG4gICAgICAgIGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgICAgICAgdGltZXIgPSB0aW1lcnNbIGkgXTtcclxuICAgICAgICAgICAgLy8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXHJcbiAgICAgICAgICAgIGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xyXG4gICAgICAgICAgICAgICAgdGltZXJzLnNwbGljZSggaS0tLCAxICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggIXRpbWVycy5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgIGpRdWVyeS5meC5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ4Tm93ID0gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XHJcbiAgICAgICAgalF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xyXG4gICAgICAgIGlmICggdGltZXIoKSApIHtcclxuICAgICAgICAgICAgalF1ZXJ5LmZ4LnN0YXJ0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgalF1ZXJ5LnRpbWVycy5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xyXG5cclxuICAgIGpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICggIXRpbWVySWQgKSB7XHJcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRJbnRlcnZhbCggalF1ZXJ5LmZ4LnRpY2ssIGpRdWVyeS5meC5pbnRlcnZhbCApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKCB0aW1lcklkICk7XHJcbiAgICAgICAgdGltZXJJZCA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5meC5zcGVlZHMgPSB7XHJcbiAgICAgICAgc2xvdzogNjAwLFxyXG4gICAgICAgIGZhc3Q6IDIwMCxcclxuICAgICAgICAvLyBEZWZhdWx0IHNwZWVkXHJcbiAgICAgICAgX2RlZmF1bHQ6IDQwMFxyXG4gICAgfTtcclxuXHJcblxyXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXHJcbi8vIGh0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cclxuICAgIGpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xyXG4gICAgICAgIHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XHJcbiAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xyXG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcclxuICAgICAgICAgICAgaG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gTWluaWZpZWQ6IHZhciBhLGIsYyxkLGVcclxuICAgICAgICB2YXIgaW5wdXQsIGRpdiwgc2VsZWN0LCBhLCBvcHQ7XHJcblxyXG4gICAgICAgIC8vIFNldHVwXHJcbiAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xyXG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NOYW1lXCIsIFwidFwiICk7XHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+XCI7XHJcbiAgICAgICAgYSA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbIDAgXTtcclxuXHJcbiAgICAgICAgLy8gRmlyc3QgYmF0Y2ggb2YgdGVzdHMuXHJcbiAgICAgICAgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICBvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikgKTtcclxuICAgICAgICBpbnB1dCA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpWyAwIF07XHJcblxyXG4gICAgICAgIGEuc3R5bGUuY3NzVGV4dCA9IFwidG9wOjFweFwiO1xyXG5cclxuICAgICAgICAvLyBUZXN0IHNldEF0dHJpYnV0ZSBvbiBjYW1lbENhc2UgY2xhc3MuIElmIGl0IHdvcmtzLCB3ZSBuZWVkIGF0dHJGaXhlcyB3aGVuIGRvaW5nIGdldC9zZXRBdHRyaWJ1dGUgKGllNi83KVxyXG4gICAgICAgIHN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlID0gZGl2LmNsYXNzTmFtZSAhPT0gXCJ0XCI7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZnJvbSBnZXRBdHRyaWJ1dGVcclxuICAgICAgICAvLyAoSUUgdXNlcyAuY3NzVGV4dCBpbnN0ZWFkKVxyXG4gICAgICAgIHN1cHBvcnQuc3R5bGUgPSAvdG9wLy50ZXN0KCBhLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpICk7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IFVSTHMgYXJlbid0IG1hbmlwdWxhdGVkXHJcbiAgICAgICAgLy8gKElFIG5vcm1hbGl6ZXMgaXQgYnkgZGVmYXVsdClcclxuICAgICAgICBzdXBwb3J0LmhyZWZOb3JtYWxpemVkID0gYS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIi9hXCI7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRoZSBkZWZhdWx0IGNoZWNrYm94L3JhZGlvIHZhbHVlIChcIlwiIG9uIFdlYktpdDsgXCJvblwiIGVsc2V3aGVyZSlcclxuICAgICAgICBzdXBwb3J0LmNoZWNrT24gPSAhIWlucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhIHNlbGVjdGVkLWJ5LWRlZmF1bHQgb3B0aW9uIGhhcyBhIHdvcmtpbmcgc2VsZWN0ZWQgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gKFdlYktpdCBkZWZhdWx0cyB0byBmYWxzZSBpbnN0ZWFkIG9mIHRydWUsIElFIHRvbywgaWYgaXQncyBpbiBhbiBvcHRncm91cClcclxuICAgICAgICBzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xyXG5cclxuICAgICAgICAvLyBUZXN0cyBmb3IgZW5jdHlwZSBzdXBwb3J0IG9uIGEgZm9ybSAoIzY3NDMpXHJcbiAgICAgICAgc3VwcG9ydC5lbmN0eXBlID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKS5lbmN0eXBlO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgb3B0aW9ucyBpbnNpZGUgZGlzYWJsZWQgc2VsZWN0cyBhcmVuJ3QgbWFya2VkIGFzIGRpc2FibGVkXHJcbiAgICAgICAgLy8gKFdlYktpdCBtYXJrcyB0aGVtIGFzIGRpc2FibGVkKVxyXG4gICAgICAgIHNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgc3VwcG9ydC5vcHREaXNhYmxlZCA9ICFvcHQuZGlzYWJsZWQ7XHJcblxyXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFOCBvbmx5XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgY2FuIHRydXN0IGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXHJcbiAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xyXG4gICAgICAgIHN1cHBvcnQuaW5wdXQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBhbiBpbnB1dCBtYWludGFpbnMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cclxuICAgICAgICBpbnB1dC52YWx1ZSA9IFwidFwiO1xyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xyXG4gICAgICAgIHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIHZhciBycmV0dXJuID0gL1xcci9nO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xyXG4gICAgICAgICAgICB2YXIgaG9va3MsIHJldCwgaXNGdW5jdGlvbixcclxuICAgICAgICAgICAgICAgIGVsZW0gPSB0aGlzWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApKSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gZWxlbS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5yZXBsYWNlKHJyZXR1cm4sIFwiXCIpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBpc0Z1bmN0aW9uICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGlmICggdmFsID09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsICs9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkuZXh0ZW5kKHtcclxuICAgICAgICB2YWxIb29rczoge1xyXG4gICAgICAgICAgICBvcHRpb246IHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwgIT0gbnVsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFMTAtMTErXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSwgb3B0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gZWxlbS5vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIiB8fCBpbmRleCA8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpbmRleCA8IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZSA/IGluZGV4IDogMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24gPSBvcHRpb25zWyBpIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbGRJRSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCBzdXBwb3J0Lm9wdERpc2FibGVkID8gIW9wdGlvbi5kaXNhYmxlZCA6IG9wdGlvbi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PT0gbnVsbCApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fCAhalF1ZXJ5Lm5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggb25lICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goIHZhbHVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25TZXQsIG9wdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG9wdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGktLSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uc1sgaSBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+PSAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBuZXcgb3B0aW9uIGVsZW1lbnQgaXMgYWRkZWQgdG8gc2VsZWN0IGJveCB3ZSBuZWVkIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgb2YgbmV3bHkgYWRkZWQgbm9kZSBpbiBvcmRlciB0byB3b3JrYXJvdW5kIGRlbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBpbml0aWFsaXphdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IG9wdGlvblNldCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoIF8gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbGwgYmUgZXhlY3V0ZWQgb25seSBpbiBJRTZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIW9wdGlvblNldCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcclxuICAgIGpRdWVyeS5lYWNoKFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KGVsZW0pLnZhbCgpLCB2YWx1ZSApID49IDAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xyXG4gICAgICAgICAgICBqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IFdlYmtpdFxyXG4gICAgICAgICAgICAgICAgLy8gXCJcIiBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIFwib25cIiBpZiBhIHZhbHVlIGlzbid0IHNwZWNpZmllZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHZhciBub2RlSG9vaywgYm9vbEhvb2ssXHJcbiAgICAgICAgYXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGUsXHJcbiAgICAgICAgcnVzZURlZmF1bHQgPSAvXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLFxyXG4gICAgICAgIGdldFNldEF0dHJpYnV0ZSA9IHN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlLFxyXG4gICAgICAgIGdldFNldElucHV0ID0gc3VwcG9ydC5pbnB1dDtcclxuXHJcbiAgICBqUXVlcnkuZm4uZXh0ZW5kKHtcclxuICAgICAgICBhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgdmFyIGhvb2tzLCByZXQsXHJcbiAgICAgICAgICAgICAgICBuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XHJcblxyXG4gICAgICAgICAgICAvLyBkb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXHJcbiAgICAgICAgICAgIGlmICggIWVsZW0gfHwgblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBzdHJ1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFsbCBhdHRyaWJ1dGVzIGFyZSBsb3dlcmNhc2VcclxuICAgICAgICAgICAgLy8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUgXSB8fFxyXG4gICAgICAgICAgICAgICAgKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogbm9kZUhvb2sgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdmFsdWUgPT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkpICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSkgIT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldCA9PSBudWxsID9cclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUsIHByb3BOYW1lLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCAobmFtZSA9IGF0dHJOYW1lc1tpKytdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wTmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQm9vbGVhbiBhdHRyaWJ1dGVzIGdldCBzcGVjaWFsIHRyZWF0bWVudCAoIzEwODcwKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHRvIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBJRTw5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGNsZWFyIGRlZmF1bHRDaGVja2VkL2RlZmF1bHRTZWxlY3RlZCAoaWYgYXBwcm9wcmlhdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBqUXVlcnkuY2FtZWxDYXNlKCBcImRlZmF1bHQtXCIgKyBuYW1lICkgXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVsgcHJvcE5hbWUgXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWUgIzk2OTkgZm9yIGV4cGxhbmF0aW9uIG9mIHRoaXMgYXBwcm9hY2ggKHNldHRpbmcgZmlyc3QsIHRoZW4gcmVtb3ZhbClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuYXR0ciggZWxlbSwgbmFtZSwgXCJcIiApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIGdldFNldEF0dHJpYnV0ZSA/IG5hbWUgOiBwcm9wTmFtZSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYXR0ckhvb2tzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmIGpRdWVyeS5ub2RlTmFtZShlbGVtLCBcImlucHV0XCIpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSB0eXBlIG9uIGEgcmFkaW8gYnV0dG9uIGFmdGVyIHRoZSB2YWx1ZSByZXNldHMgdGhlIHZhbHVlIGluIElFNi05XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHZhbHVlIHRvIGRlZmF1bHQgaW4gY2FzZSB0eXBlIGlzIHNldCBhZnRlciB2YWx1ZSBkdXJpbmcgY3JlYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGVsZW0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbi8vIEhvb2sgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xyXG4gICAgYm9vbEhvb2sgPSB7XHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XHJcbiAgICAgICAgICAgIGlmICggdmFsdWUgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJRTw4IG5lZWRzIHRoZSAqcHJvcGVydHkqIG5hbWVcclxuICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCAhZ2V0U2V0QXR0cmlidXRlICYmIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSwgbmFtZSApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSBkZWZhdWx0Q2hlY2tlZCBhbmQgZGVmYXVsdFNlbGVjdGVkIGZvciBvbGRJRVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbVsgalF1ZXJ5LmNhbWVsQ2FzZSggXCJkZWZhdWx0LVwiICsgbmFtZSApIF0gPSBlbGVtWyBuYW1lIF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gUmV0cmlldmUgYm9vbGVhbnMgc3BlY2lhbGx5XHJcbiAgICBqUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XHJcblxyXG4gICAgICAgIHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcclxuXHJcbiAgICAgICAgYXR0ckhhbmRsZVsgbmFtZSBdID0gZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgP1xyXG4gICAgICAgICAgICBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0LCBoYW5kbGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoICFpc1hNTCApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gYXR0ckhhbmRsZVsgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJIYW5kbGVbIG5hbWUgXSA9IHJldDtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0ckhhbmRsZVsgbmFtZSBdID0gaGFuZGxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggIWlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtWyBqUXVlcnkuY2FtZWxDYXNlKCBcImRlZmF1bHQtXCIgKyBuYW1lICkgXSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbi8vIGZpeCBvbGRJRSBhdHRyb3BlcnRpZXNcclxuICAgIGlmICggIWdldFNldElucHV0IHx8ICFnZXRTZXRBdHRyaWJ1dGUgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmF0dHJIb29rcy52YWx1ZSA9IHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9lcyBub3QgcmV0dXJuIHNvIHRoYXQgc2V0QXR0cmlidXRlIGlzIGFsc28gdXNlZFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uZGVmYXVsdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBub2RlSG9vayBpZiBkZWZpbmVkICgjMTk1NCk7IG90aGVyd2lzZSBzZXRBdHRyaWJ1dGUgaXMgZmluZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlSG9vayAmJiBub2RlSG9vay5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuLy8gSUU2LzcgZG8gbm90IHN1cHBvcnQgZ2V0dGluZy9zZXR0aW5nIHNvbWUgYXR0cmlidXRlcyB3aXRoIGdldC9zZXRBdHRyaWJ1dGVcclxuICAgIGlmICggIWdldFNldEF0dHJpYnV0ZSApIHtcclxuXHJcbiAgICAgICAgLy8gVXNlIHRoaXMgZm9yIGFueSBhdHRyaWJ1dGUgaW4gSUU2LzdcclxuICAgICAgICAvLyBUaGlzIGZpeGVzIGFsbW9zdCBldmVyeSBJRTYvNyBpc3N1ZVxyXG4gICAgICAgIG5vZGVIb29rID0ge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZXhpc3Rpbmcgb3IgY3JlYXRlIGEgbmV3IGF0dHJpYnV0ZSBub2RlXHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoICFyZXQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmV0ID0gZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSggbmFtZSApKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0LnZhbHVlID0gdmFsdWUgKz0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCcmVhayBhc3NvY2lhdGlvbiB3aXRoIGNsb25lZCBlbGVtZW50cyBieSBhbHNvIHVzaW5nIHNldEF0dHJpYnV0ZSAoIzk2NDYpXHJcbiAgICAgICAgICAgICAgICBpZiAoIG5hbWUgPT09IFwidmFsdWVcIiB8fCB2YWx1ZSA9PT0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTb21lIGF0dHJpYnV0ZXMgYXJlIGNvbnN0cnVjdGVkIHdpdGggZW1wdHktc3RyaW5nIHZhbHVlcyB3aGVuIG5vdCBkZWZpbmVkXHJcbiAgICAgICAgYXR0ckhhbmRsZS5pZCA9IGF0dHJIYW5kbGUubmFtZSA9IGF0dHJIYW5kbGUuY29vcmRzID1cclxuICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldDtcclxuICAgICAgICAgICAgICAgIGlmICggIWlzWE1MICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocmV0ID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHJldC52YWx1ZSAhPT0gXCJcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC52YWx1ZSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEZpeGluZyB2YWx1ZSByZXRyaWV2YWwgb24gYSBidXR0b24gcmVxdWlyZXMgdGhpcyBtb2R1bGVcclxuICAgICAgICBqUXVlcnkudmFsSG9va3MuYnV0dG9uID0ge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCByZXQgJiYgcmV0LnNwZWNpZmllZCApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IG5vZGVIb29rLnNldFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCBjb250ZW50ZWRpdGFibGUgdG8gZmFsc2Ugb24gcmVtb3ZhbHMoIzEwNDI5KVxyXG4gICAgICAgIC8vIFNldHRpbmcgdG8gZW1wdHkgc3RyaW5nIHRocm93cyBhbiBlcnJvciBhcyBhbiBpbnZhbGlkIHZhbHVlXHJcbiAgICAgICAgalF1ZXJ5LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGUgPSB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xyXG4gICAgICAgICAgICAgICAgbm9kZUhvb2suc2V0KCBlbGVtLCB2YWx1ZSA9PT0gXCJcIiA/IGZhbHNlIDogdmFsdWUsIG5hbWUgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCB3aWR0aCBhbmQgaGVpZ2h0IHRvIGF1dG8gaW5zdGVhZCBvZiAwIG9uIGVtcHR5IHN0cmluZyggQnVnICM4MTUwIClcclxuICAgICAgICAvLyBUaGlzIGlzIGZvciByZW1vdmFsc1xyXG4gICAgICAgIGpRdWVyeS5lYWNoKFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xyXG4gICAgICAgICAgICBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lIF0gPSB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlID09PSBcIlwiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgXCJhdXRvXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoICFzdXBwb3J0LnN0eWxlICkge1xyXG4gICAgICAgIGpRdWVyeS5hdHRySG9va3Muc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdW5kZWZpbmVkIGluIHRoZSBjYXNlIG9mIGVtcHR5IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogSUUgdXBwZXJjYXNlcyBjc3MgcHJvcGVydHkgbmFtZXMsIGJ1dCBpZiB3ZSB3ZXJlIHRvIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAvLyAuY3NzVGV4dCwgdGhhdCB3b3VsZCBkZXN0cm95IGNhc2Ugc2Vuc3RpdGl2aXR5IGluIFVSTCdzLCBsaWtlIGluIFwiYmFja2dyb3VuZFwiXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5zdHlsZS5jc3NUZXh0IHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCBlbGVtLnN0eWxlLmNzc1RleHQgPSB2YWx1ZSArIFwiXCIgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgdmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxcclxuICAgICAgICByY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xyXG4gICAgICAgICAgICBuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJ5L2NhdGNoIGhhbmRsZXMgY2FzZXMgd2hlcmUgSUUgYmFsa3MgKHN1Y2ggYXMgcmVtb3ZpbmcgYSBwcm9wZXJ0eSBvbiB3aW5kb3cpXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbIG5hbWUgXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1sgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCggZSApIHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5leHRlbmQoe1xyXG4gICAgICAgIHByb3BGaXg6IHtcclxuICAgICAgICAgICAgXCJmb3JcIjogXCJodG1sRm9yXCIsXHJcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgdmFyIHJldCwgaG9va3MsIG5vdHhtbCxcclxuICAgICAgICAgICAgICAgIG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcclxuICAgICAgICAgICAgaWYgKCAhZWxlbSB8fCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbm90eG1sID0gblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCBub3R4bWwgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXHJcbiAgICAgICAgICAgICAgICBuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xyXG4gICAgICAgICAgICAgICAgaG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkpICE9PSB1bmRlZmluZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA6XHJcbiAgICAgICAgICAgICAgICAgICAgKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSkgIT09IG51bGwgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbVsgbmFtZSBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcHJvcEhvb2tzOiB7XHJcbiAgICAgICAgICAgIHRhYkluZGV4OiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZSBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0YWJpbmRleFwiICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJpbmRleCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8IHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4vLyBTb21lIGF0dHJpYnV0ZXMgcmVxdWlyZSBhIHNwZWNpYWwgY2FsbCBvbiBJRVxyXG4vLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XHJcbiAgICBpZiAoICFzdXBwb3J0LmhyZWZOb3JtYWxpemVkICkge1xyXG4gICAgICAgIC8vIGhyZWYvc3JjIHByb3BlcnR5IHNob3VsZCBnZXQgdGhlIGZ1bGwgbm9ybWFsaXplZCBVUkwgKCMxMDI5OS8jMTI5MTUpXHJcbiAgICAgICAgalF1ZXJ5LmVhY2goWyBcImhyZWZcIiwgXCJzcmNcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcclxuICAgICAgICAgICAgalF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIDQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbi8vIFN1cHBvcnQ6IFNhZmFyaSwgSUU5K1xyXG4vLyBtaXMtcmVwb3J0cyB0aGUgZGVmYXVsdCBzZWxlY3RlZCBwcm9wZXJ0eSBvZiBhbiBvcHRpb25cclxuLy8gQWNjZXNzaW5nIHRoZSBwYXJlbnQncyBzZWxlY3RlZEluZGV4IHByb3BlcnR5IGZpeGVzIGl0XHJcbiAgICBpZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xyXG4gICAgICAgIGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggcGFyZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5zZWxlY3RlZEluZGV4O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBpdCBhbHNvIHdvcmtzIHdpdGggb3B0Z3JvdXBzLCBzZWUgIzU3MDFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBqUXVlcnkuZWFjaChbXHJcbiAgICAgICAgXCJ0YWJJbmRleFwiLFxyXG4gICAgICAgIFwicmVhZE9ubHlcIixcclxuICAgICAgICBcIm1heExlbmd0aFwiLFxyXG4gICAgICAgIFwiY2VsbFNwYWNpbmdcIixcclxuICAgICAgICBcImNlbGxQYWRkaW5nXCIsXHJcbiAgICAgICAgXCJyb3dTcGFuXCIsXHJcbiAgICAgICAgXCJjb2xTcGFuXCIsXHJcbiAgICAgICAgXCJ1c2VNYXBcIixcclxuICAgICAgICBcImZyYW1lQm9yZGVyXCIsXHJcbiAgICAgICAgXCJjb250ZW50RWRpdGFibGVcIlxyXG4gICAgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgalF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcclxuICAgIH0pO1xyXG5cclxuLy8gSUU2LzcgY2FsbCBlbmN0eXBlIGVuY29kaW5nXHJcbiAgICBpZiAoICFzdXBwb3J0LmVuY3R5cGUgKSB7XHJcbiAgICAgICAgalF1ZXJ5LnByb3BGaXguZW5jdHlwZSA9IFwiZW5jb2RpbmdcIjtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgcmNsYXNzID0gL1tcXHRcXHJcXG5cXGZdL2c7XHJcblxyXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XHJcbiAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY2xhenosIGosIGZpbmFsVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgcHJvY2VlZCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBqICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCB0aGlzLmNsYXNzTmFtZSApICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBwcm9jZWVkICkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGRpc2p1bmN0aW9uIGhlcmUgaXMgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSByZW1vdmVDbGFzcylcclxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSAoIHZhbHVlIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICggOyBpIDwgbGVuOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IHRoaXNbIGkgXTtcclxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggZWxlbS5jbGFzc05hbWUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIFwiIFwiICsgZWxlbS5jbGFzc05hbWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIChjbGF6eiA9IGNsYXNzZXNbaisrXSkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyICs9IGNsYXp6ICsgXCIgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5jbGFzc05hbWUgIT09IGZpbmFsVmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGZpbmFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsZW4gPSB0aGlzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHByb2NlZWQgPSBhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBqICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCB0aGlzLmNsYXNzTmFtZSApICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIHByb2NlZWQgKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gKCB2YWx1ZSB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSB0aGlzWyBpIF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcclxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggZWxlbS5jbGFzc05hbWUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIFwiIFwiICsgZWxlbS5jbGFzc05hbWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggKGNsYXp6ID0gY2xhc3Nlc1tqKytdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID49IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxWYWx1ZSA9IHZhbHVlID8galF1ZXJ5LnRyaW0oIGN1ciApIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtLmNsYXNzTmFtZSAhPT0gZmluYWxWYWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gZmluYWxWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoIHZhbHVlLmNhbGwodGhpcywgaSwgdGhpcy5jbGFzc05hbWUsIHN0YXRlVmFsKSwgc3RhdGVWYWwgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0pICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB0eXBlID09PSBzdHJ1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLmNsYXNzTmFtZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgY2xhc3NOYW1lIGlmIHNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuX2RhdGEoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCB0aGlzLmNsYXNzTmFtZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgXCJmYWxzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgPyBcIlwiIDogalF1ZXJ5Ll9kYXRhKCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIsXHJcbiAgICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICAgIGwgPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICggOyBpIDwgbDsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzW2ldLm5vZGVUeXBlID09PSAxICYmIChcIiBcIiArIHRoaXNbaV0uY2xhc3NOYW1lICsgXCIgXCIpLnJlcGxhY2UocmNsYXNzLCBcIiBcIikuaW5kZXhPZiggY2xhc3NOYW1lICkgPj0gMCApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxyXG5cclxuXHJcbiAgICBqUXVlcnkuZWFjaCggKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgXCIgK1xyXG4gICAgXCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXHJcbiAgICBcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIikuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcclxuICAgICAgICBqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cclxuICAgICAgICAgICAgICAgIHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCBuYW1lICk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xyXG4gICAgICAgICAgICAvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXHJcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gdGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6IHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB2YXIgbm9uY2UgPSBqUXVlcnkubm93KCk7XHJcblxyXG4gICAgdmFyIHJxdWVyeSA9ICgvXFw/Lyk7XHJcblxyXG5cclxuXHJcbiAgICB2YXIgcnZhbGlkdG9rZW5zID0gLygsKXwoXFxbfHspfCh9fF0pfFwiKD86W15cIlxcXFxcXHJcXG5dfFxcXFxbXCJcXFxcXFwvYmZucnRdfFxcXFx1W1xcZGEtZkEtRl17NH0pKlwiXFxzKjo/fHRydWV8ZmFsc2V8bnVsbHwtPyg/ITBcXGQpXFxkKyg/OlxcLlxcZCt8KSg/OltlRV1bKy1dP1xcZCt8KS9nO1xyXG5cclxuICAgIGpRdWVyeS5wYXJzZUpTT04gPSBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgICAvLyBBdHRlbXB0IHRvIHBhcnNlIHVzaW5nIHRoZSBuYXRpdmUgSlNPTiBwYXJzZXIgZmlyc3RcclxuICAgICAgICBpZiAoIHdpbmRvdy5KU09OICYmIHdpbmRvdy5KU09OLnBhcnNlICkge1xyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xyXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZhaWx1cmUgdG8gc3RyaW5nLWNhc3QgbnVsbCBpbnB1dFxyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkpTT04ucGFyc2UoIGRhdGEgKyBcIlwiICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVxdWlyZU5vbkNvbW1hLFxyXG4gICAgICAgICAgICBkZXB0aCA9IG51bGwsXHJcbiAgICAgICAgICAgIHN0ciA9IGpRdWVyeS50cmltKCBkYXRhICsgXCJcIiApO1xyXG5cclxuICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IGludmFsaWQgKGFuZCBwb3NzaWJseSBkYW5nZXJvdXMpIGlucHV0IGJ5IGVuc3VyaW5nIHRoYXQgbm90aGluZyByZW1haW5zXHJcbiAgICAgICAgLy8gYWZ0ZXIgcmVtb3ZpbmcgdmFsaWQgdG9rZW5zXHJcbiAgICAgICAgcmV0dXJuIHN0ciAmJiAhalF1ZXJ5LnRyaW0oIHN0ci5yZXBsYWNlKCBydmFsaWR0b2tlbnMsIGZ1bmN0aW9uKCB0b2tlbiwgY29tbWEsIG9wZW4sIGNsb3NlICkge1xyXG5cclxuICAgICAgICAgICAgLy8gRm9yY2UgdGVybWluYXRpb24gaWYgd2Ugc2VlIGEgbWlzcGxhY2VkIGNvbW1hXHJcbiAgICAgICAgICAgIGlmICggcmVxdWlyZU5vbkNvbW1hICYmIGNvbW1hICkge1xyXG4gICAgICAgICAgICAgICAgZGVwdGggPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQZXJmb3JtIG5vIG1vcmUgcmVwbGFjZW1lbnRzIGFmdGVyIHJldHVybmluZyB0byBvdXRlcm1vc3QgZGVwdGhcclxuICAgICAgICAgICAgaWYgKCBkZXB0aCA9PT0gMCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ29tbWFzIG11c3Qgbm90IGZvbGxvdyBcIltcIiwgXCJ7XCIsIG9yIFwiLFwiXHJcbiAgICAgICAgICAgIHJlcXVpcmVOb25Db21tYSA9IG9wZW4gfHwgY29tbWE7XHJcblxyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgbmV3IGRlcHRoXHJcbiAgICAgICAgICAgIC8vIGFycmF5L29iamVjdCBvcGVuIChcIltcIiBvciBcIntcIik6IGRlcHRoICs9IHRydWUgLSBmYWxzZSAoaW5jcmVtZW50KVxyXG4gICAgICAgICAgICAvLyBhcnJheS9vYmplY3QgY2xvc2UgKFwiXVwiIG9yIFwifVwiKTogZGVwdGggKz0gZmFsc2UgLSB0cnVlIChkZWNyZW1lbnQpXHJcbiAgICAgICAgICAgIC8vIG90aGVyIGNhc2VzIChcIixcIiBvciBwcmltaXRpdmUpOiBkZXB0aCArPSB0cnVlIC0gdHJ1ZSAobnVtZXJpYyBjYXN0KVxyXG4gICAgICAgICAgICBkZXB0aCArPSAhY2xvc2UgLSAhb3BlbjtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIHRva2VuXHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH0pICkgP1xyXG4gICAgICAgICAgICAoIEZ1bmN0aW9uKCBcInJldHVybiBcIiArIHN0ciApICkoKSA6XHJcbiAgICAgICAgICAgIGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIEpTT046IFwiICsgZGF0YSApO1xyXG4gICAgfTtcclxuXHJcblxyXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXHJcbiAgICBqUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgICB2YXIgeG1sLCB0bXA7XHJcbiAgICAgICAgaWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICggd2luZG93LkRPTVBhcnNlciApIHsgLy8gU3RhbmRhcmRcclxuICAgICAgICAgICAgICAgIHRtcCA9IG5ldyBET01QYXJzZXIoKTtcclxuICAgICAgICAgICAgICAgIHhtbCA9IHRtcC5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xyXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBJRVxyXG4gICAgICAgICAgICAgICAgeG1sID0gbmV3IEFjdGl2ZVhPYmplY3QoIFwiTWljcm9zb2Z0LlhNTERPTVwiICk7XHJcbiAgICAgICAgICAgICAgICB4bWwuYXN5bmMgPSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgICAgICB4bWwubG9hZFhNTCggZGF0YSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCggZSApIHtcclxuICAgICAgICAgICAgeG1sID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoICF4bWwgfHwgIXhtbC5kb2N1bWVudEVsZW1lbnQgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgIGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB4bWw7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB2YXJcclxuICAgIC8vIERvY3VtZW50IGxvY2F0aW9uXHJcbiAgICAgICAgYWpheExvY1BhcnRzLFxyXG4gICAgICAgIGFqYXhMb2NhdGlvbixcclxuXHJcbiAgICAgICAgcmhhc2ggPSAvIy4qJC8sXHJcbiAgICAgICAgcnRzID0gLyhbPyZdKV89W14mXSovLFxyXG4gICAgICAgIHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopXFxyPyQvbWcsIC8vIElFIGxlYXZlcyBhbiBcXHIgY2hhcmFjdGVyIGF0IEVPTFxyXG4gICAgLy8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXHJcbiAgICAgICAgcmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcclxuICAgICAgICBybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcclxuICAgICAgICBycHJvdG9jb2wgPSAvXlxcL1xcLy8sXHJcbiAgICAgICAgcnVybCA9IC9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLFxyXG5cclxuICAgIC8qIFByZWZpbHRlcnNcclxuICAgICAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXHJcbiAgICAgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxyXG4gICAgICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxyXG4gICAgICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxyXG4gICAgICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxyXG4gICAgICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxyXG4gICAgICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcclxuICAgICAqL1xyXG4gICAgICAgIHByZWZpbHRlcnMgPSB7fSxcclxuXHJcbiAgICAvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXHJcbiAgICAgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXHJcbiAgICAgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXHJcbiAgICAgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcclxuICAgICAqL1xyXG4gICAgICAgIHRyYW5zcG9ydHMgPSB7fSxcclxuXHJcbiAgICAvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cclxuICAgICAgICBhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoXCIqXCIpO1xyXG5cclxuLy8gIzgxMzgsIElFIG1heSB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiBhY2Nlc3NpbmdcclxuLy8gYSBmaWVsZCBmcm9tIHdpbmRvdy5sb2NhdGlvbiBpZiBkb2N1bWVudC5kb21haW4gaGFzIGJlZW4gc2V0XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFqYXhMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWY7XHJcbiAgICB9IGNhdGNoKCBlICkge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUgb2YgYW4gQSBlbGVtZW50XHJcbiAgICAgICAgLy8gc2luY2UgSUUgd2lsbCBtb2RpZnkgaXQgZ2l2ZW4gZG9jdW1lbnQubG9jYXRpb25cclxuICAgICAgICBhamF4TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xyXG4gICAgICAgIGFqYXhMb2NhdGlvbi5ocmVmID0gXCJcIjtcclxuICAgICAgICBhamF4TG9jYXRpb24gPSBhamF4TG9jYXRpb24uaHJlZjtcclxuICAgIH1cclxuXHJcbi8vIFNlZ21lbnQgbG9jYXRpb24gaW50byBwYXJ0c1xyXG4gICAgYWpheExvY1BhcnRzID0gcnVybC5leGVjKCBhamF4TG9jYXRpb24udG9Mb3dlckNhc2UoKSApIHx8IFtdO1xyXG5cclxuLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxyXG4gICAgZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7XHJcblxyXG4gICAgICAgIC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHtcclxuXHJcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGFUeXBlLFxyXG4gICAgICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XHJcblxyXG4gICAgICAgICAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBmdW5jICkgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoIChkYXRhVHlwZSA9IGRhdGFUeXBlc1tpKytdKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGF0YVR5cGUuY2hhckF0KCAwICkgPT09IFwiK1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10pLnVuc2hpZnQoIGZ1bmMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBhcHBlbmRcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdKS5wdXNoKCBmdW5jICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xyXG4gICAgZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcclxuXHJcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IHt9LFxyXG4gICAgICAgICAgICBzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZDtcclxuICAgICAgICAgICAgaW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcclxuICAgICAgICAgICAgalF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmICFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XHJcbiAgICB9XHJcblxyXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcclxuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcclxuLy8gRml4ZXMgIzk4ODdcclxuICAgIGZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xyXG4gICAgICAgIHZhciBkZWVwLCBrZXksXHJcbiAgICAgICAgICAgIGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAgICAgZm9yICgga2V5IGluIHNyYyApIHtcclxuICAgICAgICAgICAgaWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoZGVlcCA9IHt9KSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIGRlZXAgKSB7XHJcbiAgICAgICAgICAgIGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICAvKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XHJcbiAgICAgKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxyXG4gICAgICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0RGF0YVR5cGUsIGN0LCBmaW5hbERhdGFUeXBlLCB0eXBlLFxyXG4gICAgICAgICAgICBjb250ZW50cyA9IHMuY29udGVudHMsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xyXG4gICAgICAgIHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xyXG4gICAgICAgICAgICBkYXRhVHlwZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgY3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcclxuICAgICAgICBpZiAoIGN0ICkge1xyXG4gICAgICAgICAgICBmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcclxuICAgICAgICBpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcclxuICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcclxuICAgICAgICAgICAgZm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1swXSBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCAhZmlyc3REYXRhVHlwZSApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdERhdGFUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcclxuICAgICAgICAgICAgZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcclxuICAgICAgICAvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxyXG4gICAgICAgIC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcclxuICAgICAgICBpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XHJcbiAgICAgICAgICAgIGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxyXG4gICAgICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcclxuICAgICAgICB2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcclxuICAgICAgICAgICAgY29udmVydGVycyA9IHt9LFxyXG4gICAgICAgIC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cclxuICAgICAgICAgICAgZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXHJcbiAgICAgICAgaWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcclxuICAgICAgICAgICAgZm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XHJcbiAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXHJcbiAgICAgICAgd2hpbGUgKCBjdXJyZW50ICkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XHJcbiAgICAgICAgICAgICAgICBqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcclxuICAgICAgICAgICAgaWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByZXYgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGN1cnJlbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xyXG4gICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHByZXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXHJcbiAgICAgICAgICAgICAgICAgICAgY29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhY29udiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY29udiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNvbnYgPT09IHRydWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wWyAwIF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggY29udiAhPT0gdHJ1ZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjb252ICYmIHNbIFwidGhyb3dzXCIgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwicGFyc2VyZXJyb3JcIiwgZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcclxuICAgIH1cclxuXHJcbiAgICBqUXVlcnkuZXh0ZW5kKHtcclxuXHJcbiAgICAgICAgLy8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXHJcbiAgICAgICAgYWN0aXZlOiAwLFxyXG5cclxuICAgICAgICAvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XHJcbiAgICAgICAgbGFzdE1vZGlmaWVkOiB7fSxcclxuICAgICAgICBldGFnOiB7fSxcclxuXHJcbiAgICAgICAgYWpheFNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHVybDogYWpheExvY2F0aW9uLFxyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBhamF4TG9jUGFydHNbIDEgXSApLFxyXG4gICAgICAgICAgICBnbG9iYWw6IHRydWUsXHJcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICB0aW1lb3V0OiAwLFxyXG4gICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgIGRhdGFUeXBlOiBudWxsLFxyXG4gICAgICAgICAgICAgdXNlcm5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgICBwYXNzd29yZDogbnVsbCxcclxuICAgICAgICAgICAgIGNhY2hlOiBudWxsLFxyXG4gICAgICAgICAgICAgdGhyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgIHRyYWRpdGlvbmFsOiBmYWxzZSxcclxuICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxyXG4gICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgIGFjY2VwdHM6IHtcclxuICAgICAgICAgICAgICAgIFwiKlwiOiBhbGxUeXBlcyxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwidGV4dC9wbGFpblwiLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogXCJ0ZXh0L2h0bWxcIixcclxuICAgICAgICAgICAgICAgIHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXHJcbiAgICAgICAgICAgICAgICBqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBjb250ZW50czoge1xyXG4gICAgICAgICAgICAgICAgeG1sOiAveG1sLyxcclxuICAgICAgICAgICAgICAgIGh0bWw6IC9odG1sLyxcclxuICAgICAgICAgICAgICAgIGpzb246IC9qc29uL1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgcmVzcG9uc2VGaWVsZHM6IHtcclxuICAgICAgICAgICAgICAgIHhtbDogXCJyZXNwb25zZVhNTFwiLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJyZXNwb25zZVRleHRcIixcclxuICAgICAgICAgICAgICAgIGpzb246IFwicmVzcG9uc2VKU09OXCJcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIERhdGEgY29udmVydGVyc1xyXG4gICAgICAgICAgICAvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXHJcbiAgICAgICAgICAgIGNvbnZlcnRlcnM6IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcclxuICAgICAgICAgICAgICAgIFwiKiB0ZXh0XCI6IFN0cmluZyxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcclxuICAgICAgICAgICAgICAgIFwidGV4dCBodG1sXCI6IHRydWUsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0IGpzb25cIjogalF1ZXJ5LnBhcnNlSlNPTixcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0ZXh0IGFzIHhtbFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XHJcbiAgICAgICAgICAgIC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcclxuICAgICAgICAgICAgLy8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcclxuICAgICAgICAgICAgLy8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXHJcbiAgICAgICAgICAgIGZsYXRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0OiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxyXG4gICAgICAgIC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cclxuICAgICAgICAvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxyXG4gICAgICAgIGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncyA/XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3RcclxuICAgICAgICAgICAgICAgIGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcclxuICAgICAgICBhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcclxuXHJcbiAgICAgICAgLy8gTWFpbiBtZXRob2RcclxuICAgICAgICBhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcclxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHVybDtcclxuICAgICAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3RcclxuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgICAgICB2YXIgLy8gQ3Jvc3MtZG9tYWluIGRldGVjdGlvbiB2YXJzXHJcbiAgICAgICAgICAgICAgICBwYXJ0cyxcclxuICAgICAgICAgICAgLy8gTG9vcCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgLy8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxyXG4gICAgICAgICAgICAgICAgY2FjaGVVUkwsXHJcbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIGhlYWRlcnMgYXMgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnNTdHJpbmcsXHJcbiAgICAgICAgICAgIC8vIHRpbWVvdXQgaGFuZGxlXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZXIsXHJcblxyXG4gICAgICAgICAgICAvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcclxuICAgICAgICAgICAgICAgIGZpcmVHbG9iYWxzLFxyXG5cclxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydCxcclxuICAgICAgICAgICAgLy8gUmVzcG9uc2UgaGVhZGVyc1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcclxuICAgICAgICAgICAgLy8gQ2FsbGJhY2tzIGNvbnRleHRcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxyXG4gICAgICAgICAgICAvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiYgKCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQsXHJcbiAgICAgICAgICAgIC8vIERlZmVycmVkc1xyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXHJcbiAgICAgICAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxyXG4gICAgICAgICAgICAvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnMgPSB7fSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcclxuICAgICAgICAgICAgLy8gVGhlIGpxWEhSIHN0YXRlXHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IDAsXHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgc3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXHJcbiAgICAgICAgICAgIC8vIEZha2UgeGhyXHJcbiAgICAgICAgICAgICAgICBqcVhIUiA9IHtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlOiAwLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzdGF0ZSA9PT0gMiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIChtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJhdyBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICBnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgPT09IDIgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlcyB0aGUgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIXN0YXRlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBsbmFtZSBdIHx8IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhc3RhdGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1pbWVUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1hcCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc3RhdGUgPCAyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIGNvZGUgaW4gbWFwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmFuc3BvcnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoIDAsIGZpbmFsVGV4dCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gQXR0YWNoIGRlZmVycmVkc1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApLmNvbXBsZXRlID0gY29tcGxldGVEZWZlcnJlZC5hZGQ7XHJcbiAgICAgICAgICAgIGpxWEhSLnN1Y2Nlc3MgPSBqcVhIUi5kb25lO1xyXG4gICAgICAgICAgICBqcVhIUi5lcnJvciA9IGpxWEhSLmZhaWw7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaGFzaCBjaGFyYWN0ZXIgKCM3NTMxOiBhbmQgc3RyaW5nIHByb21vdGlvbilcclxuICAgICAgICAgICAgLy8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAoIzU4NjY6IElFNyBpc3N1ZSB3aXRoIHByb3RvY29sLWxlc3MgdXJscylcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcclxuICAgICAgICAgICAgLy8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBhamF4TG9jYXRpb24gKSArIFwiXCIgKS5yZXBsYWNlKCByaGFzaCwgXCJcIiApLnJlcGxhY2UoIHJwcm90b2NvbCwgYWpheExvY1BhcnRzWyAxIF0gKyBcIi8vXCIgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxyXG4gICAgICAgICAgICBzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xyXG5cclxuICAgICAgICAgICAgLy8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxyXG4gICAgICAgICAgICBzLmRhdGFUeXBlcyA9IGpRdWVyeS50cmltKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XHJcblxyXG4gICAgICAgICAgICAvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gd2UgaGF2ZSBhIHByb3RvY29sOmhvc3Q6cG9ydCBtaXNtYXRjaFxyXG4gICAgICAgICAgICBpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIHBhcnRzID0gcnVybC5leGVjKCBzLnVybC50b0xvd2VyQ2FzZSgpICk7XHJcbiAgICAgICAgICAgICAgICBzLmNyb3NzRG9tYWluID0gISEoIHBhcnRzICYmXHJcbiAgICAgICAgICAgICAgICAoIHBhcnRzWyAxIF0gIT09IGFqYXhMb2NQYXJ0c1sgMSBdIHx8IHBhcnRzWyAyIF0gIT09IGFqYXhMb2NQYXJ0c1sgMiBdIHx8XHJcbiAgICAgICAgICAgICAgICAoIHBhcnRzWyAzIF0gfHwgKCBwYXJ0c1sgMSBdID09PSBcImh0dHA6XCIgPyBcIjgwXCIgOiBcIjQ0M1wiICkgKSAhPT1cclxuICAgICAgICAgICAgICAgICggYWpheExvY1BhcnRzWyAzIF0gfHwgKCBhamF4TG9jUGFydHNbIDEgXSA9PT0gXCJodHRwOlwiID8gXCI4MFwiIDogXCI0NDNcIiApICkgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgICAgIHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHByZWZpbHRlcnNcclxuICAgICAgICAgICAgaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxyXG4gICAgICAgICAgICBpZiAoIHN0YXRlID09PSAyICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpxWEhSO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xyXG4gICAgICAgICAgICAvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxyXG4gICAgICAgICAgICBmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcclxuICAgICAgICAgICAgaWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXBwZXJjYXNlIHRoZSB0eXBlXHJcbiAgICAgICAgICAgIHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcclxuICAgICAgICAgICAgcy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XHJcblxyXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2VcclxuICAgICAgICAgICAgLy8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXHJcbiAgICAgICAgICAgIGNhY2hlVVJMID0gcy51cmw7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxyXG4gICAgICAgICAgICBpZiAoICFzLmhhc0NvbnRlbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxyXG4gICAgICAgICAgICAgICAgaWYgKCBzLmRhdGEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVVUkwgPSAoIHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGEgKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHMuZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgYW50aS1jYWNoZSBpbiB1cmwgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMudXJsID0gcnRzLnRlc3QoIGNhY2hlVVJMICkgP1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhICdfJyBwYXJhbWV0ZXIsIHNldCBpdHMgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIiQxXz1cIiArIG5vbmNlKysgKSA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIG9uZSB0byB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVVUkwgKyAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgbm9uY2UrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cclxuICAgICAgICAgICAgaWYgKCBzLmlmTW9kaWZpZWQgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcclxuICAgICAgICAgICAgaWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XHJcbiAgICAgICAgICAgICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcclxuICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlcihcclxuICAgICAgICAgICAgICAgIFwiQWNjZXB0XCIsXHJcbiAgICAgICAgICAgICAgICBzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbMF0gXSA/XHJcbiAgICAgICAgICAgICAgICBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWzBdIF0gKyAoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxyXG4gICAgICAgICAgICAgICAgICAgIHMuYWNjZXB0c1sgXCIqXCIgXVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXHJcbiAgICAgICAgICAgIGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xyXG4gICAgICAgICAgICAgICAganFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxyXG4gICAgICAgICAgICBpZiAoIHMuYmVmb3JlU2VuZCAmJiAoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IHN0YXRlID09PSAyICkgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cclxuICAgICAgICAgICAgICAgIHJldHVybiBqcVhIUi5hYm9ydCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cclxuICAgICAgICAgICAgc3RyQWJvcnQgPSBcImFib3J0XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcclxuICAgICAgICAgICAgZm9yICggaSBpbiB7IHN1Y2Nlc3M6IDEsIGVycm9yOiAxLCBjb21wbGV0ZTogMSB9ICkge1xyXG4gICAgICAgICAgICAgICAganFYSFJbIGkgXSggc1sgaSBdICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0cmFuc3BvcnRcclxuICAgICAgICAgICAgdHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcclxuICAgICAgICAgICAgaWYgKCAhdHJhbnNwb3J0ICkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgZ2xvYmFsIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoIGZpcmVHbG9iYWxzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVGltZW91dFxyXG4gICAgICAgICAgICAgICAgaWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAganFYSFIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHMudGltZW91dCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvcGFnYXRlIGV4Y2VwdGlvbiBhcyBlcnJvciBpZiBub3QgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3RhdGUgPCAyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lKCAtMSwgZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW1wbHkgcmV0aHJvdyBvdGhlcndpc2VcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsZWQgb25jZVxyXG4gICAgICAgICAgICAgICAgaWYgKCBzdGF0ZSA9PT0gMiApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhdGUgaXMgXCJkb25lXCIgbm93XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IDI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcclxuICAgICAgICAgICAgICAgIGlmICggdGltZW91dFRpbWVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgICAgIC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXHJcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCByZWFkeVN0YXRlXHJcbiAgICAgICAgICAgICAgICBqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXHJcbiAgICAgICAgICAgICAgICBpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgcmVzcG9uc2UgZGF0YVxyXG4gICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZXMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKCBpc1N1Y2Nlc3MgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzLmlmTW9kaWZpZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1vZGlmaWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1vZGlmaWVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbm8gY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBub3QgbW9kaWZpZWRcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3VjY2VzcyA9ICFlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBub3JtYWxpemUgc3RhdHVzVGV4dCBhbmQgc3RhdHVzIGZvciBub24tYWJvcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBzdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHN0YXR1cyA8IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VjY2Vzcy9FcnJvclxyXG4gICAgICAgICAgICAgICAgaWYgKCBpc1N1Y2Nlc3MgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXHJcbiAgICAgICAgICAgICAgICBqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggZmlyZUdsb2JhbHMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGxldGVcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBmaXJlR2xvYmFscyApIHtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBqcVhIUjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBpLCBtZXRob2QgKSB7XHJcbiAgICAgICAgalF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xyXG4gICAgICAgICAgICAvLyBzaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxyXG4gICAgICAgICAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgalF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcclxuICAgICAgICByZXR1cm4galF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwic2NyaXB0XCIsXHJcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2xvYmFsOiBmYWxzZSxcclxuICAgICAgICAgICAgXCJ0aHJvd3NcIjogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XHJcbiAgICAgICAgd3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XHJcbiAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS53cmFwQWxsKCBodG1sLmNhbGwodGhpcywgaSkgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXNbMF0gKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbMF0ub3duZXJEb2N1bWVudCApLmVxKDApLmNsb25lKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdGhpc1swXS5wYXJlbnROb2RlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWzBdICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgd3JhcC5tYXAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCAmJiBlbGVtLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IDEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgICAgICAgICAgICAgIH0pLmFwcGVuZCggdGhpcyApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xyXG4gICAgICAgICAgICBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykud3JhcElubmVyKCBodG1sLmNhbGwodGhpcywgaSkgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50cy53cmFwQWxsKCBodG1sICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcGVuZCggaHRtbCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcclxuICAgICAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRtbCApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB1bndyYXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImJvZHlcIiApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAgICAgLy8gU3VwcG9ydDogT3BlcmEgPD0gMTIuMTJcclxuICAgICAgICAvLyBPcGVyYSByZXBvcnRzIG9mZnNldFdpZHRocyBhbmQgb2Zmc2V0SGVpZ2h0cyBsZXNzIHRoYW4gemVybyBvbiBzb21lIGVsZW1lbnRzXHJcbiAgICAgICAgcmV0dXJuIGVsZW0ub2Zmc2V0V2lkdGggPD0gMCAmJiBlbGVtLm9mZnNldEhlaWdodCA8PSAwIHx8XHJcbiAgICAgICAgICAgICghc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMoKSAmJlxyXG4gICAgICAgICAgICAoKGVsZW0uc3R5bGUgJiYgZWxlbS5zdHlsZS5kaXNwbGF5KSB8fCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApKSA9PT0gXCJub25lXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZXhwci5maWx0ZXJzLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgICAgICByZXR1cm4gIWpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuKCBlbGVtICk7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuICAgIHZhciByMjAgPSAvJTIwL2csXHJcbiAgICAgICAgcmJyYWNrZXQgPSAvXFxbXFxdJC8sXHJcbiAgICAgICAgckNSTEYgPSAvXFxyP1xcbi9nLFxyXG4gICAgICAgIHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcclxuICAgICAgICByc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xyXG4gICAgICAgIHZhciBuYW1lO1xyXG5cclxuICAgICAgICBpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcclxuICAgICAgICAgICAgLy8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXHJcbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKCBwcmVmaXgsIHYgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgPyBpIDogXCJcIiApICsgXCJdXCIsIHYsIHRyYWRpdGlvbmFsLCBhZGQgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XHJcbiAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cclxuICAgICAgICAgICAgZm9yICggbmFtZSBpbiBvYmogKSB7XHJcbiAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxyXG4gICAgICAgICAgICBhZGQoIHByZWZpeCwgb2JqICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2ZcclxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXHJcbiAgICBqUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XHJcbiAgICAgICAgdmFyIHByZWZpeCxcclxuICAgICAgICAgICAgcyA9IFtdLFxyXG4gICAgICAgICAgICBhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgcmV0dXJuIGl0cyB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSA/IHZhbHVlKCkgOiAoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcclxuICAgICAgICAgICAgICAgIHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCB0cmFkaXRpb25hbCB0byB0cnVlIGZvciBqUXVlcnkgPD0gMS4zLjIgYmVoYXZpb3IuXHJcbiAgICAgICAgaWYgKCB0cmFkaXRpb25hbCA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICB0cmFkaXRpb25hbCA9IGpRdWVyeS5hamF4U2V0dGluZ3MgJiYgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXHJcbiAgICAgICAgaWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcclxuICAgICAgICAgICAgLy8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxyXG4gICAgICAgICAgICAvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cclxuICAgICAgICAgICAgZm9yICggcHJlZml4IGluIGEgKSB7XHJcbiAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXHJcbiAgICAgICAgcmV0dXJuIHMuam9pbiggXCImXCIgKS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIC5pcyhcIjpkaXNhYmxlZFwiKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiggaSwgZWxlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwgPT0gbnVsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuaXNBcnJheSggdmFsICkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcclxuICAgICAgICAgICAgICAgIH0pLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbi8vIENyZWF0ZSB0aGUgcmVxdWVzdCBvYmplY3RcclxuLy8gKFRoaXMgaXMgc3RpbGwgYXR0YWNoZWQgdG8gYWpheFNldHRpbmdzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG4gICAgalF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSB3aW5kb3cuQWN0aXZlWE9iamVjdCAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAvLyBTdXBwb3J0OiBJRTYrXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBYSFIgY2Fubm90IGFjY2VzcyBsb2NhbCBmaWxlcywgYWx3YXlzIHVzZSBBY3RpdmVYIGZvciB0aGF0IGNhc2VcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTG9jYWwgJiZcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydDogSUU3LThcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbGRJRSBYSFIgZG9lcyBub3Qgc3VwcG9ydCBub24tUkZDMjYxNiBtZXRob2RzICgjMTMyNDApXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9tczUzNjY0OCh2PXZzLjg1KS5hc3B4XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGh0dHA6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjOS5odG1sI3NlYzlcclxuICAgICAgICAgICAgICAgICAgICAvLyBBbHRob3VnaCB0aGlzIGNoZWNrIGZvciBzaXggbWV0aG9kcyBpbnN0ZWFkIG9mIGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgSUUgYWxzbyBkb2VzIG5vdCBzdXBwb3J0IFwidHJhY2VcIiBhbmQgXCJjb25uZWN0XCJcclxuICAgICAgICAgICAgICAgIC9eKGdldHxwb3N0fGhlYWR8cHV0fGRlbGV0ZXxvcHRpb25zKSQvaS50ZXN0KCB0aGlzLnR5cGUgKSAmJlxyXG5cclxuICAgICAgICAgICAgICAgIGNyZWF0ZVN0YW5kYXJkWEhSKCkgfHwgY3JlYXRlQWN0aXZlWEhSKCk7XHJcbiAgICAgICAgfSA6XHJcbiAgICAgICAgLy8gRm9yIGFsbCBvdGhlciBicm93c2VycywgdXNlIHRoZSBzdGFuZGFyZCBYTUxIdHRwUmVxdWVzdCBvYmplY3RcclxuICAgICAgICBjcmVhdGVTdGFuZGFyZFhIUjtcclxuXHJcbiAgICB2YXIgeGhySWQgPSAwLFxyXG4gICAgICAgIHhockNhbGxiYWNrcyA9IHt9LFxyXG4gICAgICAgIHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XHJcblxyXG4vLyBTdXBwb3J0OiBJRTwxMFxyXG4vLyBPcGVuIHJlcXVlc3RzIG11c3QgYmUgbWFudWFsbHkgYWJvcnRlZCBvbiB1bmxvYWQgKCM1MjgwKVxyXG4vLyBTZWUgaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20va2IvMjg1Njc0NiBmb3IgbW9yZSBpbmZvXHJcbiAgICBpZiAoIHdpbmRvdy5hdHRhY2hFdmVudCApIHtcclxuICAgICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAoIHZhciBrZXkgaW4geGhyQ2FsbGJhY2tzICkge1xyXG4gICAgICAgICAgICAgICAgeGhyQ2FsbGJhY2tzWyBrZXkgXSggdW5kZWZpbmVkLCB0cnVlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbi8vIERldGVybWluZSBzdXBwb3J0IHByb3BlcnRpZXNcclxuICAgIHN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcclxuICAgIHhoclN1cHBvcnRlZCA9IHN1cHBvcnQuYWpheCA9ICEheGhyU3VwcG9ydGVkO1xyXG5cclxuLy8gQ3JlYXRlIHRyYW5zcG9ydCBpZiB0aGUgYnJvd3NlciBjYW4gcHJvdmlkZSBhbiB4aHJcclxuICAgIGlmICggeGhyU3VwcG9ydGVkICkge1xyXG5cclxuICAgICAgICBqUXVlcnkuYWpheFRyYW5zcG9ydChmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuICAgICAgICAgICAgLy8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxyXG4gICAgICAgICAgICBpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluIHx8IHN1cHBvcnQuY29ycyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyID0gb3B0aW9ucy54aHIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gKyt4aHJJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gdGhlIHNvY2tldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIub3Blbiggb3B0aW9ucy50eXBlLCBvcHRpb25zLnVybCwgb3B0aW9ucy5hc3luYywgb3B0aW9ucy51c2VybmFtZSwgb3B0aW9ucy5wYXNzd29yZCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBoZWFkZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIGkgaW4gaGVhZGVycyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFJ3MgQWN0aXZlWE9iamVjdCB0aHJvd3MgYSAnVHlwZSBNaXNtYXRjaCcgZXhjZXB0aW9uIHdoZW4gc2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBoZWFkZXIgdG8gYSBudWxsLXZhbHVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvIGtlZXAgY29uc2lzdGVudCB3aXRoIG90aGVyIFhIUiBpbXBsZW1lbnRhdGlvbnMsIGNhc3QgdGhlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBzdHJpbmcgYW5kIGlnbm9yZSBgdW5kZWZpbmVkYC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaGVhZGVyc1sgaSBdICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSArIFwiXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gc2VuZCB0aGUgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24gd2hpY2ggaXMgYWN0dWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlZCBpbiBqUXVlcnkuYWpheCAoc28gbm8gdHJ5L2NhdGNoIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKCAoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgKSB8fCBudWxsICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKCBfLCBpc0Fib3J0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhcyBuZXZlciBjYWxsZWQgYW5kIGlzIGFib3J0ZWQgb3IgY29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY2FsbGJhY2sgJiYgKCBpc0Fib3J0IHx8IHhoci5yZWFkeVN0YXRlID09PSA0ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgeGhyQ2FsbGJhY2tzWyBpZCBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBqUXVlcnkubm9vcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWJvcnQgbWFudWFsbHkgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc0Fib3J0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHhoci5yZWFkeVN0YXRlICE9PSA0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0geGhyLnN0YXR1cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQ6IElFPDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2Vzc2luZyBiaW5hcnktZGF0YSByZXNwb25zZVRleHQgdGhyb3dzIGFuIGV4Y2VwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoIzExNDI2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ID09PSBcInN0cmluZ1wiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VzLnRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IHRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhY2Nlc3NpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhdHVzVGV4dCBmb3IgZmF1bHR5IGNyb3NzLWRvbWFpbiByZXF1ZXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugbm9ybWFsaXplIHdpdGggV2Via2l0IGdpdmluZyBhbiBlbXB0eSBzdGF0dXNUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIHN0YXR1cyBmb3Igbm9uIHN0YW5kYXJkIGJlaGF2aW9yc1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgbG9jYWwgYW5kIHdlIGhhdmUgZGF0YTogYXNzdW1lIGEgc3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoc3VjY2VzcyB3aXRoIG5vIGRhdGEgd29uJ3QgZ2V0IG5vdGlmaWVkLCB0aGF0J3MgdGhlIGJlc3Qgd2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuIGRvIGdpdmVuIGN1cnJlbnQgaW1wbGVtZW50YXRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFzdGF0dXMgJiYgb3B0aW9ucy5pc0xvY2FsICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2VzLnRleHQgPyAyMDAgOiA0MDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRSAtICMxNDUwOiBzb21ldGltZXMgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDEyMjMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAyMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBjb21wbGV0ZSBpZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2VzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCBzdGF0dXMsIHN0YXR1c1RleHQsIHJlc3BvbnNlcywgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFvcHRpb25zLmFzeW5jICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgaW4gc3luYyBtb2RlIHdlIGZpcmUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChJRTYgJiBJRTcpIGlmIGl0J3MgaW4gY2FjaGUgYW5kIGhhcyBiZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZWQgZGlyZWN0bHkgd2UgbmVlZCB0byBmaXJlIHRoZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggY2FsbGJhY2sgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byB0aGUgbGlzdCBvZiBhY3RpdmUgeGhyIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHhockNhbGxiYWNrc1sgaWQgXSA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGNhbGxiYWNrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soIHVuZGVmaW5lZCwgdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuLy8gRnVuY3Rpb25zIHRvIGNyZWF0ZSB4aHJzXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTdGFuZGFyZFhIUigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIH0gY2F0Y2goIGUgKSB7fVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFjdGl2ZVhIUigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxIVFRQXCIgKTtcclxuICAgICAgICB9IGNhdGNoKCBlICkge31cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXHJcbiAgICBqUXVlcnkuYWpheFNldHVwKHtcclxuICAgICAgICBhY2NlcHRzOiB7XHJcbiAgICAgICAgICAgIHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50czoge1xyXG4gICAgICAgICAgICBzY3JpcHQ6IC8oPzpqYXZhfGVjbWEpc2NyaXB0L1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udmVydGVyczoge1xyXG4gICAgICAgICAgICBcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGdsb2JhbFxyXG4gICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xyXG4gICAgICAgIGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICBzLmNhY2hlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggcy5jcm9zc0RvbWFpbiApIHtcclxuICAgICAgICAgICAgcy50eXBlID0gXCJHRVRcIjtcclxuICAgICAgICAgICAgcy5nbG9iYWwgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxyXG4gICAgalF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKHMpIHtcclxuXHJcbiAgICAgICAgLy8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xyXG4gICAgICAgIGlmICggcy5jcm9zc0RvbWFpbiApIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzY3JpcHQsXHJcbiAgICAgICAgICAgICAgICBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBqUXVlcnkoXCJoZWFkXCIpWzBdIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VuZDogZnVuY3Rpb24oIF8sIGNhbGxiYWNrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHMuc2NyaXB0Q2hhcnNldCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0LmNoYXJzZXQgPSBzLnNjcmlwdENoYXJzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gcy51cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGFjaCBoYW5kbGVycyBmb3IgYWxsIGJyb3dzZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiggXywgaXNBYm9ydCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNBYm9ydCB8fCAhc2NyaXB0LnJlYWR5U3RhdGUgfHwgL2xvYWRlZHxjb21wbGV0ZS8udGVzdCggc2NyaXB0LnJlYWR5U3RhdGUgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbWVtb3J5IGxlYWsgaW4gSUVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3JpcHQucGFyZW50Tm9kZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVyZWZlcmVuY2UgdGhlIHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsYmFjayBpZiBub3QgYWJvcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWlzQWJvcnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soIDIwMCwgXCJzdWNjZXNzXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENpcmN1bXZlbnQgSUU2IGJ1Z3Mgd2l0aCBiYXNlIGVsZW1lbnRzICgjMjcwOSBhbmQgIzQzNzgpIGJ5IHByZXBlbmRpbmdcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcclxuICAgICAgICAgICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZSggc2NyaXB0LCBoZWFkLmZpcnN0Q2hpbGQgKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2NyaXB0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQub25sb2FkKCB1bmRlZmluZWQsIHRydWUgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgdmFyIG9sZENhbGxiYWNrcyA9IFtdLFxyXG4gICAgICAgIHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XHJcblxyXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXHJcbiAgICBqUXVlcnkuYWpheFNldHVwKHtcclxuICAgICAgICBqc29ucDogXCJjYWxsYmFja1wiLFxyXG4gICAgICAgIGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZSsrICkgKTtcclxuICAgICAgICAgICAgdGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xyXG4gICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XHJcblxyXG4gICAgICAgIHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcclxuICAgICAgICAgICAganNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cclxuICAgICAgICAgICAgICAgICAgICBcInVybFwiIDpcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiYgISggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSAmJiByanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcclxuICAgICAgICBpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcclxuICAgICAgICAgICAgY2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cclxuICAgICAgICAgICAgICAgIHMuanNvbnBDYWxsYmFjaygpIDpcclxuICAgICAgICAgICAgICAgIHMuanNvbnBDYWxsYmFjaztcclxuXHJcbiAgICAgICAgICAgIC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcclxuICAgICAgICAgICAgaWYgKCBqc29uUHJvcCApIHtcclxuICAgICAgICAgICAgICAgIHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xyXG4gICAgICAgICAgICAgICAgcy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxyXG4gICAgICAgICAgICBzLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZvcmNlIGpzb24gZGF0YVR5cGVcclxuICAgICAgICAgICAgcy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xyXG5cclxuICAgICAgICAgICAgLy8gSW5zdGFsbCBjYWxsYmFja1xyXG4gICAgICAgICAgICBvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XHJcbiAgICAgICAgICAgIHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXHJcbiAgICAgICAgICAgIGpxWEhSLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcclxuICAgICAgICAgICAgICAgIHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGJhY2sgYXMgZnJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcclxuICAgICAgICAgICAgICAgICAgICBzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2VcclxuICAgICAgICAgICAgICAgICAgICBvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICBpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcclxuICAgICAgICAgICAgcmV0dXJuIFwic2NyaXB0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4vLyBkYXRhOiBzdHJpbmcgb2YgaHRtbFxyXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsIGRlZmF1bHRzIHRvIGRvY3VtZW50XHJcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcclxuICAgIGpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XHJcbiAgICAgICAgaWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xyXG4gICAgICAgICAgICBrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgIGNvbnRleHQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XHJcblxyXG4gICAgICAgIHZhciBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKSxcclxuICAgICAgICAgICAgc2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcclxuXHJcbiAgICAgICAgLy8gU2luZ2xlIHRhZ1xyXG4gICAgICAgIGlmICggcGFyc2VkICkge1xyXG4gICAgICAgICAgICByZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsxXSApIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXJzZWQgPSBqUXVlcnkuYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcclxuXHJcbiAgICAgICAgaWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xyXG4gICAgICAgICAgICBqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xyXG4gICAgfTtcclxuXHJcblxyXG4vLyBLZWVwIGEgY29weSBvZiB0aGUgb2xkIGxvYWQgbWV0aG9kXHJcbiAgICB2YXIgX2xvYWQgPSBqUXVlcnkuZm4ubG9hZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcclxuICAgICAqL1xyXG4gICAgalF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xyXG4gICAgICAgIGlmICggdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIiAmJiBfbG9hZCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9sb2FkLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzZWxlY3RvciwgcmVzcG9uc2UsIHR5cGUsXHJcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBvZmYgPSB1cmwuaW5kZXhPZihcIiBcIik7XHJcblxyXG4gICAgICAgIGlmICggb2ZmID49IDAgKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmLCB1cmwubGVuZ3RoICkgKTtcclxuICAgICAgICAgICAgdXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGl0J3MgYSBmdW5jdGlvblxyXG4gICAgICAgIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xyXG5cclxuICAgICAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBwYXJhbXM7XHJcbiAgICAgICAgICAgIHBhcmFtcyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcclxuICAgICAgICB9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcclxuICAgICAgICAgICAgdHlwZSA9IFwiUE9TVFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3RcclxuICAgICAgICBpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcclxuICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLmh0bWwoIHNlbGVjdG9yID9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiPGRpdj5cIikuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCApO1xyXG5cclxuICAgICAgICAgICAgfSkuY29tcGxldGUoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5lYWNoKCBjYWxsYmFjaywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXHJcbiAgICBqUXVlcnkuZWFjaCggWyBcImFqYXhTdGFydFwiLCBcImFqYXhTdG9wXCIsIFwiYWpheENvbXBsZXRlXCIsIFwiYWpheEVycm9yXCIsIFwiYWpheFN1Y2Nlc3NcIiwgXCJhamF4U2VuZFwiIF0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xyXG4gICAgICAgIGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgalF1ZXJ5LmV4cHIuZmlsdGVycy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgICAgIHJldHVybiBqUXVlcnkuZ3JlcChqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xyXG4gICAgICAgIH0pLmxlbmd0aDtcclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIHZhciBkb2NFbGVtID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcclxuICAgICAgICByZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgP1xyXG4gICAgICAgICAgICBlbGVtIDpcclxuICAgICAgICAgICAgZWxlbS5ub2RlVHlwZSA9PT0gOSA/XHJcbiAgICAgICAgICAgIGVsZW0uZGVmYXVsdFZpZXcgfHwgZWxlbS5wYXJlbnRXaW5kb3cgOlxyXG4gICAgICAgICAgICAgICAgZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5Lm9mZnNldCA9IHtcclxuICAgICAgICBzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xyXG4gICAgICAgICAgICB2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcclxuICAgICAgICAgICAgICAgIGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcclxuICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXHJcbiAgICAgICAgICAgIGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xyXG4gICAgICAgICAgICBjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XHJcbiAgICAgICAgICAgIGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xyXG4gICAgICAgICAgICBjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcclxuICAgICAgICAgICAgalF1ZXJ5LmluQXJyYXkoXCJhdXRvXCIsIFsgY3VyQ1NTVG9wLCBjdXJDU1NMZWZ0IF0gKSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgLy8gbmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXIgdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXHJcbiAgICAgICAgICAgIGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcclxuICAgICAgICAgICAgICAgIGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgY3VyT2Zmc2V0ICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHByb3BzICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5mbi5leHRlbmQoe1xyXG4gICAgICAgIG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgICAgIGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGRvY0VsZW0sIHdpbixcclxuICAgICAgICAgICAgICAgIGJveCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgICAgICAgICAgICBlbGVtID0gdGhpc1sgMCBdLFxyXG4gICAgICAgICAgICAgICAgZG9jID0gZWxlbSAmJiBlbGVtLm93bmVyRG9jdW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoICFkb2MgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGl0J3Mgbm90IGEgZGlzY29ubmVjdGVkIERPTSBub2RlXHJcbiAgICAgICAgICAgIGlmICggIWpRdWVyeS5jb250YWlucyggZG9jRWxlbSwgZWxlbSApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJveDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBnQkNSLCBqdXN0IHVzZSAwLDAgcmF0aGVyIHRoYW4gZXJyb3JcclxuICAgICAgICAgICAgLy8gQmxhY2tCZXJyeSA1LCBpT1MgMyAob3JpZ2luYWwgaVBob25lKVxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gc3RydW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW4gPSBnZXRXaW5kb3coIGRvYyApO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdG9wOiBib3gudG9wICArICggd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wICkgIC0gKCBkb2NFbGVtLmNsaWVudFRvcCAgfHwgMCApLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogYm94LmxlZnQgKyAoIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQgKSAtICggZG9jRWxlbS5jbGllbnRMZWZ0IHx8IDAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCAhdGhpc1sgMCBdICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9LFxyXG4gICAgICAgICAgICAgICAgZWxlbSA9IHRoaXNbIDAgXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxyXG4gICAgICAgICAgICBpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgYXZhaWxhYmxlIHdoZW4gY29tcHV0ZWQgcG9zaXRpb24gaXMgZml4ZWRcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgY29ycmVjdCBvZmZzZXRzXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJodG1sXCIgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIG9mZnNldFBhcmVudCBib3JkZXJzXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQudG9wICArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXHJcbiAgICAgICAgICAgIC8vIG5vdGU6IHdoZW4gYW4gZWxlbWVudCBoYXMgbWFyZ2luOiBhdXRvIHRoZSBvZmZzZXRMZWZ0IGFuZCBtYXJnaW5MZWZ0XHJcbiAgICAgICAgICAgIC8vIGFyZSB0aGUgc2FtZSBpbiBTYWZhcmkgY2F1c2luZyBvZmZzZXQubGVmdCB0byBpbmNvcnJlY3RseSBiZSAwXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6ICBvZmZzZXQudG9wICAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnQsIFwiaHRtbFwiICkgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXHJcbiAgICBqUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XHJcbiAgICAgICAgdmFyIHRvcCA9IC9ZLy50ZXN0KCBwcm9wICk7XHJcblxyXG4gICAgICAgIGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luID8gKHByb3AgaW4gd2luKSA/IHdpblsgcHJvcCBdIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgbWV0aG9kIF0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtWyBtZXRob2QgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIHdpbiApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW4uc2Nyb2xsVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0b3AgPyB2YWwgOiBqUXVlcnkoIHdpbiApLnNjcm9sbExlZnQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID8gdmFsIDogalF1ZXJ5KCB3aW4gKS5zY3JvbGxUb3AoKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtWyBtZXRob2QgXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwgKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxyXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcclxuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodFxyXG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwgd2UganVzdCBjaGVjayBmb3IgaXQgaGVyZVxyXG4gICAgalF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcclxuICAgICAgICAgICAgZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBjb21wdXRlZCApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfSk7XHJcblxyXG5cclxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXHJcbiAgICBqUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XHJcbiAgICAgICAgalF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LCBmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcclxuICAgICAgICAgICAgLy8gbWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXHJcbiAgICAgICAgICAgIGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcclxuICAgICAgICAgICAgICAgICAgICBleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzIG9mIDUvOC8yMDEyIHRoaXMgd2lsbCB5aWVsZCBpbmNvcnJlY3QgcmVzdWx0cyBmb3IgTW9iaWxlIFNhZmFyaSwgYnV0IHRoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzbid0IGEgd2hvbGUgbG90IHdlIGNhbiBkby4gU2VlIHB1bGwgcmVxdWVzdCBhdCB0aGlzIFVSTCBmb3IgZGlzY3Vzc2lvbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC83NjRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sIHdoaWNoZXZlciBpcyBncmVhdGVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmZvcnR1bmF0ZWx5LCB0aGlzIGNhdXNlcyBidWcgIzM4MzggaW4gSUU2Lzggb25seSwgYnV0IHRoZXJlIGlzIGN1cnJlbnRseSBubyBnb29kLCBzbWFsbCB3YXkgdG8gZml4IGl0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XHJcbiAgICAgICAgICAgICAgICB9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSwgbnVsbCApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG5cclxuLy8gVGhlIG51bWJlciBvZiBlbGVtZW50cyBjb250YWluZWQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXRcclxuICAgIGpRdWVyeS5mbi5zaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZm4uYW5kU2VsZiA9IGpRdWVyeS5mbi5hZGRCYWNrO1xyXG5cclxuXHJcblxyXG5cclxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXHJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcclxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XHJcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcclxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXHJcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xyXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXHJcblxyXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxyXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXHJcbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cclxuXHJcbiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xyXG4gICAgICAgIGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIHZhclxyXG4gICAgLy8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXHJcbiAgICAgICAgX2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXHJcblxyXG4gICAgLy8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcclxuICAgICAgICBfJCA9IHdpbmRvdy4kO1xyXG5cclxuICAgIGpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XHJcbiAgICAgICAgaWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xyXG4gICAgICAgICAgICB3aW5kb3cuJCA9IF8kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcclxuICAgICAgICAgICAgd2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4galF1ZXJ5O1xyXG4gICAgfTtcclxuXHJcbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW5cclxuLy8gQU1EICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1NylcclxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxyXG4gICAgaWYgKCB0eXBlb2Ygbm9HbG9iYWwgPT09IHN0cnVuZGVmaW5lZCApIHtcclxuICAgICAgICB3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgcmV0dXJuIGpRdWVyeTtcclxuXHJcbn0pKTsiXX0=
